<!-- vim: set indentexpr=:   -->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE
    html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<head>
<title>Shlomif.org - shlomif_tech community beta</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
div.entry
{
    border: darkgreen solid medium;
    padding: 0.5em;
    margin: 0.5em;
}
a:hover { background-color: palegreen; }
</style>
<script type="text/javascript" src="../js/jq.js"></script>

</head>
<body>

<div class="entry" title="2007-04-11: Best Introductory Programming Language">

<p>
There's <a href="http://www.shlomifish.org/philosophy/computers/education/introductory-language/">a new essay on my site</a>
that discusses which programming language a non-programmer should start from.
It has been brewing for quite a while, and now I'm pretty happy with it.
</p>

<p>
Thanks to the many people who read it and gave useful commentary. The licence
is Creative Commons Attribution Licnce (CC-by) which means you can
redistribute it, modify it, make derivative works and relicense it, as long
as you give proper credit.
</p>

<p>
This was the first entry on the shlomif-tech community, and I hope you found
it useful.
</p>

</div>


<div class="entry" title="2007-05-01: People Talking on the IRC - &quot;Free Software&quot; and &quot;Open Source&quot;">

<p>
This is an IRC conversation that took place on Freenode. I am "rindolf".
</p>

<pre>
   &lt;bogdan&gt;  rindolf: so you like being selfish, eh?
   &lt;bogdan&gt;  and you wanted to find a reason to be selfish.
  &lt;rindolf&gt;  bogdan: http://xrl.us/h2kn
  &lt;rindolf&gt;  bogdan: Rand made a mistake by naming her book &quot;The virtue
             of Selfishness&quot;.
  &lt;rindolf&gt;  bogdan: she didn&#39;t mean it in the sense of &quot;Complete
             disrespect for others&quot;.
  &lt;spectei&gt;  GPL &gt; BSD
  &lt;rindolf&gt;  spectei: GPL is more selfish.
 &lt;Dianora_&gt;  BSD &gt; GPL
  &lt;rindolf&gt;  Dianora_: :-)
 &lt;Dianora_&gt;  BSD is free, GPL is not free.
  &lt;rindolf&gt;  Dianora_: not you too.
  &lt;rindolf&gt;  spectei: the BSD is free, even Stallman thinks so.
 &lt;Dianora_&gt;  The GPL is like finding a coupon for $20 for pants on the
             street, the BSDL is like finding a $20 bill on the street.
 &lt;Dianora_&gt;  I would rather have the $20 bill
  &lt;rindolf&gt;  Dianora_: please lets agree to accept Stallman&#39;s definition
             of Freedom, and call BSD-style licensed software by another
             name.
  &lt;rindolf&gt;  Dianora_: I don&#39;t see the anlogy.
 &lt;Dianora_&gt;  even esr prefers the BSDL
  &lt;rindolf&gt;  Dianora_: yes, I know.
  &lt;rindolf&gt;  That&#39;s what I use for my software.
  &lt;rindolf&gt;  If I can help it.
 &lt;Dianora_&gt;  No Stallmans version of Freedom is a political
             mis-labelling of true freedom.
  &lt;rindolf&gt;  Dianora_: I&#39;m not saying he defined freedom.
  &lt;rindolf&gt;  Dianora_: but he coined the term &quot;free softwae
 &lt;Dianora_&gt;  He can try to relabel English anyway he wants, but he is
             not taking my language from me.
 &lt;Dianora_&gt;  BAH!
  &lt;rindolf&gt;  Dianora_: but different things mean different things in
             different contexts.
  &lt;rindolf&gt;  Dianora_: you can call BSD-style software PD-software or
             whatever.
  &lt;rindolf&gt;  Dianora_: they are nutjobs.
  &lt;rindolf&gt;  But they are good people.
  &lt;rindolf&gt;  They&#39;re on our side.
 &lt;Dianora_&gt;  BSD is FREE, GPL is a restrictive license, that is NOT free
          *  rindolf is a nutjob but tries to be a good person.
  &lt;rindolf&gt;  Dianora_: fine. The GPL is not free.
  &lt;spectei&gt;  it is free software!
  &lt;rindolf&gt;  &quot;I want to be there, I want to be there&quot;.
  &lt;pnbeast&gt;  GPL is, in fact, a very non-restrictive license.
  &lt;rindolf&gt;  &quot;fine you are there.&quot;
 &lt;Dianora_&gt;  No, it is NOT free software, the GPL is a restrictive
             license. period.
  &lt;rindolf&gt;  &quot;danny! What are you doing here?&quot;
  &lt;spectei&gt;  Dianora_, it is free software as defined by the FSF
  &lt;rindolf&gt;  &quot;Here? &lt;crying&quot;
  &lt;spectei&gt;  :D
 &lt;Dianora_&gt;  it restricts your right to use that software!
  &lt;rindolf&gt;  &quot;did I say something wrong?&quot;
  &lt;spectei&gt;  Dianora_, in a good way!
  &lt;rindolf&gt;  It&#39;s from Sesame street.
 &lt;Dianora_&gt;  the FSF can label black as white and I will still not
             believe them!
  &lt;rindolf&gt;  Dianora_: the GPL is better than the MS EULA.
 &lt;Dianora_&gt;  rindolf yes ;-)
  &lt;rindolf&gt;  Dianora_: I&#39;ve contributed to GPL software, and I cannot
             improve MSIE.
  &lt;rindolf&gt;  Or windows.
 &lt;Dianora_&gt;  don&#39;t get me wrong, I use GPL software, I write in a couple
             of GPL projects, but I disagree that GPL is free.
  &lt;rindolf&gt;  Or Excel.
  &lt;rindolf&gt;  Dianora_: like I said if we want to communicate we have to
             agree on a terminology.
 &lt;Dianora_&gt;  then the GPL is just that, the GPL a restrictive license.
  &lt;pnbeast&gt;  I won&#39;t argue &quot;free&quot;, but I can&#39;t imagine how you think the
             GPL is restrictive. Can you explain that to me?
  &lt;rindolf&gt;  Most people accept the fact that free software is software
             by the FSF FS definition.
 &lt;Dianora_&gt;  no
 &lt;Dianora_&gt;  I am afraid you would be wrong
 &lt;Dianora_&gt;  available source code yes, but free? uh no. never.
  &lt;rindolf&gt;  Let&#39;s avoid the term free software.
  &lt;rindolf&gt;  Let&#39;s call it open-source.
 &lt;Dianora_&gt;  as I said, GPL is like a $20 coupon
  &lt;rindolf&gt;  Dianora_: do you think the GPL is not open-source?
 &lt;Dianora_&gt;  open-source is a good compromise.
  &lt;rindolf&gt;  Dianora_: ok.
  &lt;rindolf&gt;  Free software can also mean gratis software.
  &lt;rindolf&gt;  And the GPL is sourceware.
 &lt;Dianora_&gt;  you could have sourcecode that was not licensed to be
             changed or used by anyone else, but is available to be
             looked at
  &lt;rindolf&gt;  Dianora_: I hope you&#39;re not using qmail.
 &lt;Dianora_&gt;  in fact, everyones favourite whipping boy licenses his code
             that way.
 &lt;Dianora_&gt;  I&#39;d use qmail if it was the best tool for the job, no
             matter what I thought of djb
  &lt;spectei&gt;  opensource doesn&#39;t mean anything!
 &lt;Dianora_&gt;  Disliking a person is no reason not to use someones code.
  &lt;spectei&gt;  haha
  &lt;rindolf&gt;  Dianora_: http://www.shlomifish.org/open-source/anti/qmail/
  &lt;spectei&gt;  dan bernstein is a wacko!
 &lt;Dianora_&gt;  djb does not allow his code to be modified ;-)
  &lt;rindolf&gt;  Dianora_: I find Theo objectionable but at least OpenBSD is
             open-source.
 &lt;Dianora_&gt;  naw, I will make up my own mind thankyouverymuch.
  &lt;rindolf&gt;  So I can take it , fork it, etc.
  &lt;rindolf&gt;  Dianora_: I cannot with DJB&#39;s software.
 &lt;Dianora_&gt;  OpenBSD is open-source *FREE* code
 &lt;Dianora_&gt;  *correct* both DJB and GPL are open-source but both are
             non-free!
  &lt;rindolf&gt;  Dianora_: and I&#39;m not saying it just because I dislike DJB.
             Although due to the qmail licensing it is a problem.
  &lt;spectei&gt;  GPL is free :D
 &lt;Dianora_&gt;  gosh, you made my point for me. restricted licenses.
  &lt;rindolf&gt;  Dianora_: qmail is sourceware not opensource.
 &lt;Dianora_&gt;  naw rindolf
  &lt;rindolf&gt;  Dianora_: have you read the OSD.
  &lt;rindolf&gt;  ?
  &lt;rindolf&gt;  Or reveled source, or available source, or whatever.
 &lt;Dianora_&gt;  we both agreed that when you could look at the source, it
             was open-source no?
  &lt;rindolf&gt;  Dianora_: no.
  &lt;rindolf&gt;  Dianora_: open source is software that complies with OSD or
             the FSD.
  &lt;rindolf&gt;  Preferably both.
 &lt;Dianora_&gt;  but both GPL and DJB&#39;s license are restricted use. ;-)
  &lt;pnbeast&gt;  Come on, Dianora_, won&#39;t you define &quot;restricted&quot; for me?
 &lt;Dianora_&gt;  the OSD or FSD can call black white and I will still not
             use their definition. ;-)
  &lt;rindolf&gt;  Dianora_: yes, but the GPL is more usable than the DJB
             terms.
 &lt;Dianora_&gt;  pnbeast: you are defining it yourself.
  &lt;rindolf&gt;  Dianora_: I can fork GPLed code.
  &lt;rindolf&gt;  And I can link against an LGPLed library.
  &lt;rindolf&gt;  But I cannot fork DJB&#39;s code.
 &lt;Dianora_&gt;  rindolf: doesn&#39;t matter! it&#39;s still restricted!
  &lt;rindolf&gt;  Dianora_: it is restricted, yes.
 &lt;Dianora_&gt;  in fact
  &lt;spectei&gt;  Dianora_, bad things are restricted!
  &lt;rindolf&gt;  Dianora_: but it&#39;s not black and white.
  &lt;pnbeast&gt;  I guess that&#39;s a &quot;no&quot;.
 &lt;Dianora_&gt;  the BSDL _is_ also restricted
  &lt;spectei&gt;  closed source proprietary software is bad
 &lt;Dianora_&gt;  pnbeast: You defined it yourself
  &lt;spectei&gt;  ergo it is good that it is restricted
  &lt;spectei&gt;  one can be free and not free to poison a well
 &lt;Dianora_&gt;  GPL poisons wells
  &lt;spectei&gt;  opposite!
  &lt;spectei&gt;  it keeps software free!
 &lt;Dianora_&gt;  GPL is a virus.
  &lt;rindolf&gt;  Dianora_: Windows &lt; DJB &lt; GPL &lt; LGPL &lt; BSD
</pre>

</div>


<div class="entry" title="2007-05-16: Vim Tip: Ctrl-R % While in Command Line Mode">

<p>
I've
<a href="http://vimdoc.sourceforge.net/htmldoc/cmdline.html#c_CTRL-R">already
discussed the Ctrl-R commands in command line mode in this column</a>. Well,
I recently discovered that one can use <tt>Ctrl+R %</tt> there to enter the
filename of the currently opened file. That way if you want to save it
under a different filename (for example), you can type: <tt>:w Ctrl+R %</tt>
and then edit it.
</p>

</div>


<div class="entry" title="2007-06-18: What I Read Lately">

<p>
I started and finished reading <a href="http://www.laputan.org/mud/">the
"Big Ball of Mud" article</a>, which was recommended to me by a fellow Israeli
Perl monger. It was interesting, but a bit disappointing, and I kind-of felt
that it didn't teach me anything I hadn't already known.
</p>

<p>
I started going over the
<a href="http://search.cpan.org/dist/Catalyst-Manual/">the
Catalyst tutorial in the Catalyst-Manual section</a>, in trying to learn
Catalyst, which is a web development framework for Perl.
</p>

<p>
Today, I've also continued in reading
<a href="http://classics.mit.edu/Aristotle/categories.html">Aristotle'
"Categories"</a>, and reached the beginning of the third and final section. A
while ago I gave up on it, after I saw that its beginnign contained a lot of
"is predicated by" statements in the same sentences. However, later it becomes
more understandable and quite enlightening. Afterwards, I'd like to read
the rest of
<a href="http://plato.stanford.edu/entries/aristotle-logic/">Aristotle's
Organon</a>.
</p>

<p>
Offline, I've been reading Ayn Rand's "The Virtue of Selfishness" (which I've
been neglecting lately), "The Pragmatic Programmer", which I found to be
very interesting, and I also returned to reading some parts of
<a href="http://www.amazon.com/exec/obidos/ASIN/0380810336/ref=nosim/shlomifishhom-20/">Feeling
Good</a>.
</p>

</div>


<div class="entry" title="2007-06-25: KMail Tip: Cutting and Pasting Messages">

<p>
For a long time, I thought it was a KMail (= the KDE mail client) limitation
that it couldn't cut and paste messages. Well, as of KMail 1.9.7 (and perhaps
earlier) this was solved.
</p>

<p>
In the Edit menu, there is a Cut Messages (Alt+Ctrl+X),
Copy Messages (Alt+Ctrl+C) and Paste Messages (Alt+Ctrl+V) options that can
be used to do exactly that. That way one can easily move a few messages at
once to a different KMail window or a different mail folder, without drag and
drop.
</p>

</div>



<div class="entry" title="2007-07-01: Vim Tip: Completing Lines and Other Things">

<p>
One can use
<a href="http://vimdoc.sourceforge.net/htmldoc/insert.html#i_CTRL-X">Ctrl+X
in Vim</a> to invoke several sub-commands for auto-completion. For example,
"Ctrl+X ; Ctrl+L" completes entire line. So if you have a lot of
<tt>my $self = shift;</tt> or <tt>my ($self, $args) = @_;</tt> in your
Perl code you can start writing that line and press Ctrl+X;Ctrl+L to
fill the rest of them.
</p>

<p>
Ctrl+X;Ctrl+F completes filenames, and there are other completions like that.
I found it while reading
<a href="http://vimdoc.sourceforge.net/htmldoc/usr_24.html">usr_24
- inserting quickly</a> which contains some other tips. I also realised
that <tt>Ctrl+U</tt> cuts to the beginning of the line in vim editing,
or in Emacs or GNU Readline.
</p>

</div>


<div class="entry" title="2007-07-07: Vim Tip: Copying Some Non-Adjacent Lines to a Register">

<p>
Here's a vim tip on how to copy some non adjacent lines to a register
(<tt>"r</tt>), but first the story that made me find out about how to
do it exactly. I need to add full POD (Perl's documentation format)
coverage to a Perl module I inherited. What it means is that every
top-level function (or at least those that do not start with a "_") should
have their own entries. In Perl the function definitions goes like that:
</p>

<pre>
sub first_function {

}

sub second_function {

}

sub yet_another_function {

}
</pre>

<p>
Etc. So I thought that I could look for all the lines that start with "sub "
, collect them and append them to a register, where I'll paste them. I recalled
the
<a href="http://vimdoc.sourceforge.net/htmldoc/repeat.html#:g">:g/re/$cmd</a>
that executes a command on all lines matching a certain regex, and the fact
that I could append to a register instead of setting its value using a yank
command.
</p>

<p>
So after a little research I tried: <tt>:g/^sub /"Fyy</tt>. <tt>:g</tt>
searches for the /^sub / and invokes the command on every occurence, and
"Fyy, appends the current line to the register "f". However, as it turns out
<tt>:g</tt> executes an <b>Ex command</b>. However, fear not - after a little
research, I recalled the
<a href="http://vimdoc.sourceforge.net/htmldoc/various.html#:normal">:normal
command</a> that allows to execute normal mode commands from within the
command-line (or Ex) mode.
</p>

<p>
So the final line that works is <tt>:g/^sub /normal "Fyy</tt>. You may need
to do <tt>:let @f = ''</tt> before that to clear the "f" register.
</p>

<p>
Cheers.
</p>

</div>


<div class="entry" title="2007-07-19: Installing and Using the iterate construct in SBCL">

<p>
A few days ago I ran into some problems when I tried to install and use Common
Lisp's <a href="http://common-lisp.net/project/iterate/">iterate construct</a>
for my Mandriva <a href="http://sbcl.sourceforge.net/">SBCL</a> (= Steel Bank
Common Lisp) installation. Luckily, after I consulted the wisdom of
Freenode's #lisp channel, and an IRC buddy of mine (thanks!), I was able to
get it working. With some variations it might be useful for other Common Lisp
APIs or Lisp implementation.
</p>

<p>
So here is how to do it:
</p>

<ol>

<li>
Download iterate using <a href="http://darcs.net/">darcs</a> using the
instructions
<a href="http://common-lisp.net/project/iterate/">on this page</a>.
</li>

<li>
<p>
Add the line:
</p>

<pre>
(require 'asdf)
</pre>

<p>
at the top of your <tt>.sbclrc</tt> file, in case it's not already there. Then,
add this line somewhere after it:
</p>

<pre>
(push #P"/home/shlomi/Download/iterate/" asdf:*central-registry*)
</pre>

<p>
<tt>/home/shlomi/Download/iterate/</tt> should be the path where you downloaded
iterate.
</p>
</li>

<li>
<p>
To use iterate from your Lisp script write the following at the top:
</p>

<pre>
(asdf:oos 'asdf:load-op :iterate)
(use-package :iterate)
</pre>

<p>
(As I discovered the colon in <tt>(use-package :iterate)</tt> is
significant.)
</p>

<p>
Then you can write this to test it:
</p>

<pre>
(iter (for i from 1 to 10)
      (format t "Hello No. ~A~%" i))
</pre>
</li>
</ol>

<p>
This should hopefully work. Please comment here if you still have problems.
</p>
</div>



<div class="entry" title="2007-08-14: What I've Been Doing Lately">

<p>
Here are some of the things I've been doing lately. Recently, I've been
having a spell of tiredness and lacked the will to do anything productive.
But lately, it got somewhat better and I was able to work
on some productive tasks.
</p>

<p>
I've been learning the
<a href="http://en.wikipedia.org/wiki/Prolog">Prolog programming language</a>.
I started with
<a href="http://www.csupomona.edu/~jrfisher/www/prolog_tutorial/contents.html">this
tutorial</a>, but was dismayed from the fact it did not have exercises
involving writing code, so I switched to learning from
<a href="http://www.coli.uni-saarland.de/~kris/learn-prolog-now/">this
tutorial</a>.
</p>

<p>
I've also been doing some of the tasks from
<a href="http://projecteuler.net/">Project Euler</a>.
</p>

<p>
I originally had written a Perl script to combine the feeds of my blogs
for <a href="http://www.shlomifish.org/me/blogs/#aggregated_feeds">my
aggregated RSS feeds</a>. Originally this script executed
<a href="http://perladvent.pm.org/2006/19/">an aggregator program</a> for
every feed, which fetched the feeds from the network every time. So a few days
ago, I made sure the feeds are fetched only once, and then are combined and
outputted into the files, using one program.
</p>

<p>
However, later on, I also decided to do hard-disk cleanup, and accidently
deleted it. I restored it from the backup, but it was the copy before the
improvements. So today, I set to reproduce my actions (this time using
version control), and I think it went quicker this time.
</p>

<p>
When I gave <a href="http://www.shlomifish.org/lecture/joel-test/">my
presentation about the Joel Test</a> to the Israeli Pythoneers, I noticed that
one problem was that all the points appeared at once. So starting from
a few days ago, I customised the slidy.js JavaScript code from
<a href="http://www.w3.org/Talks/Tools/Slidy/">HTML Slidy</a> and adapted it
to my needs for the presentation, to display the points one by one. I removed
most of the functionality there and changed a lot of the rest, but with my
shallow control of JavaScript it was good to start from a working code.
<a href="http://www.getfirebug.com/">Firebug</a> was a lot of help in getting
to the bottom of the bugs I encountered.
</p>

<p>
Finally, I placed
<a href="http://www.shlomifish.org/humour/by-others/darien--everybody-is-free.html">Darien's
"Everybody's Free (to Ping Timeout)</a>
online on my homepage, after I extracted it from my web-feed aggregator. It
disappeared from the Net after the demise of Darien's blog.
</p>

</div>


<div class="entry" title="2007-08-31: Isolating a Firefox Bug">

<p>
For a long time, I had many hangups with
<a href="http://www.mozilla.com/en-US/firefox/">the open-source Firefox
browser</a>, which happened all the time, but I could not reproduce. Two weeks
ago, however, I noticed that when I was using
<a href="http://www.youtube.com/">YouTube</a>, after I opened a window
with a new video, and closed it, then Firefox freezed. I tried to reproduce it
and was consistently able to do so. So
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339">I reported
it</a>.
</p>

<p>
Then, after I tried to reproduce the bug in a new profile, I could not
reproduce the bug. So per
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339#c3">Steve
England's advice</a>, I tried to find out which extension is causing this
problem, by disabling and re-enabling them. After a lot of binary search,
I found out that
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339#c4">I
could only reproduce the problem</a> using three extensions enabled in the
original profile: Firebug,
Greasemonkey and "Split Browser".
</p>

<p>
Then <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339#c7">Oded
Arbel said he could not reproduce the problem on a clean install using my
current description</a>. And indeed
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339#c8">I could
not reproduce it on a fresh profile either</a>. So there were also some
problematic preferences.
</p>

<p>
I set out to discover it. My most likely suspect was something in the
<tt>prefs.js</tt> file, so I copied it to the new profile, and it indeed caused
the problem to re-surface there. Then I gradually removed more and more initial
settings from there, to find out the problematic ones. Each time I did a
change, I had to try and reproduce the bug. I kept some <tt>-bad-$idx</tt>  and
<tt>-good-$idx</tt> files as a poor man's version control. After spending some
time on it, I found out that the problem was with a single preference:
<tt>extensions.firebug.disabledAlways</tt>. So what was needed was installing
the three extensions and toggling this preference.
</p>

<p>
Then using this information
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=392339#c10">I
was able to reproduce the problem on my Windows XP machine</a>.
</p>

<p>
This was a hard bug to properly isolate, and it now seems very pedantic.
But it may indicate a more general problem with Firefox. I'll be grateful if
you can try to reproduce it on your Firefox setup (in a fresh profile, of
course).
</p>

</div>


<div class="entry" title="2007-09-10: Kernel Patch for make xconfig">

<p>
I wrote
<a href="http://www.uwsg.indiana.edu/hypermail/linux/kernel/0701.0/0687.html">a
patch</a> to implement a search dialog for the Linux kernel "make xconfig"
configuration applet, and sent it to the Linux kernel mailing
list (LKML) back in January. I did it because I got bit by the lack of a
search facility there and wanted to improve it. As it turned out, by the time
I submitted the patch
<a href="http://www.uwsg.indiana.edu/hypermail/linux/kernel/0701.0/0689.html">a
search dialog was already implemented</a>, but it was placed in the wrong
place in the menus, and was quite inadequate.
</p>

<p>
So I wrote
<a href="http://www.uwsg.indiana.edu/hypermail/linux/kernel/0701.1/1123.html">a
patch to relocate the menu item to "Edit" &rarr; Find</a>,
and it got accepted into the main kernel. Then I neglected working on it.
</p>

<p>
About a week ago, I started working on it again. I enhanced the find dialog
to have substring search as well as regular expression search, and made it
search through the description strings. Afterwards, I implemented keyword
search.
</p>

<p>
When trying to submit this patch to LKML, I discovered that my address
was "not liked source for email", at least according to the bounce.
(This is orobably due to
<a href="http://www.shlomifish.org/philosophy/computers/open-source/linus-torvalds-bus-factor/">this
email</a>.) I re-submitted my first patch using the shlomif-lkml@iglu.org.il
address, which would have worked if iglu.org.il was still on qmail, but since
the domain was moved to a server running postfix, caused some bounces for
people who tried to reply to me in private. Aaarrrggh!
</p>

<p>
The second version of the patch (almost final, as far as I'm concerned) was
sent from my original address, and CCed to two relevant developers, and bounced
again. I hope this issue will be addressed after the Linux kernel summit (and
posssibly linux.conf.eu) are over.
</p>

<p>
In any case, I placed
<a href="http://www.shlomifish.org/Files/files/code/kernel/xconfig-search/">the
patches I'm working on, in a temporary location</a> until they get applied.
Enjoy!
</p>

</div>


<div class="entry" title="2007-10-02: A Petition to Release MainActor as Open Source">

<p>
There's <a href="http://www.ipetitions.com/petition/mainactor/">a new
petition</a> to release MainActor, a non-linear video editing
software under an open-source software, as it will be discontinued. See
also
<a href="http://opendotdotdot.blogspot.com/2007/10/we-umbly-petition.html">this
opendotdotdot post</a>.
</p>

<p>
Please sign the petition and help spread the word.
</p>

<p>
I should note that when the vote is submitted, you end up at the donation
page, not at the list of votes. Don't worry - your vote was registered.
</p>

</div>


<div class="entry" title="2007-11-06: Greasemonkey Tip: Overriding a Global JavaScript Function">

<p>
This post will explain how to over-ride (or overwrite or replace) a global
JavaScript function found on a page with a completely new one using
<a href="http://www.greasespot.net/">Greasemonkey</a>. Also see
<a href="http://groups.google.com/group/greasemonkey-users/browse_frm/thread/9b6c33e3e3cf5bbd">this
greasemonkey-users discussion where I originally asked the question</a>.
</p>

<p>
To do that write a global JavaScript function in the Greasemonkey script
(ending with .user.js) with the same name as the page-defined JavaScript
function that you wish to override, and do the following:
</p>

<pre>
function PageFunction() {
        // SNIPPED
}

function embedFunction(s) {
document.body.appendChild(document.createElement('script')).innerHTML=s.toString().replace(/([\s\S]*?return;)
{2}([\s\S]*)}/,'$2');
}

embedFunction(PageFunction);
</pre>

<p>
<tt>embedFunction()</tt> is taken from the
<a href="http://wiki.greasespot.net/Code_snippets#Embed_a_function_in_the_current_page">"Embed a function in the Current Page" snippet</a> from the
Greasemonkey wiki.
</p>

<p>
Happy Greasemonkeying!
</p>

</div>


<div class="entry" title="2007-11-13: Building STAF on Mandriva Cooker (and other Linuxes)">

<p>
<a href="http://staf.sourceforge.net/index.php">STAF stands for "Software
Testing Automation Framework"</a> and is a framework for IBM for software
testing. I spent a large amount of the last two days trying to get it up and
running on my Mandriva Cooker Linux system, in order to fullfill
<a href="http://perl.org.il/pipermail/perl/2007-November/009250.html">this
request for a Linux beta-tester</a>.
</p>

<p>
Trying to get the binary to work with my Perl failed due to a segfault when
running it. So I opted to build it for source. I followed <a href="http://staf.sourceforge.net/current/stafdg.html">the STAF developer's guide which explains
how to build STAF</a>, but still needed a lot of trial and error.
</p>

<p>
Eventually, I installed ActivePerl-5.8 and used the following shell script,
that needs to be sourced (or "."ed) into the current shell, to build
everything. You may need to customise it a little.
</p>

<pre>
#!/bin/bash
# One needs staf to build the main things, connprov* to be able to
# run STAFProc on the local machine and perl because I needed it.
export OS_NAME=linux BUILD_TYPE=debug PROJECTS="staf connprov* perl"
export JAVA_LIBS="/usr/java/jdk1.5.0_09/" JAVA_VERSION="1.5"
export JAVA_V12_ROOT="/usr/java/jdk1.5.0_09/" JAVA_V12_LIBDIRS="/usr/java/jdk1.5.0_09/libs/"
export PERL_BUILD_V58=1
export PERL_BUILD_V56=0
export PERL_V58_ROOT="/opt/ActivePerl-5.8"
export PATH="/opt/ActivePerl-5.8/bin:$PATH"
PLIB="$PERL_V58_ROOT/lib/"
A="$PLIB/CORE"
export PERL_V58_INCLUDEDIRS="$A" PERL_V58_LIBDIRS="$A"
# This variable is completely undocumented in the relevant part of the
# STAF documentation, but with its default value it won't work correctly.
export PERL_V58_TYPEMAP="$PLIB/ExtUtils"
</pre>

<p>
After doing it, type "make". Cheers. Now I can go on with my business.
</p>
</div>


<div class="entry" title="2007-11-16: Two Linux Kernel Problems (Bugs?)">

<p>
One day, I woke up and started using my Mandriva Linux Cooker system which
I left on overnight, and noticed that I couldn't access the Internet host
hosting <a href="http://www.shlomifish.org/">my homepage</a> (which also
hosts my Email account). No POP, no HTTP - nothing. I couldn't find any way
to restore access there except reboot. Eventually, the problem repeated itself
a few times, each time involving a reboot.
</p>

<p>
Eventually, I
<a href="http://www.mail-archive.com/linux-il%40cs.huji.ac.il/msg50042.html">reported
my findings to Linux-IL</a>, but couldn't get much help there.
<a href="http://marc.info/?l=linux-netdev&amp;m=119413319809737&amp;w=2">I
asked netdev@vger.kernel.org for help</a>, and was told the problem was with
the
<a href="http://inodes.org/blog/2006/09/06/tcp-window-scaling-and-kernel-2617/">TCP
window scaling problem</a>, but doing
"echo 0 &gt; /proc/sys/net/ipv4/tcp_window_scaling" after the problem appeared
didn't solve the problem after at least 30 minutes.
</p>

<p>
Here's what I know so far about this problem:
</p>

<ol>
<li>
The IP that causes the problems is 212.143.218.31.
</li>
<li>
It is exhibited by kernels 2.6.23, 2.6.24-rc1 and 2.6.24-rc2. (At least)
</li>
<li>
A different computer on the same Home LAN connected via a NAT/router has no
problem with that IP, at the same time the Linux installation exhibits the
problem.
</li>
<li>
During one time this happened, I could connect using telnet to port 80
eventualy, but it took an awfully long time.
</li>
<li>
I have problem with both HTTP and port 80 and POP.
</li>
<li>
Restarting the network ("/etc/init.d/network restart") does not help - only a
reboot.
</li>
<li>
The network as a whole (Google, etc.) works fine.
</li>
<li>
Doing "echo 0 &gt; /proc/sys/net/ipv4/tcp_window_scaling" after the problem
appeared didn't solve the problem after at least 30 minutes.
</li>
</ol>

<p>
Now, in trying to resolve this problem, I decided to switch to my
distribution's kernel so I could at least report it in its bug tracker. So
I tried to boot my system using the new kernel and it wouldn't boot. After
a lot of experimenting and no progress, I decided to install Mandriva again
on a new kernel, so I can copy the new kernel settings and initrd. It couldn't
boot either.
</p>

<p>
So I filed <a href="http://qa.mandriva.com/show_bug.cgi?id=35432">a bug
to the Mandriva bug-tracker</a>, and have done some further investigation.
Apparently, a configuration I created for the Linus kernel, which is similar to the Mandriva config, could not boot the Linus kernel either. On the other
hand, my old config did work. So I started bisecting, and eventually
reached <a href="http://qa.mandriva.com/show_bug.cgi?id=35432#c5">this
conclusion</a>, where I have a working configuration that has some stuff as
"Y", and a non-working configuration that resembles the Mandriva one more (that
was created by toggling a "Y" option into "M" in "make xconfig").
</p>

<p>
Bug-investigation is often kind-of like
<a href="http://en.wiktionary.org/wiki/serendipity">serendipity</a> (or
rather
<a href="http://en.wikipedia.org/wiki/Whac-A-Mole#Colloquial_usage">Whack-a-mole</a>), where one discovers bugs that prevent one from further investigating
the previous bugs. At the moment, I'm still using the vanilla kernel, and am
still getting the networking problem that forces me to reboot the computer
more often than I'd like to.
</p>

<p>
If you can shed some light on any of these problems I mentioned, please
comment below - any help would be appreciated. Until then, happy, and
hopefully bug-free, computing.
</p>

</div>


<!--
* Nouveau.
+ * Archive::Zip.
    - Test::Count
        - $n=0; bug.
        - evaluating twice bug.
        - the CPAN testers failure reports.
+ * GIMP and GEGL.
-->
<div class="entry" title="2007-11-22: Recent Hacktivity">

<h2>GIMP and GEGL</h2>

<p>
I've recently decided that I'd like to give my life purpose again by working
on a large project. I decided to work on
<a href="http://www.gimp.org/">GIMP</a> again, joined its channel, and asked
how to help in porting it to the <a href="http://www.gegl.org/">GEGL</a> and
Cairo libraries. I was told that the HOWTO just involved learning the APIs
of these programs and figuring it out for yourself. So I started reading on
GEGL. As I read the GEGL homepage and API documentation, I discovered some
errors and mis-phrasings, which I reported and are now fixed in the trunk
(either by a different committer or by me.).
</p>

<p>
Next, I realised that GEGL did not have any automated tests, and decided to
work on that. For that I'd like to use
<a href="http://www.ruby-lang.org/en/">Ruby</a> and
<a href="http://testanything.org/wiki/index.php/Main_Page">TAP - the Test
Anything Protocol</a>. I have to resort to using Ruby instead of Perl because
GEGL does not have Perl bindings yet.
</p>

<h2>Archive-Zip</h2>

<p>
I recently <a href="http://use.perl.org/comments.pl?sid=37587&amp;cid=59068">asked Adam Kennedy for a co-maintainership status</a> for the
<a href="http://search.cpan.org/dist/Archive-Zip/">Archive-Zip CPAN module</a>
(so I can close its bug reports) and he kindly granted it. This enabled me
to fix and close several of its many bugs. It was sometimes time consuming
because the bugs sometimes did not have regression tests. I had to
write them myself and make sure they fail before patching and succeed
afterwards.
</p>

<p>
If you're a software enthusiast and reading it, <b>please take note for
this</b>:
when <b>reporting a bug</b> against a program, please give a full reproduction
recipe, and very preferably, a patch containing <b>an automated regression
test</b>. Otherwise, you're wasting the developer's time who has to interrogate
you, figure out the missing data or code, and why it failed for you. So
please, be kind to us, and show us the testcase!
</p>

<h2>Test-Count</h2>

<p>
While resolving an Archive-Zip bug, I had to heavily rework a test that
someone sent me. Now I had to execute a group of assertions once normally
and once with a Perl global variable ("$\" if you must know) set. So I used
the <a href="http://search.cpan.org/dist/Test-Count/">Test-Count</a>,
<tt>$n=0</tt> and then <tt>$n=$n+1</tt> paradigm (and finally added two $n
to the test count) in order to count the tests. But it didn't work, and the
script exited with a weird error. As it turned out when retrieving the value
of the variable, I checked for truth instead of whether it's not undef(),
and so failed. So I had to take a break from working on Archive-Zip and fix
Test-Count in this regard.
</p>

<p>
My Test-Count testcase, then failed again, and as it turned out it happened
because assignments were performed twice due to a weird parsing problem, which
I also fixed. After all that was done, I uploaded Test-Count-0.0103 to the
CPAN, and got a bootload of failures for it. Turns out that the specification
of the dependent modules was wrong, and I fixed it and released
Test-Count-0.0104, which
<a href="http://cpantesters.perl.org/show/Test-Count.html#Test-Count-0.0104">passed 27 times</a>
so far, while generating one "NA" with perl 5.005 for which it's not intended
anyway.
</p>

<h2>Nouveau</h2>

<p>
<a href="http://nouveau.freedesktop.org/">Nouveau</a> is an ongoing project
to create open-source UNIX drivers for Nvidia cards. I've been trying to
consistently use nouveau instead of the properietary "nvidia" or the limited
"nv" driver, but often encountered some problems that drove me back to
"nv".
</p>

<p>
The last time it happened was about a month ago when x11-server-1.4.0 was
released and caused various random rendering problems when used with Nouveau,
which were too annoying to stand. It also had other non-Nouveau-related bugs,
but these were mostly corrected by vendor patches.
</p>

<p>
So I switched to "nv" again. A few days ago, I've visited the #nouveau
channel on IRC, and was told to try Nouveau again. So I downloaded, compiled
and installed the latest Nouveau and restarted X with it, and it seems to
work fine. The rendering problems are gone, and as a bonus from previous
versions of x11-server, I'm no longer getting the visible wallpaper
tile-by-tile-redrawing that I experienced previously.
</p>

<p>
One thing I notice is that when using Nouveau, I can still
<a href="http://qa.mandriva.com/show_bug.cgi?id=14842">exhibit this bug</a>,
which exists in "nv" as well. (So it doesn't matter too much that I'm using
nouveau, in this regard.)
</p>

<p>
So nouveau works again, and I can happily beta-test it by using it daily.
</p>

</div>


<div class="entry" title="2007-11-22: Question for Ben Collins-Sussman regarding &quot;Version control and 'the 80%'&quot;">

<p>
Ben Collins-Sussman (one of the Subversion developers) wrote
<a href="http://blog.red-bean.com/sussman/?p=79">an insightful article
titled "Version Control and 'the 80%'"</a> on his blog. It received many
comments and I wanted to comment on it, too, but:
</p>

<ol>
<li>
His blog ate my comment.
</li>
<li>
When I tried to post it again, it refused to, claiming a similar comment has
already been posted.
</li>
</ol>

<p>
Given I have no choice, I'll post this comment here, and allow Ben to respond
to it. Here it is, with all of its glory:
</p>

<hr />

<p>
Nice article. However, are you sure most developers are working on Windows? Not
according to the article which I referenced
<a href="http://discuss.fogcreek.com/joelonsoftware3/default.asp?cmd=show&amp;ixPost=98232&amp;ixReplies=39">in
this Joel-on-Software discussion</a>:
</p>

<p>
"Linux is becoming the development platform of choice; for example, it is
expected that more developers will be developing on Linux than Windows by
2004;"
</p>

<p>
Also can you please add a "Preview Comment" button? I am unable to tell if my
comment is good or not because the only button I have is "Submit Comment".
</p>

<hr />

<p>
I should note that I can also recommend Ben's
<a href="http://blog.red-bean.com/sussman/?p=81">"Welcome to the Food
Chain"</a> entry, which isn't technical.
</p>

</div>


<div class="entry" title="2007-11-25: KDE 4 on Mandriva Cooker: Bring-Up and Review">

<p>
I've been meaning to try KDE 4 for a while now, and finally decided to do it
after RC 1 (The first Release Candidate) was announced lately. I decided to
install it from the Mandriva KDE 4 RPMs. As I discovered
by reading <a href="http://www.linux-tip.net/cms/content/view/325/26/">"The
Running KDE 4 on Mandriva 2008" linux-tip article</a>, installing it
involved typing "urpmi task-kde4". It failed to install the
kdebase4-workspace package and I had
<a href="http://qa.mandriva.com/show_bug.cgi?id=35757">to fix and report a
bug of it</a> (which has since been resolved in cooker), but after installing
the fixed package, and doing "urpmi task-kde4" again, I had KDE 4 installed.
By then it was too late in the night (past 1 AM) and I decided to go to sleep.
</p>

<p>
Next morning I looked for a way to start KDE from a virtual console, as I
was not using a graphical run-level (with kdm/gdm/etc.). The article did not
mention how to do it, and after a little research, I found out that it can be
done by typing "kde4" at the virtual console bash command line. This will set
up the environment apprporiately and start an X session running KDE 4.
</p>

<p>
So I had KDE 4 running. Here are my initials impressions:
</p>

<ol>

<li>
The decorations of the inactive windows were light gray, which made them
hard to distinguish. I could not find a way to change it. (I was told on IRC
that it is work in progress.)
</li>

<li>
There did not seem to be any support for
<a href="http://en.wikipedia.org/wiki/Virtual_desktop">virtual desktops</a>,
and I was also told it is work in progress.
</li>

<li>
In Konsole, there was no "New session" button at its tabs bar to start a new
tab. That seems to be a developer decision, and I discovered that I could
still start a new tab from the menus, by pressing the keyboard shortcut,
or by double-clicking on an empty space in the tabs bar.
</li>

<li>
There doesn't seem to be a way to drag items from the main menu into the
desktop or the quick-launch bar (which doesn't seem to exist) for easy
access.
</li>
</ol>

<p>
In short, it's not ready for prime time, and I could not find it usable
for my day-to-day-use. If it's a release candidate, then I'm a Jackalope.
</p>

<p>
See also <a href="http://elcuco.blogli.co.il/archives/126">Diego Iastrubni's
recent review of KDE 4</a> (in English, and with some comments).
</p>

</div>


<div class="entry" title="2007-11-30: Irreproducible Fedora 8 Wireshark Bug">

<p>
I started working at a certain workplace downtown, at least temporarily. There
I was instructed to set up a <a href="http://fedoraproject.org/">Fedora</a> 8
system (Fedora, being the Red Hat-endorsed community distribution)
with some networking services,  including
<a href="http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP
(Internet Mail)</a>. The installation and post-install configuration of
Fedora there, went pretty flawlessly, but then I encountered an annoying
bug when trying to monitor the SMTP traffic. Apparently, when using
<a href="http://www.wireshark.org/">Wireshark</a> the recorded SMTP
conversations on eth0 only have one side of the conversation, with the other
side completely removed. Here's what I found out about it:
</p>

<ol>

<li>
HTTP conversations are recorded fine.
</li>

<li>
It still happens with iptables being cancelled completely (all ACCEPT), and
with SELinux set to permissive.
</li>

<li>
It happens with all current Fedora 8 updates, including the most up-to-date
kernel, applied.
</li>

<li>
It happens with the Wireshark filter set to empty ones, which should accept
all traffic.
</li>

<li>
It happens with both the Fedora supplied Wireshark, and a Wireshark that
I compiled from source and installed under a different prefix.
</li>

<li>
The traffic originates from a remote computer on the same Ethernet network.
putty which is used for the conversation, indicates that the SMTP server
has properly received the messages I sent it, and that packets were sent
in both directions.
</li>

</ol>

<p>
Now I've tried to reproduce the problem here on my home machine, so I installed
Fedora 8. At home, however, everything works perfectly. Grrrr...
</p>

<p>
This has been driving me crazy because it makes it much more difficult to
debug the SMTP service. If anyone has any idea to what could be wrong, please
comment here.
</p>

<p>
This has given me a chance to try Fedora again. The first problem I noticed
(at home - at work it was OK) was that I didn't have external networking.
Apparently, the <tt>/etc/init.d/network</tt> script was not placed in
the rc5.d scripts for some reason. Running <tt>/etc/init.d/network start</tt>
from the command line and using <tt>system-control-services</tt> fixed it.
</p>

<p>
I noticed that I could mount XFS partitions, and was able to configure the
same /home partition (with the same user) as my Mandriva installation. However,
using the Mandriva configuration, Konqueror would just display the code of
an HTML page, instead of rendering it. Plus, when I booted the Mandriva system
again, I noticed that my KDE screen was a little messed up, and I had to
restore its configuration directory from the backup I prepared before
installing Fedora. I guess <tt>$HOME/.kde/share/config</tt> was not intended
to be shared like that between Mandriva and Fedora.
</p>

<p>
One thing that has improved is the support for .mp3's in Amarok. I recall
being completely unable to play them properly there using the xine backend,
but now it worked after I installed the relevant package as specified in
the <a href="http://www.fedorafaq.org/">Fedora FAQ</a>.
</p>

<p>
At home, I installed Fedora 8 from the Fedora Live KDE CD, so it is possible
some of the problems I encountered will not be encountered if one uses the
installation DVD.
</p>

</div>


<div class="entry" title="2007-12-15: First Impressions from Archlinux">

<!--
Tags: first, impressions, impression, review, linux, arch, archlinux, user friendly, distribution, mandriva

-->

<p>
I've been meaning to try out <a href="http://www.archlinux.org/">the
Archlinux Linux distribution</a>
for a long time now. During the previous weekend I finally dedicated some
time to installing it. Here are my first impressions.
</p>

<p>
The first thing I noticed was that the installation procedure is rather
text based and not very friendly. I didn't want to risk it formatting my
common <tt>/home</tt> partition so I eventually opted to configure it
after the installation. I had to run the installer twice in order to set
a bootloader, so I can tell how to boot Archlinux properly using the bootloader
on the Mandriva parition. I wanted to configure the Mandriva bootloader using
the files on the Arch partition but couldn't figure out where is the kernel
and initrd. Apparently, it keeps the kernel under <tt>/boot/vmlinuz26</tt>
and the initrd under <tt>kernel26.img</tt>. Moreover, the <tt>mkinitrd</tt>
program is called <tt>mkinitcpio</tt> there.
</p>

<p>
After being able to boot arch, I noticed that my networking was not configured
properly, despite the fact I use DHCP for this computer. I opted to configure
it manually using <tt>ifconfig</tt> and <tt>route</tt>, but I was later told
I can add <tt>eth0=(dhcp)</tt> in the appropriate place in
<tt>/etc/rc.conf</tt>. This would enable DHCP after you do
<tt>/etc/rc.d/network restart</tt>.
</p>

<p>
Arch also configured my clock improperly and I had to set the timezone and
clock settings manually:
</p>

<pre>
HARDWARECLOCK="UTC"
TIMEZONE="Asia/Tel_Aviv"
</pre>

<p>
The time was still wrong, and remained so until I installed and ran ntpdate
manually. The documentation on the NTP protocol on the wiki is confusing,
and I have yet to figure out how to do it on system startup.
</p>

<p>
Then it took me a long time to figure out Pacman, the Archlinux package
manager. As I was later told, it has
<a href="http://wiki.archlinux.org/index.php/Pacman">a good cheat-sheet on
the Archlinux wiki</a>. If you're going to install Arch, I suggest reading
it and then keeping it handy on the hard disk in a plain text, because you'll
need it, and without it you won't be able to install anything.
</p>

<p>
I needed the help of the #archlinux IRC channel on Freenode on how to
install X and a usable environment. You can install it using
<tt>pacman -S xorg</tt>, and then <tt>pacman -S xf86-video-nv</tt> (or whatever
is your video card), and then <tt>pacman -S icewm</tt> to install IceWM (or
whatever). To install KDE you are better off configuring and using
<a href="http://kdemod.ath.cx/">KDEmod</a> than the built-in KDE and there
are instructions how to do it on their site.
</p>

<p>
I still don't know how to do a few things in Archlinux. One is how to
search for files inside remote packages (like <tt>urpmf</tt> on Mandriva
or <tt>apt-file</tt> on Debian/Ubuntu). And it seems that mplayer, xine (and
thus - Amarok) don't support playing
<a href="http://en.wikipedia.org/wiki/Module_file">Module files</a>, because
support for them has been configured out during compile time, which is a bit
annoying.
</p>

<p>
I was able to share my /home partition and my user between Mandriva and Arch
pretty easily. My KDE exhibited a few problems on Mandriva, after using it
with Arch, so it may not be very recommended to do so. Archlinux keeps KDE
under <tt>/opt/kde</tt>, which could cause incompatibilies with the
Mandriva <tt>/usr</tt>-bound KDE.
</p>

<p>
As a general rule, Archlinux gave me a rather "raw" and non-user-friendly
feeling, so I didn't end up using it a lot after the installation. I wouldn't
recommend it for beginners because hardly anything works there out of the
box. Still, installing it was a good experience so I can see things being
done a little differently than I'm used to.
</p>

</div>


<div class="entry" title="2007-12-26: Israeli Perl Workshop Next Week">

<p>
This is a reminder that <a href="http://act.perl.org.il/ilpw2007/">Israeli Perl
Workshop for 2007</a> will take place next week on Monday, 31 Decemeber 2007.
If you're planning to attend, please register at the site, and make the
payment.
</p>

<p>
I already registered and am planning to be there, and I'll hope to see any
Perl enthusiasts I know, and those who would like to meet me, there too.
</p>

<p>
Happy new year!
</p>

</div>


<div class="entry" title="2007-12-29: ssh Tip: Customising hosts with the &quot;Host&quot; directive">

<!--
Tags: ssh, openssh, tip, remote, access, customise, customize, host, diego, iastrubni
-->

<p>
The <tt>~/.ssh/config</tt> accepts the <tt>Host</tt> meta-configuration that
enables one to specify directives for only a specific host. With the
<tt>HostName</tt> directigve, and the <tt>User</tt> directive this allows
defining shortcuts and defaults. For example, this portion out of my file:
</p>

<pre>
Host berlios

HostName shell.berlios.de
User shlomif
</pre>

<p>
Specifies that by doing "<tt>ssh berlios</tt>" I'll login to
<tt>shell.berlios.de</tt> as the user <tt>shlomif</tt> (in equivalence to
<tt>ssh shlomif@shell.berlios.de</tt>).
</p>

<p>
One use I can think of for this feature is to define a common destination,
with variable remote usernames, in uploading scripts. Until now, I've used
something like: <tt>${IGLU_USERNAME:-$(whoami)}@iglu.org.il:</tt>, which
retrieved the value of the <tt>$IGLU_USERNAME</tt> and defaulted to the
local user. However, now one can simply use <tt>iglu.org.il:</tt> or
<tt>mytask.iglu.org.il:</tt> and define the appropriate user in the ssh
config file.
</p>

<p>
Credit is due to a
<a href="http://elcuco.blogli.co.il/archives/132">blog post by Diego
Iastrubni</a>, where he blogged about this feature. Thanks, Diego!
</p>

</div>


<div class="entry" title="2007-12-30: Interesting Links to Software Projects (as spotted on Freshmeat.net)">

<!--
Tags: software, projects, recommendations, gimp, subversion, svn, search, open source, foss, floss, yudit, unicode, text, editor, clipart, burgerspace, games, portability, library, mmorpg, deliantra, perl, the mana world
-->

<p>
I found the following projects which I found of interest to me by reading
the new <a href="http://freshemeat.net/">Freshmeat.net</a> releases. I'd like
to share them here:
</p>

<ol>

<li>
<a href="http://www.gimphelp.org/script24.shtml">GIMP Scripts that work in
GIMP-2.4</a> - forward-ported scripts for GIMP-2.4.
</li>

<li>
<a href="http://supose.soebes.de/">An Open-Source Search Engine for Subversion
Repositories</a> - seems to be very useful in some contexts. I submitted
<a href="http://svn.haxx.se/dev/archive-2007-12/0830.shtml">a patch to add
it to the Subversion links' page</a>.
</li>

<li>
<a href="http://freshmeat.net/projects/visionproject/">VisionProject -
a non-free issue tracking/project collaboration tool with Subversion
integration</a>. It may also be appropriate to add it to the links page.
</li>

<li>
<p>
<a href="http://freshmeat.net/projects/yudit/">Yudit -
a Unicode text editor for X-Windows</a> - a Unicode text editor with
Bi-directionality support that I seem to have missed. When trying to
input Hebrew with it, I'm getting the 4-digit-hex-representations and not
the letters themselves - I'm probably missing a font. Furthermore, my
<a href="http://en.wikipedia.org/wiki/Compose_key">compose key</a> doesn't
work there and so I cannot input accented characters. It has no menu - only a
toolbar, and the right mouse button does the same operation as the left mouse
button.
</p>

<p>
Still, after I sort
out all the problems with it, it may prove as a good alternative to KDE's
KEdit and to
<a href="http://www.arabeyes.org/project.php?proj=Katoob">Katoob</a>.
</li>

<li>
<a href="http://freshmeat.net/projects/wpclipart/">WP Clipart</a> is a
public domain, bitmap-based clipart that looks interesting.
</li>

<li>
<a href="http://freshmeat.net/projects/burgerspace/">BurgerSpace</a> is a clone
of a game I used to play on DOS. Trying to play it with the version in Mandriva
Cooker, I found that after a while I could no longer throw pepper to attack
the enemies, even after I died. But I didn't know if it was a bug or a feature.
</li>

<li>
<a href="http://freshmeat.net/projects/crisscross/">CrissCross is another
C++ portability library</a>
</li>

<li>
<a href="http://freshmeat.net/projects/deliantra/">Deliantra is an
open-source Multi-player Online Role-Playing Game (MORPG)</a>. One interesting
fact about it is that it's partly written in Perl. I did not test it yet
because I'm not using the proprietary nvidia drivers.
</li>

<li>
Another MMORPG is <a href="http://freshmeat.net/projects/tmw/">The
Mana World</a>, which doesn't require OpenGL or 3-D acceleration. I
temporarily gave up on installing it after running into one of its
dependencies.
</li>

</ol>

<p>
Enjoy!
</p>

</div>


<div class="entry" title="2008-01-06: Amarok Tip: Playing an Arbitrary Last.fm Tag + Hex-a-Hop">

<!-- Tags: tip, amarok, last.fm, recommendations, game, hex-a-hop, tag, genre -->
<p>
In continuation to <a href="http://shlomif.livejournal.com/50107.html">my
previous entry about Amarok and Last.fm integration</a>, I found
<a href="http://bugs.kde.org/show_bug.cgi?id=147546">this bug entry
regarding the main problem with it that bothers me</a>, and I commented
about it and re-opened it. A net-friend who checked it got different results,
and commented as well.
</p>

<p>
One thing I noticed about the Last.fm player is that it allows one to play
any arbitrary Last.fm tag, while Amarok only has a set of pre-defined tags
for common music genres in its GUI. However, after experimenting with "dcop" I
found out one can enqueue any arbitrary Last.fm tag using the following shell
script:
</p>

<pre>
#!/bin/bash
tag="$1"
shift
dcop amarok playlist addMedia "lastfm://globaltags/${tag}"
</pre>

<p>
To use it save as "lasttfm-amarok-tag", make it executable (<tt>chmod +x</tt>)
and do <tt>./lastfm-amarok-tag "new age"</tt> to play the "new age" tag. You
can also type a command line like
<tt>dcop amarok playlist addMedia "lastfm://globaltags/reggae"</tt> directly
from the command line, but that's not very convenient.
</p>

<p>
And finally, here's a recommendation for a puzzle game I saw
<a href="http://freegamer.blogspot.com/2008/01/making-sounds-building-models-playing.html">mentioned
on the Free Gamer blog</a>:
<a href="http://packages.debian.org/lenny/hex-a-hop">Hex-a-Hop</a>. I was
able to easily compile it on my Mandriva Cooker system, and played it, and it's
very nice.
</p>

</div>


<div class="entry" title="2008-01-07: How Idiots (Don't) Isolate Bugs">

<!-- Tags: bug, bugs, kernel, linux, GIGO, lion in the desert, bisecting, garbage in - garbage out, dot-config, self-idiocy -->

<p>
This story has two lessons. The first is that I'm an idiot, but I guess we
all already knew that. I'm not going to tell the second one, but it will
be available under a headline, in case you want to skip. But let's start with
the beginning.
</p>

<h2>The Bug</h2>

<p>
It's all started when I did my backup yesterday, converted it into a CD-ROM
image (an <tt>.iso</tt> file) and so used
<a href="http://fy.chalmers.se/~appro/linux/DVD+RW/">growisofs</a>. But when
running it, it completely hogged my system, causing the Amarok music playback
to be flaky, and making everything more sluggish. It didn't happen before, so
after
<a href="http://www.mail-archive.com/linux-il%40cs.huji.ac.il/msg50709.html">reporting
this bug to the Linux-IL mailing list</a>, I decided to investigate.
</p>

<p>
I went on the IRC's #kernelnewbies channel, and someone told me that since
it worked before, I should start from a working kernel and bisect it. And
indeed trying the 2.6.23 kernel made the problem disappear. So I decided
to <a href="http://en.wikipedia.org/wiki/Bisection_method">bisect</a> the
kernels in between to try where the problem occured first.
</p>

<h2>Bisecting using git</h2>

<p>
The history of the Linux kernel is versioned using the git version control
system. Searching for "git kernel"
yielded <a href="http://linux.yyz.us/git-howto.html">the "Kernel Hackers' Guide
to Git"</a>, which I've skimmed, and found that I should start by typing this
in the command line:
</p>

<pre>
git-clone git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git linux-2.6</tt> in the command line.
</pre>

<p>
Note that one cannot effectively interrupt this command without needing
to start at the beginning, so be prepared to wait a while. (I had to wait
for it to finish before I could reboot to test another kernel).
</p>

<p>
Similarly one can use <tt>git-clone linux-2.6 new-lin-2.6</tt> to clone the
repository on the hard-disk, which also proved to be useful in order to build
the latest kernel I used to see if I could still reproduce the problem there.
</p>

<p>
Then I was told to used <a href="http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html">git bisect</a> to bisect the kernel. (The "lion in the
desert" method). Read the link for usage information. I copied my
<tt>/boot/config-2.6.23</tt> kernel configuration file to <tt>.config</tt> in
the top-kernel-dir, and ran "make oldconfig" on it. From then on, I used "make
oldconfig" on the new kernels, while pressing Enter all the time to accept
the defaults (also doable with <tt>yes "" | make oldconfig</tt>).
</p>

<p>
This way, I built one kernel after another while rebooting to test each one.
As I discovered in the middle of the 2.6.24, something went wrong, and one
could no longer run "make modules" in the kernel source tree, so I often
had to reboot to a safer kernel. This also slowed me down, but it was resolved
since before -rc6.
</p>

<h2>All Good is No Good</h2>

<p>
As it turned out, every kernel I built except the <tt>2.6.24-rc6</tt> kernel
which exhibited the bug in the first place, did not exhibit the bug (and
marked by me and git as "good"). Eventually
I ended up with the last patchset reported to be the problem, but it only
contained a change of the EXTRAVERSION from "-rc5" to "-rc6" in the top-level
makefile. I couldn't understand why it should make so much difference.
</p>

<p>
So what was the problem? As I discovered later, the v2.6.23 configuration, on
which the configurations of most of the kernels I built were based, was
slightly different than the one I had for v2.6.24-rc6, and this is what made it
work. I originally made the changes to investigate
<a href="http://community.livejournal.com/shlomif_tech/3938.html">a
different bug</a> (where I tried to boot my system using a kernel with a
configuration similar to the Mandriva one), and they persisted in the further
kernels.
</p>

<p>
After changing the kernels (including the old ones) to the new configuration,
I was able to reproduce the problem in all of them. So it was a bug with
my kernel configurations and not with the history.
</p>

<h2>The Second Lesson of this Story</h2>

<p>
So the second lesson is that if you're going to bisect kernels make sure you
have the same configuration or one that is derived from the other one.
Otherwise, the kernels may behave differently.
</p>

<h2>What I Achieved</h2>

<p>
So what did I achieve?
</p>

<ol>

<li>
I learned more about the git version control system, and how to use it. I
could use the knowledge in the future.
</li>

<li>
I now have 32 entries in my boot-loader menu.
</li>

<li>
I rebooted my machine 25 times. That's the most I've done in such a short
period since I've encountered the problems with my ReiserFS partition back
when I started using Linux Mandrake (now Mandriva Linux) 7.1.
</li>

<li>
I was pratically neutralised throughout all this time. I was able to send
some emails, and chat a bit on the IRC, but I was mostly waiting for kernels
to finish compiling.
</li>

<li>
<p>
I discovered that this kernel configuration diff has been the root of the
problem
</p>

<pre>
--- config-ok	2008-01-07 20:53:30.698008159 +0200
+++ config-not-ok	2008-01-07 23:13:17.894346993 +0200
@@ -1,7 +1,7 @@
 #
 # Automatically generated make config: don't edit
-# Linux kernel version: 2.6.24-rc5
-# Mon Jan  7 16:37:58 2008
+# Linux kernel version: 2.6.24-rc6
+# Mon Jan  7 13:19:02 2008
 #
 # CONFIG_64BIT is not set
 CONFIG_X86_32=y
@@ -621,34 +621,31 @@
 CONFIG_BLK_DEV_RZ1000=m
 CONFIG_BLK_DEV_IDEDMA_PCI=y
 CONFIG_BLK_DEV_AEC62XX=m
-CONFIG_BLK_DEV_ALI15X3=y
-# CONFIG_WDC_ALI15X3 is not set
-CONFIG_BLK_DEV_AMD74XX=y
+# CONFIG_BLK_DEV_ALI15X3 is not set
+# CONFIG_BLK_DEV_AMD74XX is not set
 # CONFIG_BLK_DEV_ATIIXP is not set
-CONFIG_BLK_DEV_CMD64X=y
+# CONFIG_BLK_DEV_CMD64X is not set
 CONFIG_BLK_DEV_TRIFLEX=m
 # CONFIG_BLK_DEV_CY82C693 is not set
 # CONFIG_BLK_DEV_CS5520 is not set
 CONFIG_BLK_DEV_CS5530=m
 # CONFIG_BLK_DEV_CS5535 is not set
-CONFIG_BLK_DEV_HPT34X=y
-# CONFIG_HPT34X_AUTODMA is not set
-CONFIG_BLK_DEV_HPT366=y
+# CONFIG_BLK_DEV_HPT34X is not set
+# CONFIG_BLK_DEV_HPT366 is not set
 # CONFIG_BLK_DEV_JMICRON is not set
 CONFIG_BLK_DEV_SC1200=m
-CONFIG_BLK_DEV_PIIX=y
+CONFIG_BLK_DEV_PIIX=m
 # CONFIG_BLK_DEV_IT8213 is not set
 # CONFIG_BLK_DEV_IT821X is not set
 # CONFIG_BLK_DEV_NS87415 is not set
-CONFIG_BLK_DEV_PDC202XX_OLD=y
-# CONFIG_PDC202XX_BURST is not set
-CONFIG_BLK_DEV_PDC202XX_NEW=y
-CONFIG_BLK_DEV_SVWKS=y
-CONFIG_BLK_DEV_SIIMAGE=y
-CONFIG_BLK_DEV_SIS5513=y
+# CONFIG_BLK_DEV_PDC202XX_OLD is not set
+# CONFIG_BLK_DEV_PDC202XX_NEW is not set
+# CONFIG_BLK_DEV_SVWKS is not set
+# CONFIG_BLK_DEV_SIIMAGE is not set
+# CONFIG_BLK_DEV_SIS5513 is not set
 CONFIG_BLK_DEV_SLC90E66=m
 CONFIG_BLK_DEV_TRM290=m
-CONFIG_BLK_DEV_VIA82CXXX=y
+# CONFIG_BLK_DEV_VIA82CXXX is not set
 # CONFIG_BLK_DEV_TC86C001 is not set
 # CONFIG_IDE_ARM is not set
</pre>
</li>

<li>
Hopefully I found a way to overcome the bug. Now that I've upgraded to kernel
version 2.6.24-rc7 (<a href="http://lwn.net/Articles/264044/">which was
released today</a>), I based my configuration on the one that doesn't exhibit
the bug, and will test it to see if that's indeed the case.
</li>

<li>
And like I said earlier, I realised I am an idiot, which is the first step
on the path to enlightenment.
</li>
</ol>

<p>
So mission accomplished? I guess so. Paul Graham said <a
href="http://www.paulgraham.com/hs.html">in What You'll Wish You'd Known</a>
that one is happy when being relieved after overcoming worries, and I feel
very much relieved now, so I guess I'm happy. I also feel a kind-of-calmness.
</p>

<p>
Here's to a bug-less and flaw-less use of your favourite open-source operating
system. Well, at least we can hope.
</p>

</div>


<div class="entry" title="2008-01-09: Linux Tip: Playing Sound with Different Users You've su'ed to in Mandriva">

<!-- Tags: tip, sound, audio, group, mandriva, su, linux, users, user, different, rpm, dependencies, exceptions, requires, exclude-->

<p>
In order to play sound / audio on your Mandriva (and possibly other
Linux flavours) system, after being logged
in an X session with one user, and you've su'ed to a different (also possibly
under-privileged) user in the shell, do the following. Just add all the users
that should be able to play sound at all times to the "audio" UNIX group
in the "/etc/group" file (as root, of course). Then, you may have to run
"sg" or "newgrp" for these changes to take effect globally.
</p>

<p>
Then you can play sound as all the users you've su'ed to that belong to
the "audio" group. Also see
<a href="http://archives.mandrivalinux.com/cooker/2008-01/msg00311.php">this
thread in the Mandriva Cooker mailing list</a>, where I asked the question
originally.
</p>

<p>
And a more obscure and less useful tip: to exclude dependencies ("requires")
on different RPMs (that are calculated implicitly) when editing an Mandriva
SPEC use a statement like that:
</p>

<pre>
%define _requires_exceptions /bin/zsh /bin/csh
</pre>

<p>
There's an example of this in <a href="http://svn.mandriva.com/cgi-bin/viewvc.cgi/packages/cooker/xemacs/current/SPECS/xemacs.spec?revision=139480&amp;view=markup">the Mandriva xemacs spec</a>.
</p>

</div>


<div class="entry" title="2008-01-23: Follow-up and New Summary of my Linux Networking Problem">

<!-- Tags: followup, linux, summary, networking, problems, www.shlomifish.org, ethernet, tcp, ip, internet, strange, problem, bugs -->

<p>
As a follow-up to
<a href="http://community.livejournal.com/shlomif_tech/3938.html">my previous
post about a networking problem I've encountered on my Linux box</a> I'd like
to make a follow-up and re-summarise all the currently available information.
</p>

<p>
Someone suggested the problem may be caused due to a bad Ethernet card, so
I borrowed an Intel Ethernet card, replaced my Ethernet card with it, and tried
it for a few days. After keeping the computer on for a while, it started
exhibiting similar problems as the old one: no connectivity to the host of
<tt>www.shlomifish.org</tt>, bad connectivity to Google, etc. Solvable only
after a reboot.
</p>

<p>
I've uploaded <a href="http://freehackers.org/~shlomif/files/files/www.sf.org-conn-problem/">Wireshark pcap dumps of a
"lynx http://www.shlomifish.org/" command from both cards</a> before and after
the problem is exhibited.
</p>

<p>
So here's what I know now:
</p>

<ol>
<li>
The symptom is that after the computer is on for a while (two days or so), one
cannot connect using TCP to some hosts, and the connection times out.
</li>
<li>
The IP that causes the problems is 212.143.218.31, but it also affects
www.google.com and possibly other hosts.
</li>
<li>
It is exhibited by kernels 2.6.23, 2.6.24-rc1 and 2.6.24-rc2
and 2.6.24-rc8. (At least)
</li>
<li>
A different computer on the same Home LAN connected via a NAT/router has no
problem with that IP, at the same time the machine running Linux exhibits the
problem.
</li>
<li>
During one time this happened, I could connect using telnet to port 80
eventualy, but it took an awfully long time.
</li>
<li>
I have problem with both HTTP and port 80, POP and SSH.
</li>
<li>
Restarting the network ("/etc/init.d/network restart") does not help - only a
reboot.
</li>
<li>
Some other hosts in the network, like Yahoo work fine.
</li>
<li>
Doing "echo 0 &gt; /proc/sys/net/ipv4/tcp_window_scaling" after the problem
appeared didn't solve the problem after at least 30 minutes.
</li>
<li>
The problem is exhibited by both a RealTek card I have and an Intel Ethernet
card. (both 100 Mbps).
</li>
<li>
<a href="http://freehackers.org/~shlomif/files/files/www.sf.org-conn-problem/">pcap
dumps of an HTTP connection to the offending site</a> before and after the
problem occurs are available for both cards.
</li>
<li>
I can't ping www.shlomifish.org, because it doesn't answer to pings at all,
but when the problem occurs again, I can try pinging www.google.com and see
what happens.
</li>
<li>

<p>
iptables is completely off:
</p>

<pre>
[root@telaviv1 ~]# iptables -L
Chain INPUT (policy ACCEPT)
target     prot opt source               destination

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
</pre>

</li>
<li>
My household is connected to the Internet through a Sweex NAT/Router
<a href="http://www.sweex.com/producten.php?sectie=&amp;subsectie=&amp;item=80&amp;artikel=892&amp;detail=d">that doesn't have any updates yet</a>.
</li>
<li>
<a href="http://community.livejournal.com/shlomif_tech/3938.html?thread=3170#t3170">Quoting srlamb</a>:

<blockquote>
<p>
The difference in these two packet captures seems to be that in the "bad" case,
the www.shlomifish.org-&gt;you packets have a bad checksum and are ignored
(see it
retrying the SYN after it's already gotten a SYN/ACK?). I don't know why this
would be, but it seems worthy of mention to the mailing lists you are asking
for help.
</p>
</blockquote>
</li>
</ol>

<p>
Some extra discussion can be found at
<a href="http://community.livejournal.com/shlomif_tech/3938.html">the previous
entry</a>.
</p>

</div>


<div class="entry" title="2008-02-10: An Evening of Technical Frustrations">

<!--Tags: practical, common lisp, frustrations, frustrated, ruby, book, pick axe, video, flash -->

<p>
This evening, after I returned from work, I decided to further my studies
of unknown programming languages. The first thing I tried to do was to play
the
<a href="http://video.google.com/videoplay?docid=448441135356213813">Practical
Common Lisp</a> video that I downloaded. However, neither mplayer nor xine
could play it due to a missing codec. It worked fine a few days ago, so I
don't know what's wrong yet (but I intend to find out in the future).
</p>

<p>
Then I decided to go over <a href="http://www.rubycentral.com/pickaxe/">Pick
Axe Book</a> instead, but as it turns out, at the time of this writing all the
chapters give a "File Not Found" error.
</p>

<p>
Then I decided to watch the "Practical Common Lisp" video this time online
using the Flash applet. However, towards the start, I pressed the "More" links
in the related videos frame, and instead of a nice AJAXy thing, I ended up
overwriting the current page. As a result, the video had to be reloaded from
the beginning, and I could not skip and load the middle of it.
</p>

<p>
So I feel a bit frustrated from all these things going wrong. Luckily, I
jogged on the way back from work, and so felt more calm and relaxed
previously. I still hope to do some programming languages-related learning
this evening, but it will have to be something else than what I tried so far.
</p>

</div>


<div class="entry" title="2008-02-16: Fixing KDE Multimedia Apps">

<!-- Tags: amarok, noatun, kaffeine, postgresql, sqlite, kde, multimedia, media, audio, video
-->

<p>
A few days ago I noticed that some operations in
<a href="http://amarok.kde.org/">the Amarok music player</a> became very
sluggish. For example, the track switching took a very long time. I recalled
that something like that happened some months ago, at which point I ended up
renaming away the KDE base directory (<tt>$HOME/.kde/share/apps/amarok/</tt>)
which solved it. This time per advice from someone on the #amarok IRC channel,
I simply moved away the SQLite <tt>collection.db</tt> file. After the
database was re-populated, the sluggishness indeed disappeared.
</p>

<p>
However, I wanted to solve the problem permanently without having to keep
resetting the database. So I decided to switch to a PostgreSQL backend,
which hopefully won't get congested. As it turns out, if you can select in
"Settings &rarr; Configure Amarok &rarr;
Collection &rarr; Collection Database" PostgreSQL or MySQL, then they
are supported. So I created a database, set up a user for it and set up
Amarok accordingly. If it's not supported on your system, you may wish to
consult <a href="http://amarok.kde.org/wiki/Download:Mandriva">this page
for Mandriva and Amarok on the Amarok wiki</a> and similar pages there for
other distributions.
</p>

<p>
I also had a long-standing problem that when I double-clicked a video file, it
tried to load it using Noatun, which
<a href="http://bugs.kde.org/show_bug.cgi?id=76038">caused
artsd to crash</a>. As someone on #mandriva-cooker told me, Noatun was no
longer maintained, and I should use
<a href="http://kaffeine.kde.org/">Kaffeine</a> instead. So a few urpmi
commands later, and after tweaking the file types, Kaffeine played my
video files beautifully.
</p>

<p>
I hope you found this entry useful or at least a bit interesting.
</p>

</div>


<div class="entry" title="2008-02-19: Tip: Recording TCP Sessions to a File Using tcpdump">

<!--
Tags: tip, tcpdump, pcap, libpcap, packets, tcp, ip, record, recording, capturing, conversations, sessions
-->

<p>
Using tcpdump to record TCP sessions (or conversations) to a file, use the
following command (as
root or a privileged user):
</p>

<pre>
tcpdump -w dump-file.pcap 'host 212.143.218.31'
</pre>

<p>
Replace the <tt>'hsot 212.143.218.31'</tt> with any tcpdump filter. Then
you can run "wireshark" on the <tt>dump-file.pcap</tt> file. Note that I got
incomplete results when I tried it now on my home machine and would love
to be further enlightened.
</p>

</div>


<div class="entry" title="2008-02-20: Review of KDE 4.0.1 on Mandriva Cooker">

<!-- Tags: review, kde, kde 4, Amarok, icons, 4.0.1, Mandriva, Linux, desktop, virtual desktops -->

<p>
I last <a href="http://community.livejournal.com/shlomif_tech/4667.html">took
a look at KDE 4</a> three months ago. Since then, KDE-4.0.0 and KDE-4.0.1 had
been released. Yesterday, an IRC pal of mine said he was informed us he
was going to compile KDE-4.0.1 on his Gentoo system and test it. This prompted
me to take another look at KDE-4.0 to see if and how much it improved since
my last review. I am writing this report on KDE 4.
</p>

<p>
As I discovered (possibly again) to run KDE 4 one needs to run kde4env
from the command line, and then type startx. Running it inside the
.xinitrc/.Xclients file is not enough.
</p>

<p>
The first thing I noticed is that double-clicking the icons on
the desktop does nothing, nor could I find any other way to invoke them.
It's probably a bug. On the other hand, one can resize the icons, which
is a pretty nifty effect. So you can have large or small (but useless)
icons.
</p>

<p>
Moreover, when browsing the file system using Konqueror, I couldn't find
the tree-view, which was one of my favourite views. I don't know if it was
removed deliberately, or is still not implemented.
</p>

<p>
The Amarok progress bar of a song does not advance. It used to happen with
videos, but now it happens with .mp3s and .oggs too. Amarok still doesn't
display the visual part of videos. I thought it was supposed to be added
in this version, but perhaps I had a mis-conception. Plus, I could not
drag-and-drop files from Konqueror to its playlist, and Amarok doesn't
enqueue a new double-clicked .mp3 file after it got opened by the first
double-clicked file. Today I discovered one can double click files in the
Amarok file-browser to open them, which makes it somewhat more usable.
</p>

<p>
One should note that Amarok 2.0 (the KDE 4.0 version) is pre-Alpha, so
such bugs are expected, and the developers have asked not to report bugs.
</p>

<p>
KMPlayer seems to play the videos I double-clicked on fine.
</p>

<p>
On my setup none of the Alt+Tab, Ctrl+Tab, Alt+Space and Alt+F4 keyboard
shortcuts worked, and the keyboard shortcuts applet in the configuration
centre did not display anything.
</p>

<p>
In KDE 4.0.1, the taskbar displays applications from all virtual desktops.
Moreover, I could not configure it to behave otherwise, because the
right-click on the taskbar does not work. I was told I'll have to wait
for KDE 4.0.2 for that.
</p>

<p>
The fonts in gtk+ applications in KDE 4 seems smaller than usual for
some reason, which is a bit annoying.
</p>

<p>
In short, KDE 4.0.1 is better than the -rc I tried last time, but still
too buggy to be ready for prime-time.
</p>

</div>


<div class="entry" title="2008-02-25: Vim Tip: Fixing the Left/Right Window Switching">

<!-- Tags: vim, tip, switching, window, movement, left, right, ctrl+w, c-w -->

<p>
My Vim tips column could use a more comprehensive entry about window
management (a.k.a "split view") in Vim, but this is a small tip in this
regard, that bothered me for a long time and that I want to record for
prosperity and share.
</p>

<p>
When having a verticla split, one can use Ctrl+W,Left or Ctrl+W,H to move
to the left split, and Ctrl+W,Right or Ctrl+W,L to move to the right split.
However, it seems that for some reason Ctrl+W,Ctrl+Left (while holding the
control) does not work. To fix it, add the following lines to your
<tt>.vimrc</tt>:
</p>

<pre>
" mapping to be able to move to the left and the right windows
" without needing to leave the Ctrl key.
map &lt;C-W&gt;&lt;C-Right&gt; &lt;C-W&gt;&lt;Right&gt;
map &lt;C-W&gt;&lt;C-Left&gt; &lt;C-W&gt;&lt;Left&gt;
</pre>

<p>
I've been annoyed by this behaviour for a long time, and now the salvation
feels sweet. I should note that other Ctrl+W,Ctrl+Someting key-combinations
work perfectly, so this aliasing is not needed there.
</p>

</div>


<div class="entry" title="2008-03-10: The Arc Test Suite and the Test Anything Protocol">

<!-- Tags: arc, lisp, scheme, paul graham, tap, perl, testing, qa, quality assurance, test::run, test::more, test::harness -->

<p>
<a href="http://www.paulgraham.com/arc.html">Arc</a> is a new dialect
of <a href="http://en.wikipedia.org/wiki/Lisp_programming_language">Lisp</a>
by <a href="http://www.paulgraham.com/">Paul Graham</a> and others. Recently,
Graham has released a working codebase for Arc, which started a small
community of people who play with it and improve it. As part of it, there's
<a href="http://arcfn.com/2008/02/git-and-anarki-arc-repository-brief.html">a
    world-writable version control repository for Arc called "Anarki"</a>.
</p>

<p>
Seeing that a comprehensive test suite was absent, I decided to start writing
one. I decided to use the <a href="http://testanything.org/">Test
    Anything Protocol</a> (or TAP for short), which is a simple-to-implement
STDOUT and STDERR based mechanism for test scripts to emit results of
their test assertions to the TAP harness. This was partly because I expected
the Arc test suite to be written in more than one language, and partly
because I have been involved with the development of
<a href="http://web-cpan.berlios.de/modules/Test-Run/">Test::Run</a>,
which is a test harness for TAP, and other TAP efforts, and so wanted
to <a href="http://en.wikipedia.org/wiki/Eat_one's_own_dog_food">eat my own
    dog food</a>.
</p>

<p>
So I've written (and later on enhanced) a rudimentary implementation of a
TAP emitter in Arc. This TAP emitting module can be found in <tt>arctap.arc</tt>
in the repository, and is used by the Arc tests. Some tests were written
in Perl, primarily to test and fix bugs in the Arc TAP implementation.
The Perl tests use
<a href="http://search.cpan.org/perldoc?Test::More">Test::More</a>, which
is a TAP-emitting module for Perl, and
<a href="http://search.cpan.org/perldoc?Test::Trap">Test::Trap</a>.
The latter is used to trap the STDOUT and STDERR of Arc programs that are
run by the Perl scripts. This is done to test the sanity of the Arc
interpreter and the Arc-TAP implementation.
</p>

<p>
So far the work on the test suite uncovered several bugs in Arc and one bug in
Test::Run, and also resulted in some enhancements to Arc. Plus, I was able to
better familiarise myself with Arc, and naturally to write test suite code
which helps in preventing future regressions.
</p>

<p>
One feature of Test::Run that helped here was its
<a href="http://search.cpan.org/dist/Test-Run-Plugin-AlternateInterpreters/">AlternateInterpreters
    plugin</a> (which is an idea I originally derived from
something <a href="http://search.cpan.org/~ovid/">Curtis "Ovid" Poe</a> (also
a TAP worker) had blogged about). Currently, my <tt>interpreters.conf.yml</tt>
file reads:
</p>

<pre>
---
- cmd: ./arc.sh
  pattern: \.arc(?:\.t)?\z
  type: regex
</pre>

<p>
This uses <tt>./arc.sh</tt> to run the tests by default. The exact configuration
is a bit more complicated
than that (see <tt>Test.sh</tt>), but still the prove utility that
is part of Test-Harness-2.xx, which is the older TAP harness,
would not do. This is because it is impossible to assign a she-bang at the
start of the Arc files, because it seems it confuses the Arc interpreter.
</p>

<p>
Currently 66 assertions in 7 files were written so there's still a long way
for a decent coverage of the Arc features. But so far it seems that using TAP
for the Arc test suite has been a sound choice, and I'm happy with it, and it
probably facilitated putting the test suite together.
</p>

<p>
(Thanks to infi, mauke and simcop for reviewing earlier drafts of this
post.)
</p>

</div>


<div class="entry" title="2008-03-15: Tip: Installing the Proprietary Nvidia Drivers on Mandriva">

<!-- Tags: nvidia, nv, driver, drivers, mandriva, kernel, kernel-devel, Linux, nouveau, renouveau -->

<p>
I recently tried to install the proprietary Nvidia Linux drivers on
<a href="http://www.mandriva.com/">Mandriva</a>. It took me about
two hours, but eventually the solution turned out to be very simple. Then I
discovered there was a better way.
</p>

<p>
First the better way: if you're running a distribution kernel, you can install
the Nvidia drivers by using the dkms package. To do this, go to
<a href="http://easyurpmi.zarb.org/">Easy Urpmi</a> and configure the non-free
packages' source for your distribution. Afterwards run XFdrake, and select
the nvidia card you have, and it will ask you if you want to install
the proprietary driver.
</p>

<p>
If, on the other hand you wish to install from the Nvidia installer, as
I initially did, and you are using the distribution kernel, make sure you
installed the <tt>kernel-desktop-devel-latest</tt> or the equivalent
<tt>kernel-*-devel</tt> package for your kernel.
</p>

<p>
That's it. After I did that, I was able to run and tweak
<a href="http://nouveau.freedesktop.org/wiki/REnouveau">REnouveau</a>
in order to help the Nouveau project. I also was able to run Extreme Tuxracer,
and Compiz Fusion. The latter did not play nice with KDE and misbehaved badly.
</p>

</div>


<div class="entry" title="2008-03-23: My Homesite and Murphy">

<!-- Tags: tidy, html, html tidy, whitespace, eliminating, tip, tips, wml, website meta language, mandriva, bug, bugs, ttml, cpan, rpm, cpan2dist, make, optimization, web design, javascript -->

<p>
So yesterday I decided that <a href="http://www.shlomifish.org/">my
homesite</a>'s markup may have had too much extraneous whitespace. So I looked
at <a href="http://tidy.sourceforge.net/">HTML Tidy</a> to try to remove it.
I searched for a way to tell it to remove whitespace on the Net, but most
pages I found only said it was possible, but didn't say how. After some trial
and error I found that this <tt>tidy.rc</tt> file:
</p>

<pre>
indent: 0
indent-attributes: no
vertical-space: no
wrap: 0
indent-spaces: 0
break-before-br: 0
tab-size: 0

</pre>

<p>
And a command line that specifies it with <tt>-config</tt> worked the best. It
still left a lot of newlines, which could be removed, but I guess it's better
than nothing.
</p>

<p>
While running it, I discovered that it complained about having empty files.
And I checked that the files generated were indeed empty. Then I experienced
with <a href="http://thewml.org/">Website Meta Language</a> (or WML) on
Mandriva and found out that piping into it even simple documents resulted in
empty results.
</p>

<p>
I found out that <a href="https://qa.mandriva.com/show_bug.cgi?id=39253">the
update with the fix for the WML CVE issue broke WML</a>. So I had to found
out what the problem was generate a better patch and submit it. As it turns
out the WML test suite still failed, but it didn't cause the RPM "%check"
target to fail for some reason. After my fix, all tests passed again.
</p>

<p>
Then I was able to process the pages again. So back to tidy. Tidy still
complained about some stuff like missing "summary" attributes in "table"
tags. Sometimes, it exited with an error status without emitting any warnings
or errors, so I had to tell my build system to skip these offending files.
</p>

<p>
So tidy ran, but it wasn't the end of my problems. When trying to build
the homepage to run tidy with a clean copy, I found out that
<a href="http://search.cpan.org/dist/Template-Preprocessor-TTML/">TTML</a>
did not run. This was caused by the upgrade to perl-5.10.0, and I looked for
a way to prepare an up-to-date RPM out of it again. Both cpan2rpm and
<a href="http://search.cpan.org/dist/Ovid/">Ovid</a> (the Perl module, not
the Perl author) failed, and so I looked into cpan2dist. After experimenting
with it a bit I got it running using
<a href="http://search.cpan.org/dist/CPANPLUS-Dist-Mdv/">CPANPLUS-Dist-Mdv</a>
and it gave me a working RPM. Now I'd like to prepare an equivalent package
for constructing Fedora RPMs.
</p>

<p>
That was not the end of my problems. When I tried to clean-build my site,
I found out that the directory structure did not get built before some of the
targets. So I had to play with the make targets. Afterwards, everything
went fine. The difference that tidy made was:
</p>

<pre>
Before size: 4903322
After size: 4781819
</pre>

<p>
What next? On the site I still have many links that start with "./". This
prefix is completely redundant, and I can save some bandwidth by eliminating
them. I also contemplated converting the navigation menus to JavaScript,
which will read the menus' contents from the site in JSON format. Now
that I think about it, the problem with this approach is that it will
hinder navigating the site by web-crawlers, and may diminish the Page Rank
of the various pages. It also won't work on clients which have JavaScript
disabled. One thing I can do is also generate an HTML file with the current
view of the navigation menu for each page and link to it directly for
JavaScript-challenged clients. I still have to think about it.
</p>

</div>


<div class="entry" title="2008-03-28: Firefox Compatibility Rave: Pandas.co.il">

<!-- Tags: disk-on-a-key,pendrive,32MB,8GB,pandas,pandas.co.il,israel,firefox,konqueror,mozilla,alternative,browsers,msie,compatibility,firefox rave
-->
<p>
Recently, I wanted to buy a USB Disk-on-a-key to replace my old 32 MB one.
I went to <a href="http://www.zap.co.il/">Zap</a> and compared the prices.
The cheapest offer was from <a href="https://www.pandas.co.il/">the
Pandas.co.il shop</a>, so I went to buy it there. The site appears to
be written in PHP and I was able to fully operate it using the KDE
Konqueror browser, and to complete the buying. I assume the Firefox browser
will also work nicely there.
</p>

<p>
The 8 GB disk-on-a-key arrived a few days ago, and it works great. So I'd like
to thank Pandas.co.il for making their site compatible with non-MSIE browsers,
and I'll consider them for my future computer parts orders.
</p>

</div>


<div class="entry" title="2008-03-31: Vim Tip: Windows Management Commands">

<!--Tags: vim, tip, tips, window, windows, management, split, viewports, splits -->

<p>
<a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#window">Windows</a>
are one of Vim's most convenient features, and learning some commands could
prove to be useful. Some of the commands are available from the "Window"
menu in gvim, or using the mouse, but using them from the keyboard is often
more convenient.
</p>

<p>
To split a viewport in two, use <tt>Ctrl+W,S</tt> for a horizontal split or
<tt>Ctrl+W,V</tt> for a vertical split. To move between windows use
<tt>Ctrl+W</tt> followed by the arrow keys or <tt>h,j,k,l</tt> (but see
<a href="http://community.livejournal.com/shlomif_tech/8278.html">this
previous tip</a>). To close a viewport use <tt>Ctrl+W,C</tt>.
</p>

<p>
<tt>Ctrl+W,r</tt> rotates the windows, and <tt>Ctrl+W, shift+R</tt> rotates
them in the opposite direction. Finally, <tt>Ctrl+W,+</tt> and <tt>Ctrl+W,-</tt>
increase and decrease the height of the viewport by one line (in case you are
mouse-deprived). If that's too little you can do something like
<tt>10,Ctrl+W,+</tt> to increase the height by 10 lines.
</p>
</div>


<div class="entry" title="2008-04-04: Eclipse Tip: Debugging Using a Remote GDB Session (gdbserver)">

<!-- Tags: eclipse, gdb, gdbserver, server, tcp, client, remote, debugging, debugger, c/c++, ide, tip, linux
-->

<p>
In this tip, I'll explain how to debug C/C++ programs in Eclipse using
<a href="http://sourceware.org/gdb/current/onlinedocs/gdb_18.html">a remote
GDB session (gdbserver)</a>. To do this:
</p>

<ol>

<li>
Install <a href="http://www.eclipse.org/cdt/">CDT - The Eclipse C/C++
Development Tooling</a>.
</li>

<li>
Set up a C/C++ project so it will build and compile.
</li>

<li>
Install gdb and gdbserver. The latter does not seem to be available in any
Mandriva package and had to be compiled from the gdb source, where it
is built by default.
</li>

<li>
Run gdbserver on the generated executable using a command like
<tt>gdbserver localhost:10900 ./my-exe</tt>
</li>

<li>
In Eclipse go to <b>Run &rarr; "Open Run Dialog..."</b>, and go to the
upper debugger tab and select <b>gdbserver Debugger</b> in the Debugger
drop-down. Afterwards, go to the <b>"Connection"</b> tab under
<b>Debugger Options</b> and configure your connection.  For my demonstration
I've chosen "Type: TCP" "Host: localhost" and "Port number: 10900".
</li>

<li>
Select the <b>Run &rarr; Debug</b> in Eclipse option and start debugging
the application.
</li>

</ol>

<p>
The reason I needed it was that I wanted to use "remote" debugging so I can
debug a C++ program that must be ran as root, and would rather not run
Eclipse itself as root. I'm still not sure it can serve as a good debugger
front-end, but I became very annoyed with
<a href="http://www.gnu.org/software/ddd/">ddd</a> and plain gdb start
to seem to be inadequate on visualising the rest of the source code. So I
looked for an alternative and thought Eclipse might be OK.
</p>

</div>

<div class="entry" title="2008-04-08: Handling Repetitive Questions Once and for All">

<!-- Tags: questions,customer,support,feedback,git,version,control,revision,scm,better,joel,software,spolsky,tip -->

<p>
Back when I worked on <a href="http://fc-solve.berlios.de/">Freecell
Solver</a> , I used to prepare binary
distributions of the command line solver. Now it acted as a filter, and when
invoked without arguments it just waited for standard input. As a result,
when the Windows users double-clicked the fc-solve.exe executable, it just
popped an empty console, which they couldn't understand what to do. And
a lot of them sent me a "How do I use this" program email with the exact
description.
</p>

<p>
Since I became annoyed of it, I decided to output the following to the
<a href="http://en.wikipedia.org/wiki/Standard_streams#Standard_error_.28stderr.29">standard
error</a> by default:
</p>

<pre>
Reading the board from the standard input.
Type "fc-solve --help" for more usage information.
To cancel this message set the FREECELL_SOLVER_QUIET environment variable.
</pre>

<p>
After the poor Winnies read it, it probably made them decide the
program was not for them and to look for an alternative, but at least most
of the emails I received about it stopped.
</p>

<p>
A year ago, Joel on Software published an article about having
<a href="http://www.joelonsoftware.com/articles/customerservice.html">remarkable
customer services</a>, in which he said that one needs to fix everything two
ways: first by helping the user, and then by making sure other users don't
encounter and complain about the problem again by tweaking the behaviour.
As one can see, what I did for Freecell Solver was essentially what Joel
advised to do. (Albeit much later than I incorporated the fix.).
</p>

<p>
More recently, I started the <a href="http://better-scm.berlios.de/">Better SCM
site</a>, which compares and advocates several version control systems.
However, git has been absent due to the fact a suitable maintainer did not
come forward. And as a result, I received many emails asking "Where's git?".
A few days ago I decided to add <a href="http://better-scm.berlios.de/faq/">a
Frequently Asked Questions (F.A.Q.) to the site</a> where I answered
this and other questions. However, today I received another email with "Git?"
in the subject about that.
</p>

<p>
Another thing Joel had said is that
<a href="http://www.joelonsoftware.com/uibook/chapters/fog0000000062.html">"People
Don't Read"</a> or at least read very selectively. So I added a
<a href="http://better-scm.berlios.de/alternatives/git/">placeholder
page about git</a> with explanation why it is absent and a call for help, and
added it to
<a href="http://better-scm.berlios.de/comparison/">the comparison</a>
with the text "Unknown. Due to a lack of a maintainer for this system."
with a link to the F.A.Q..
</p>

<p>
This should be enough to get rid of that particularly repetitive stream
of emails, and hopefully will also yield me a contributor to add a better
solution. Often designing web-sites and doing "customer service" (or feedback)
requires designing the site properly based on the feedback one gets.
</p>

<p>
I didn't particularly think of what Joel said when I decided to do what I did
with the F.A.Q. and the placeholders, but now that I think of it, I guess
he was right.
</p>

</div>



<div class="entry" title="2008-04-24: jQuery Tip: Adding Self-Links to Headings">

<!--Tags: jquery, javascript, id, attribute, html, anchors, headings, links, tip, homepage, homesite -->

<p>
On <a href="http://www.shlomifish.org/">my homepage</a>, I have many
&lt;h2&gt;, &lt;h3&gt;, etc. tags with <tt>id</tt> attributes in them so one
can link directly to the middle of the page. I have written a
Website Meta Language API that allows one to generate a table of contents for
the page based on them. However, recently I also looked for a way to have a
link to their anchors somewhere close to them.
</p>

<p>
I eventually decided to try doing it using JavaScript and <a href="http://jquery.com/">jQuery</a>. It took me a bit of information lookup, trial and error
and consulting people on IRC, but I ended up with:
</p>

<pre>
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
$(&quot;h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]&quot;).each(
function(i){
$(this).append( &#39; &lt;span class=&quot;selfl&quot;&gt;[&lt;a href=&quot;#&#39; +
this.id + &#39;&quot;&gt;link&lt;/a&gt;]&lt;/span&gt;&#39; )
})
--&gt;
&lt;/script&gt;
</pre>

<p>
Now for some explanations:
</p>

<ol>
<li>
The <tt>$("h1[id]...")</tt> construct selects all the headings with id's.
There may be a shorter way to do it (comments are welcome.
</li>
<li>
The each method iterates over all of them and calls the closure inside. The
closure sets the "<tt>this</tt>" variable to the current element, and accepts
its index there (the "i" variable). In our case, we're not making use of the
index.
</li>
<li>
$(this) constructs a jQuery object from "this".
</li>
<li>
.append() appends an expression to the inner HTML of the element. I add
a little HTML there. <tt>this.id</tt> may result in an XSS attack if you have
a really funky (and probably invalid) ID, but since I have control over
my ID's it's ok.
</li>
</ol>

<p>
You can see the result, in the headings of
<a href="http://www.shlomifish.org/lecture/">the presentations' page</a>
(for example), as long as you don't have JavaScript turned off. jQuery seems
very nice, and I'm looking forward to making even more use of it where
appropriate.
</p>

</div>


<div class="entry" title="2008-05-07: Perl Must Decentralize, Diversify and Colonize">

<!-- Tags: perl, concentration of effort, decentralisation, andy lester, petdance, article, essay, link, recommendation, philosophy -->

<p>
Andy Lester has written
<a
href="http://perlbuzz.com/2008/05/perl-decentralize-diversify-colonize.html">a
great article about some of the social and philosophical problems with the Perl
world</a>. He says that while Perl 5 is a great technology, has a very
<a href="http://search.cpan.org/">comprensive collection of reusable,
open-source code called "CPAN"</a>, and has a lot to show for, it has suffered
from concentration of effort and other such problems.
</p>

<p>
This, in turn, contributed to the fact that many programmers concluded it
was "dead", "dying", "not good enough", or other such negative hype and
negative myths. While Lester's article suffers from some problems, it
still makes a good read even if you're not an avid Perler.
</p>

</div>


<div class="entry">

<h2>2008-06-03: Next OSDClub Tel Aviv Meetings</h2>

<p>
On Tuesday, 3-June-2008 (tomorrow or today depending how you look on it),
on 18:30, the OSDClub of Tel Aviv, which is a joint venture of
<a href="http://www.cs.tau.ac.il/telux/">the Tel Aviv Linux club</a>,
and <a href="http://www.perl.org.il/">Perl-Israel</a> (and some other
FOSS clubs who want to join the fun), will hold a social meeting. It
will take place at the Caf of Tel Aviv University near the junction
of Einstein and Haim Levanon Streets. This social was scheduled because Zvi
is in Israel. (If you don't know who he is, then come to meet him.)
</p>

<p>
Much later, on Sunday, 15-June-2008, OSDClub Tel Aviv will meet to share
some Vim/gvim (= the text editor) Tips and Tricks. We'll meet in Schreiber
(Math &amp; CS) building in Tel Aviv University. We have more meaty
presentations planned for July, but we hope these two meetings will be a
a useful start after a long neglect.
</p>

</div>


<div class="entry">

<h2>2008-06-04: Mozilla/Firefox Tip: Getting xml:lang to Work</h2>

<!-- Tags: mozilla, firefox, xml:lang, lang, xhtml, 1.1, content, type -->

<p>
XHTML 1.1 has deprecated the lang="" HTML attribute in favour of the more
standard xml:lang. I like to use XHTML 1.1 because I find the extra
strictness (like no <tt>&lt;a name="..."&gt;</tt>) useful, but in order
to not completely alienate
<a href="http://www.shlomifish.org/no-ie/">Microsoft Internet Explorer</a>
users, I'm serving it with a Content-Type of text/html.
</p>

<p>
However, it seems that Firefox as of v2 or v3 completely ignores "xml:lang"
when the XHTML is being served as "text/html". It took me a long time to
figure out a way to solve it, but here's what I did:
</p>

<ol>
<li>
<p>
Loaded jQuery:
</p>

<pre>
&lt;script type=&quot;text/javascript&quot; src=&quot;../../js/jq.js&quot;&gt;&lt;/script&gt;
</pre>
</li>

<li>
Added <tt> onload="lang_load()"</tt> to the opening "&lt;body&gt;" tag.
</li>

<li>
Linked to a short jQuery-based
<a href="http://www.shlomifish.org/js/moz-lang.js">script that
implements lang_load()</a>, which I've written.
</li>
</ol>

<p>
What the script is doing is go over all elements and if the
"xml:lang" attribute is set, then set "lang" to its value. It's a kludge,
but it works. You <a
href="http://www.shlomifish.org/humour/TheEnemy/The-Enemy-rev4.html">can
see the results</a> on my homesite.
</p>

</div>


<div class="entry" id="ubuntu-is-dead">

<h2>2008-06-06: Ubuntu is Dead</h2>

<!-- Tags: ubuntu, dead, dying, linux, mandriva, abuse, hubris, human factors engineering, rant -->

<p>
As illustrated <a href="https://bugs.launchpad.net/ubuntu/+bug/237852">by
this bug</a> (which got closed as "invalid"), the Ubuntu world has become
infested with red tape, abuse, unfriendliness and hubris. So my suggestion
is to stay a clear mile away of anything Ubuntu and to switch to Debian,
Mandriva, Archlinux, FreeBSD, Fedora, CentOS or any of the other fine
distributions with much healthier communities. Which one you choose depends
on your needs and the situation.
</p>

<p>
This is especially in consideration of all the horror stories I heard of
Ubuntu Hardy getting hang-up. I have
<a href="http://shlomif.livejournal.com/40272.html">spoken
against Ubuntu before</a>, but I may have missed the point, and it's possible
the problems I've discovered recently are more recent.
</p>

<p>
The bug in question was closed because it wasn't a software bug, but that is
also the case for the infamous
<a href="https://bugs.launchpad.net/ubuntu/+bug/1">bug #1</a>.
</p>

<p>
In short, Ubuntu is dying now, but with enough determination on the part
of its leaders, it can be resurrected. But this will require a huge inside
motivation, and a lot of serious soul-searching. In the meanwhile, don't
get near Ubuntu.
</p>

</div>



<div class="entry" id="">

<h2>2008-06-16: Firefox 3 Slogan</h2>

<!-- Tags: firefox, web browser, open source, FOSS, fire, fox, samson, slogan, firefox 3 -->

<p>
I said it on IRC and on IM several times, but here it is on the Web for
the upcoming release of <a href="http://wiki.mozilla.org/Firefox3">Firefox
3</a>:
</p>

<blockquote>
<p>
Firefox 3 Runs Like a Fox on Fire.
</p>
</blockquote>

<p>
It really does. And it leaks less memory and is very stable. Thanks to the
Mozilla and Firefox developers for all the work they've placed there.
</p>

<p>
(This time I think the term "a fox on fire", may be inspired by the
<a href="http://en.wikipedia.org/wiki/Samson">tale of Samson and foxes in
the Old Testament</a>, but who knows.)
</p>

</div>

<div class="entry" id="firefox-il-meeting-summary">

<h2>2008-06-27: Summary of the Firefox-IL Meeting (from my POV)</h2>

<p>
This is the summary of the <a
href="http://mozilla.org.il/news/2008/06/22/--firefox-/">Firefox
users' meeting</a> that took place today at <a href="http://en.wikipedia.org/wiki/The_Yarqon_Park">Park Hayarkon</a> in Tel Aviv. I slept well today starting
from 1 AM so was annoyed by the 8 PM clock. (I still felt energetic throughout
the day.) After waking up and buying
Bourekas (not enough time for breakfast - didn't even shave), I tried to find
a bus station with the bus going there, but couldn't. So I took a cab.
</p>

<p>
The cab driver was very friendly. He didn't have a computer at home, but I
was able to explain to him about software and open-source. One of his daugthers
had studied Maths+CS+EE in Bar-Ilan and the other one is a lawyer. We did not
talk about Computers exclusively, of course. I directed him to the Paz gas
station and we ended up at a different one, and had to do a detour. Oh well.
</p>

<p>
After I got there, I took a detour and slipped on some mud approaching the
Firefoxers. But I was ok (I suppose the grass was being sprinkled with water
shortly beforehand.). There were already a few people there, and we started
chatting. This was an anti-conference, and so we didn't eventually hold any
formal thing like presentations/talks or introductions, but rather chatted,
drank, ate and were happy. We also got some Firefox swag, but pitchefkes (= the
Yiddish word for "small stuff") are not really an obsession of mine.
</p>

<p>
We had some beers there, and we had water and sodas, and we had some
Croissants. I didn't eat anything, but I drank some water and 7'up. Lots of
fun was had.
</p>

<p>
Here are some highlights from the conversations:
</p>

<ol>
<li>
<p>
We discussed the super-domains: "http://beauty/" which L'oreal wants
and why people are less likely to want "ugly". But then I said
"http://paris.hilton.is.ugly/" would be cool. Then we discussed
"http://hilton/" and "http://ibm/".
</p>
</li>

<li>
<p>
We discussed the fact that Israel had 100,000 downloads of Firefox so
far, and that Iran is one of the top-10 countries there. BTW, I've been talking
with a few Iranians on IRC and they've been very friendly to me in spite of
knowing I'm an Israeli. I suppose most of the people in Iran are not the
problem, but rather the regime.
</p>

<p>
On the ride back (with <a href="http://www.oriidan.info/">Ori</a>), I said
that I felt that the Israeli politicians are a joke and do not actually run
Israel. Who does is a good question, but it's possible that Israel just runs
itself, with some entities, like the Military having more influence.
</p>

<p>
Looking back, I can say, that the Israeli Law still has many bad elements, and
should be changed because it's causing a lot of damage.
</p>
</li>

<li>
<p>
We discussed the <a
href="http://shlomif.livejournal.com/53343.html">"israeli girls"
search on Flickr and how it is dominated by female soldiers</a>. People told
me it was Digg'ed too. I said that Flickr's diversification algorithm was
probably not as good as Google's, if there is one at all.
</p>
</li>

<li>
<p>
A bit less political and off-topic, I had a long conversation with a
bio-informatician from Ben-Gurion University. He is using Perl and "R" (because
they are free-as-in-speech and do what he need.) He said their budget is pretty
big and they have a program running on the server with Java and Oracle and
stuff. Then he said that he bought guitars instead of going on trips abroad
and so, like me, remained in Israel most of the time. He seemed nice, and
said he remembers my name and will MSN me.
</p>

<p>
We discussed some machine-learning algorithms. How he has to optimise over
500 parameters and decide which to include and which not. Naturally the sets
of all subsets for 500 paramaters is huge, and so cannot be done by
brute force. I told him about my greedy algorithm for finding a meta-scan
in Freecell Solver (hi Muli!).
</p>
</li>

<li>
<p>
I said that I think that non-x86 (= non-Pentium etc.) architectures are
going to make a comeback in servers, and that we'll see more peopple
increasingly buy machines running UltraSPARC, PowerPC, and other
non-x86 CPUs. (More about that later). <a href="http://tomercohen.com/">Tomer</a> noted
that he does PHP software development at work and that such architectures
were where all the big money was made. He said some companies have ancient
IBM PowerPC-based setups which they don't upgrade.
</li>

<li>
<p>
There were quite a few girls there: <a href="http://meital.blogli.co.il/">the
Pink Fakatsa</a>, ailaG, and two new girls I didn't recognise. I also met Kobi
Zamir, who is known as the libhocr guy, and he was very nice. He is tall
and slender, and I told him most Kobis I know had a bigger build, and he
said that he felt so too but said he was an exception. We discussed people
with similar names.
</p>

<p>
Israelis have many common private names, but many names are very common.
The situation is much worse in Russian, where they have less than 20 common
masculine private names.
</p>

</li>

<li>

<p>
I met <a href="http://www.advogato.org/person/meni/">Meni</a> whom I didn't
see for a long time in Telux and other FOSS meetings. He said that he's
now working in a different place, which is harder to come to Telux from,
and that he now has a car, which he didn't need when he worked in Hertzeliyah
Pituakh. We discussed the fate of Atelis, where he and other three esteemed
developers worked, and now has been split into pieces, due to bad investors.
</p>

</li>

</ol>

<p>
I'll probably write some further stuff in comments, but I'm just doing my
duty to people who did not attend. In short - a fun meeting. About 20 people
came and left, and a lot of fun was had. Next time, I suggest doing it on
a weekday during the evening or afternoon, and optionally not at the summer.
A more formal schedule and place would be good too, and I suppose I can
make some arrangements at Tel Aviv University.
</p>

<p>
I returned home with Ori, and we discussed some stuff, including Shania Twain.
I thought I'd upload some of her songs online, but that's what YouTube is
for, no?
<a href="http://www.youtube.com/results?search_query=shania%20twain&search_type=">Knock
yourself out with Shania goodness!</a> (or <a
href="http://perl.net.au/wiki/Freenode_Sharp_Perlcafe#Shania_Twain">Shania
Badness</a> if you happen to think so.
</p>

<p>
Stay on fire (foxes)!
</p>

</div>

<div class="entry" id="three-comebacks">

<h2>2008-06-24: Predicting Three Comebacks</h2>

<!--
Tags: comebacks, x86, sparc, ultrasparc, risc, ibm, sun, mandriva, perl, hype, ubuntu, israel, linux, open source, foss, free software, perl community
-->
<p>
Well, it's a common belief that comebacks in technology don't happen often, but
this time I predict three comebacks. I cannot recommend that you base your
decisions (much less investment plans) based on it, but here they are.
</p>

<h3>Comeback #1: Non-x86 Machines</h3>

<p>
Once upon a time, companies spent a fortune on costy UNIX servers or even
IBM mainframes, just to be able to run their operation. Since then, x86-based
computers have become faster and more capable, enough to make people be
able to run Microsoft Windows NT or Unix-based Operating systems on them. This
is now the most popular setup on the Internet for servers (much less clients
and workstations).
</p>

<p>
However, these x86 machines are not as integrated as their non-x86 equivalents
(UltraSPARC, PowerPC, etc.), are still much slower (due to the limitations
of the x86 architecture vs. the superior RISC family of architectures). This
costs in a lot of time of maintenance, many hardware failures, and sub-optimal
lifetime. It is well-known that there are some PC XT machines which are still
running. However, finding a low-end desktop Pentium I machine that's still
OK is an exercise in futility. And even the high-end x86 servers suffer from
many problems.
</p>

<p>
Human time is much more costy than shelling some money for getting a good
RISC machine. And with the portability and stability of
<a href="http://www.gnu.org/">the GNU system</a>, and portable and free
operating systems such as Linux, or the BSDs, you can easily run a server
there at ease.
</p>

<p>
So what can <b>Sun and IBM (and friends) do about it?</b>. They should phase
out their own OSes in favour of Linux, as people have grown to dislike Solaris
(to say nothing of AIX, HP-UX, or greater brain-damages). Don't get me wrong
- Solaris has its place and I'm sure is a fine piece of engineering. But
GNU/Linux is better for trying to promote the hardware.
</p>

<p>
Sun should also make the OpenSolaris licence
<a href="http://www.dwheeler.com/essays/gpl-compatible.html">GPLv2 and GPLv3
compatible</a>, to allow it to borrow code from Linux and other GPLed-products
(and vice versa). And they should also start supporting Perl, PHP, CPython,
CRuby, Mono etc. etc. instead of just Java or whatever has been hyped. (Similar
to what Microsoft have been doing recently for its MS-Windows OSes).
</p>

<p>
All of this will allow selling more hardware, getting more support and ergo
- more profits. I think the transition to non-x86 machines will happen anyhow,
but that will make it faster, and much more profitable for them.
</p>

<p>
Note that it is not the end of either Intel or
<a href="http://www.joelonsoftware.com/articles/APIWar.html">much less the
end of Microsoft</a>. I still see workstations dominated by x86 in the near
future, and both MS and Intel are insanely profitable and have enough time
to re-invent themselves. But I think (and hope) we'll be seeing more and
more non-x86 servers and to a lesser extent workstations.
</p>

<h3>Comeback #2 : Mandriva</h3>

<p>
Once upon a time, <a href="http://en.wikipedia.org/wiki/Mandriva_Linux">the
Mandriva Linux distribution (formerly Mandrake)</a> was the de-facto standard
for home Linux desktops. Then vocal Debian people started spreading a lot of
pro-Debian and anti-everything-else FUD, and Ubuntu also became the over-hyped
distribution-of-the-moment. Meanwhile, naturally, Mandriva suffered from
lack of popularity and negative FUD, but also still continued to improve.
</p>

<p>
Right now, as Ubuntu Hardy (which I nicknamed "Hardly") tends to hang up or
worse so often, and
<a href="http://community.livejournal.com/shlomif_tech/11379.html">Ubuntu as
a general rule seems to be infested with red-tape</a>, it seems that there's
an opening for Mandriva and distributions that are very good, but were not
as hyped as Ubuntu.
</p>

<p>
Here are some Israelis who converted away from Ubuntu lately:
</p>

<ul>

<li>
<a href="http://idkn.wordpress.com/2008/06/18/%D7%A9%D7%91%D7%95%D7%A2%D7%99%D7%99%D7%9D-%D7%95%D7%A7%D7%A6%D7%AA-%D7%A2%D7%9D-%D7%9E%D7%A0%D7%93%D7%A8%D7%99%D7%91%D7%94/">ik_5 has converted to Mandriva after using Ubuntu for a
long time</a>
</li>

<li>
<a href="http://elcuco.blogli.co.il/archives/158">Diego converted to Mandriva
as well</a>
</li>

<li>
<a href="http://meital.blogli.co.il/archives/220">Meital has many problems
with Ubuntu 8.04 (Hardy) and wishes to switch back to Debian</a>
</li>

<li>
<a href="http://nadavvin.com/2008/07/05/%d7%9c%d7%9e%d7%94-%d7%a0%d7%a9%d7%90%d7%a8%d7%aa%d7%99-%d7%91%d7%a1%d7%95%d7%a3-%d7%a9%d7%91%d7%95%d7%a2-%d7%91%d7%91%d7%99%d7%aa/">Nadavvin
has spent the weekend installing Fedora instead of Ubuntu which kept getting
hanged up</a>
</li>

</ul>

<p>
These are all Linux experts and FOSS contributors. It's harder to tell what
the common joe who wants to install Linux at home will choose. But I think
that they will tend to hear a recommendation from the experts, too.
</p>

<p>
Will Mandriva become the hottest distribution? Maybe not. But it doesn't
matter - Mandriva was never about hype. Naturally, Mandriva has had and still
have its share of bugs and problems (mostly non-critical). But so do most
other distributions, including such whose users were spreading anti-hype
against it.
</p>

<p>
Writing this from a Cooker (which is the Mandriva equivalent of something like
Debian Testing or Unstable) system.
</p>

<h3>Comeback #3: Perl</h3>

<p>
And now we come to the third and final comeback - Perl. You can often here
that "Perl is dead", or that "Perl is dying", etc. It's a matter of image,
more than technology or mindshare. Many people would blame it on the anti-Perl
FUD we can hear from various sources. But I believe the problem has lied in
the Perl world itself. To quote an email I sent:
</p>

<blockquote>

<p>
The Perl technology is in an excellent shape. It's fast, feature-rich,
powerful, easy to use and learn, under active development, relatively
bug-free, with many automated tests, and with many 1st party, 2nd party
and 3rd party enhancements (re CPAN).
</p>

<p>
However, the Perl community is sick. Not dying - but sick.
</p>

<p>
This sickness was not caused by external attacks. Instead it was created from
within the Perl community. By a leadership/intelligencia who were more keen on
writing and selling closed books (see
<a href="http://www.shlomifish.org/philosophy/philosophy/closed-books-are-so-19th-century/">my essay about it</a>)
than on promoting the core Perl technology, documentation and community. It
was caused by an "official" IRC network (which is still the first hit on a
Google search for "irc perl") which is full of ego, abuse and hostility - where
kicking, bannings (and seemingly K-lines) are not only common, but tolerated
and seem desirable. It was caused by administrators and leaders who became too
"busy" (and as a result heavily unproductive) to have time for Perl, which
is what have been placing food on their table. It was caused by central sites
whose source code and data were hidden from the public due to a lot of
unknown bad reasons, and for absolutely no good ones. (We advocate openness
after all).
</p>


<p>
But most of all it was caused by the many competent and active Perl
contributors who did not take the initiative to replace the existing and sick
infrastructure by <a
href="http://perlbuzz.com/2008/05/perl-decentralize-diversify-colonize.html">a
more independent and decentralised effort</a>.
</p>

<p>
(I had written
<a href="http://www.shlomifish.org/philosophy/perl-newcomers/">something
relatively similar</a> in the pre-Web-2.0 era as part of my "Usability of
the Perl World for Newcomers Essay". Nevertheless perlbuzz.com deserves
credit for presenting it better, making it public knowledge, and making
it more obvious.)
</p>

</blockquote>

<p>
But the situation is now getting better. There are more independent
developers who have started to set up sites and help resources of their own.
More people blog about their Perl experiences. I'm also going to continue giving
my share of the contribution by setting up
<a href="http://perl-speak.org/">Perl-Speak</a> (Please don't register yet -
the E-mail does not work yet due to problems with my hosting), by
contributing to the FAQs, documentation and wikis, and by helping with
coding. People like me would also like to complement the inadequate,
"official", and completely non-open *.perl.org infrastructure, which has
been suffering from bitrot and neglect.
</p>

<p>
Lately, I've had the pleasure of talking to many people on IRC who have
decided to learn Perl for various reasons, and some of them are young
or even underage. Along with CPAN and perl5, Perl offers some clear advantages
that no language has.
</p>

<p>
Again, Perl is also not about <a
href="http://www.shlomifish.org/philosophy/computers/high-quality-software/rev2/#hype">hype</a>.
Some people have privately raved about Perl and recommended it to their
friends, but otherwise Perl was promoted quietly, bottom-up and mostly by
word-of-mouth. It's hard to know if Perl will become the "hottest" language
again. But I believe it will still become more popular, even among new
programmers.
</p>

</div>


<div class="entry" id="graphics-card-ati-hd2600">

<!-- Tags: hardware, log, hardware log, linux, ati, nvidia, hangvidia, geforce, hd 2600, hd 2600 pro, 3-d, 2-d, radeonhd, radeon, graphics, free drivers, OpenGL -->

<h2>2008-07-21: Hardware Log: ATI HD 2600 Pro</h2>

<p>
Up until this Saturday, my Linux workstation had an old Nvidia
GeForce 4 MX card, whose fan recently died. We decided to upgrade the card,
and I told my father that an ATI card would be preferable over Nvidia,
because AMD/ATI are more FOSS-friendly and released SPECs. So he bought an
<a href="http://ati.amd.com/products/radeonhd2600/radeonhd2600pro/index.html">ATI HD 2600 Pro card</a>. It's r600, but quite low-end (but still not as much
as the GeForce 4.).
</p>

<p>
We delayed installing it, but this Saturday, after I had to reboot after the
new kernel update, we got to it. The hardware replacement went surprisingly
well, and then we booted the computer. Everything went well on startup,
and we got the login prompt. Then startx worked right away, as my
Mandriva Cooker installation detected the hardware change and set up all
the drivers accordingly. Mandriva++ .
</p>

<p>
Not everything worked flawlessly. I had to edit the xorg.conf file to re-add
the settings for the Xkb Hebrew keyboard, and to change the
<a href="http://en.wikipedia.org/wiki/Color_depth">Bits Per Pixel</a>
from 16-bits to 24-bits. Then I was happy. I'm using the
<a href="http://www.radeonhd.org/">RadeonHD</a> open-source drivers,
which don't really do 3-D yet, but since there are SPECs for them, the
situation is expected to improve.
</p>

<p>
I'm so glad I've now escaped from Hang-vidia-land, and have a card from
a company that plays along with the open-source ideology. I hope to contribute
further to the open-source drivers by reading the SPECs and writing code,
and hopefully I would be able to understand what I need to do better than
with <a href="http://nouveau.freedesktop.org/">Nouveau</a>. In any case,
since I'm not obsessed with "gamer" computer games and am not using the
high-performance 3-D/2-D effects in much, I can survive just fine using
the non-3-D enabled drivers. (Just as I used the "nv" driver before the
upgrade.).
</p>

</div>


<div class="entry" id="cmake-and-javascript-xslt">

<!-- Tags: freecell, solver, freecell solver, build, configuration, autotools, autohell, cmake, hacktivity, log, hacktivity log, speed, optimization, ssl, certificates, qt, gui, jdavidb, rpm, fedora, version control, google, xslt, javascript, js, ajaxslt, asynchronous, ajax, xml, august penguin, ap, ap2008, mandriva, cooker -->

<h2>2008-08-02: Hacktivity Log: CMake and JavaScript XSLT</h2>

<p>
In
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/833">an
email to the fc-solve-discuss mailing list</a>, I detailed recent work
on Freecell Solver. I added an suite of automated tests, which in turn allowed
me to perform the conversion of its build-and-configuration system from
the GNU Autotools (Autoconf, Automake and Libtool a.k.a Autohell) to
<a href="http://www.cmake.org/">CMake</a>. I ran into a few problems in the
process of the conversion, but it took less than 2 days, which was probably
much less than its Autoconfisication of Freecell Solver took, excluding
the constant maintenance of its Autotools configuration and random breakages.
</p>

<p>
You can refer to the <a
href="http://svn.berlios.de/svnroot/repos/fc-solve/trunk/fc-solve/source/">trunk</a>
for the present state of the CMake configuration and the
<a href="http://svn.berlios.de/svnroot/repos/fc-solve/branches/conversion-to-cmake/fc-solve/source/">conversion-to-cmake
branch</a> for the gradual CMakification process.
</p>

<p>
In any case, now the source archive is smaller, configuring it is faster,
make runs faster, and I have a configuration GUI. In the process, I also
<a href="https://qa.mandriva.com/show_bug.cgi?id=42362">added support
for the Qt GUI to the Mandriva CMake</a>. There are probably still some
quirks in the config+build system, but all in all, I'm very happy.
</p>

<p>
I also ran into a problem that Firefox completely refused to display the
https:// URLs of svn.berlios.de, without letting me add an exception. As
it turned out, the certificates were probably changed, and I had to manually
delete all <tt>*.berlios.de</tt> related certificates, and then add them
with exceptions.
</p>

<p>
Next - yesterday I read
<a href="http://use.perl.org/~jdavidb/journal/37058">about jdavidb's problem
of finding differences in two versions of a Fedora RPM</a>, which prompted me
to
<a href="http://use.perl.org/comments.pl?sid=40483&amp;cid=64161">find
out about Fedora's packages' version control repository</a>, which I
did. Then I ran into a comment in that page about
<a href="http://better-scm.berlios.de/comparison/">the Better-SCM
comparison</a>, which inspired me to do further work on it.
</p>

<p>
I decided to finally experiment with
<a href="http://goog-ajaxslt.sourceforge.net/">the Google implementation
of XSLT in JavaScript</a> in an attempt to customise the output of the
XML in the client-side. I wanted to fetch the contents of the XML document
and XSLT stylesheet from the server which involved doing AJAX using
jQuery. It took me a long time to get right, because I didn't realise the
jQuery <tt>$.get(...)</tt> callbacks were asynchronous and executed at their
own time. I guess it's called "<b>Asynchronous</b> JavaScript And XML" (= AJAX)
for a reason.
</p>

<p>
Then I got it running, but then ran into a Google JS XSLT limitation of
"not implemented: key" (probably the XSLT "&lt;xsl:key /&gt;" feature which
I'm using). Still, I gained a useful experience working with AJAX, JavaScript
and jQuery.
</p>

<p>
In regards to August Penguin - I don't have a lot to report, because I was
too tired due to lack of sleep in the previous days and so left early, right
after the opening sessions.
</p>

<p>
All that put aside, I should note that the Cooker version of Mandriva (which
is its development/experimental version), which
I'm using now is now relatively broken on this machine, and many applications
get hang for noticable periods of time or even completely. Part of it may
be due to the switch from KDE 3 to KDE 4.1.x, but maybe there's something
wrong on this machine's configuration, which I cannot get to the bottom
of.
</p>

</div>


<div class="entry" id="review-of-kde4.1-on-Mandriva-Cooker">

<!--
Tags: KDE, 4.1, KDE 4.1, mandriva, cooker, review, rants, bugs, usability, problems, quirks, virtual desktops, linux, foss, open source
-->

<h2>2008-08-03: Review of KDE 4.1 on Mandriva Cooker</h2>

<p>
Since <a href="http://kde.org/announcements/4.1/">KDE 4.1.x was recently
released</a> and was made available in Cooker, I decided to give it
for a test drive. So I created a new UNIX account logged in to the console
and ran startx. KDE 4 started, looking like I was used to, and I started
making it behave like I was used to.
</p>

<p>
Here are a few problems I encountered, with solutions or workarounds, based on
my memory and my IRC logs:
</p>

<ol>

<li>

<p>
I had problems putting an icon of Konsole, the KDE terminal emulator, on
the panel. The problem was that the KDE "K" menu was configured in Mandriva
to be the "Classic Menu", where the right mouse button does not work.
After switching it to the Kickoff style, I could right-click the menu item
to add it to the panel.
</p>

<p>
I don't understand why the right-mouse button does not work in the classic
menu, or why I cannot drag&amp;drop menu items to the panel.
</p>

</li>

<li>

<p>
Right-clicking on an applet or application launcher in the panel does not
give one an option to move it. The only way to do it is by clicking
the GNOME-logo-like icon at the right of the panel and entering into
panel-editing mode. There is a "Move" option in the context menu of
panel icons in KDE 3, so I wonder why it's absent.
</p>

</li>

<li>

<p>
There doesn't seem to be a system tray by default in the panel, and
after I added it its display of the akregator icon is a bit awkward.
</p>

</li>

<li>

<p>
There aren't any tooltips for any of the icons in the panel, so it's hard
to know what they are all about (One needs to click them to find out.)
</p>

</li>


<li>

<p>
I had problems finding the equivalent of the KDE Control Centre (kcontrol)
in KDE 4. Apparently it's called System Settings in the menus, and is invoked
using "<tt>sysetemssettings</tt>".
</p>

</li>


<li>

<p>
I had problems making sure the taskbar only displays windows from the current
<a href="http://en.wikipedia.org/wiki/Virtual_desktop">virtual desktop</a>.
Apparently, one has to click on the taskbar in a place where "there's no
application" (i.e: in the space between applications) and then choose
"Task Manager Settings", where the option is present.
</p>

<p>
This option is not present in the KDE 4 "system settings" because it's
relevant only to an individual taskbar, of which there can be many. Still,
I would like to see a button on the left of a taskbar invoking a context menu.
</p>

</li>

<li>

<p>
The "Expandable" property of the "Details view" of Konqueror does not get
preserved across invocations of Konqueror, despite the fact that I pressed
"Apply" and "OK". This seems like a bug.
</p>

</li>

<li>

<p>
Finally, on Mandriva, KDE 4.1 does not make use of KDE 3's data, so
KDE 4.1 applications like KMail, Akregator, etc. are useless to me.
</p>

</li>

</ol>

<p>
Of course, KDE 4.1 still seems likable, and I enjoy using it. But I feel
like they need to work on better usability. I am not a newbie - I'm actually
a computer geek and an experienced software developer - and I felt
like I could not make sense of some of the new UI there.
</p>

<p>
I'll try filing bugs in the KDE bug-tracker about it next, and see where it
leads me. Hopefully these usability problems will be fixed in KDE 4.2.
</p>

</div>


<div class="entry" id="rpm-hangup-fixing-by-moving-db">

<!--
Tags: tip, rpm, linux, mandriva, memo to self, database, wedged, db, rebuilddb
-->

<h2>2008-08-09: Tip: Fixing rpm hangup as
root on RPM-based Linux distributions</h2>

<p>
This is more of a memo-to-self than a tip, but it may prove useful to others.
</p>

<p>
When <a href="http://www.rpm.org/">rpm (the
package manager for Linux)</a> as root gets stuck right at the start without
doing anything, try the following:
</p>

<ol>

<li>
Kill all rpm-related processes.
</li>

<li>
Move away <tt>/var/lib/rpm/__db.*</tt> to a temporary location.
</li>

<li>
Run <tt>rpm --rebuilddb</tt>.
</li>

</ol>

<p>
That's it! It already fixed my wedged RPM database twice, so I'm putting
this advice here so I won't forget it.
</p>

</div>

<!--
        - Module-Starter:
            - more tests and bug-fixes.
        - Game-of-Life in Ruby.
        - Test-Run:
            - Adapting to the new TAP-Parser:
                - "SKIP " instead of "Skipping:"
            - New collective backend plugins
        - Freecell Solver
            - make_pysol_freecell_board.py.
                - refactoring.
            - felt good.
        - SMOP Part II.
        - Backup for MediaWikis
        - XML-Grammar-Fortune on Mandriva.
            - https://qa.mandriva.com/show_bug.cgi?id=41993

-->

<div class="entry" id="recent-hacktivity-2008-08-21">

<!-- Tags: perl, module-starter, module::starter, automated tests, testing, unit tests, qa, game of life, conway, ruby, test-run, tap-parser, tap, walkmeth, freecell solver, python, pysol, smop, perl 6, perl6, xml-grammar-fortune, mandriva, fortune, fortune cookies, fortunes, bug, libxml, XML-LibXML, backup, mediawiki -->

<h2>2008-08-21: Recent Hacktivity Summary</h2>

<p>
Well, I added more tests to
<a href="http://search.cpan.org/dist/Module-Starter/">Module-Starter</a>,
and while I was writing the tests, I discovered some bugs in it. So now
there's
<a href="http://code.google.com/p/module-starter/issues/detail?id=2">a
patch with the tests and the bug fixes</a> and
<a href="http://code.google.com/p/module-starter/issues/detail?id=3">another
one with only the bug fixes</a>. Both of them are unapplied.
</p>

<p>
Having been trying to learn Ruby recently, I decided to write a
<a href="http://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway's
Game of Life</a> implementation for it. It took me most of one evening to get
it working and then part of the other day to make it more idiomatic with the
help of the people on Freenode. It felt good in a way.
</p>

<p>
Then I decided to finally see why my
<a href="http://web-cpan.berlios.de/modules/Test-Run/">Test-Run</a> failed
many tests recently. As it turns out, this was due to broken
<a href="http://testanything.org/wiki/index.php/TAP::Parser">TAP-Parser</a>
compatibility: the skip message in skip_all field now accepts only
"SKIP " and not something like "skipping: ". Fixing the Test-Run tests
fixed it and I released new versions.
</p>

<p>
I also noticed that many of the Test-Run-CmdLine plugin had the following
pattern:
</p>

<pre>
sub _init
{
    my $self = shift;
    $self-&gt;NEXT::_init(@_);
    $self-&gt;add_to_backend_plugins("AlternateInterpreters");
}
</pre>

<p>
So I overloaded the construction function, only to add a plugin. I decided to
fix this by doing an accumulation of such plugin specifiers in every plugin,
and so got only:
</p>

<pre>
sub private_backend_plugins
{
    my $self = shift;

    return [qw(AlternateInterpreters)];
}
</pre>

<p>
Which is much cleaner and less intrusive.
</p>

<p>
Next on my plate was <a href="http://fc-solve.berlios.de/">Freecell
Solver</a>. I decided to work on <tt>make_pysol_freecell_board.py</tt>
which is a Python script that generates the initial boards of PySol. The
script was crudely written to begin with and it became even cruder as
time went by. I decided to give it a serious face-lift. So what I did was:
</p>

<ul>

<li>

<p>
Convert the columns (of the card games) from strings to arrays. Each card
was stored there individually.
</p>

</li>

<li>

<p>
Convert the cards to a class, instead of integers and strings. Create similar
classes for managing columsn and boards.
</p>

</li>

<li>

<p>
Extract many functions and methods.
</p>

</li>

<li>

<p>
Create a class to manipulate the various game types, and forward the different
logic based on it.
</p>

</li>

<li>

<p>
Pythonised the script by employing some Python paradigms.
</p>

</li>

</ul>

<p>
You can find
<a href="https://svn.berlios.de/svnroot/repos/fc-solve/trunk/fc-solve/source/board_gen/make_pysol_freecell_board.py">what
I have so far</a> in the repository. It's much better than what I started
with two days ago. Writing such Python code now seems more fun than I recall
it, and I actually enjoyed it.
</p>

<p>
In regards to
<a href="http://www.perlfoundation.org/perl6/index.cgi?smop">SMOP</a>, they
convinced me to install Ruby-1.9.x under a prefix, which I did, but then
it yelled at me for not having a Haskell cabal thingy. Turns out that
the Pugs Makefile.PL installs it somewhere under the home-directory, which
I didn't want to happen, because I want to keep it tidy. Again, this
reminded me of <a href="http://www.drivl.com/posts/view/700">Drivl.com
recipe on how to make square corners</a>, and I decided to give up on SMOP
again.
</p>

<p>
And I should note that I was able
<a href="https://qa.mandriva.com/show_bug.cgi?id=41993">resolve
a long-standing problem I had with XML-LibXML/XML-LibXSLT</a> on my Mandriva
system, and now I simplified the XML-Grammar-Fortune build-system.
</p>

<p>
I also spent some time writing a backup system for some of the Israeli
MediaWikis that I manage. This involved a bunch of Perl scripts.
</p>

<p>
So - Perl, Ruby and Python - all in a few days work. Cheers everybody.
</p>

</div>


<div class="entry" id="handling-mailto-in-firefox3">

<!-- Tags: tip, technical tip, firefox, 3, firefox3, mailto, urls, email, kmail, linux, open source, foss, free software, browsers
-->

<h2>2008-09-10: Tip: Handling mailto: Links in Firefox 3</h2>

<p>
Resources such as <a
href="http://www.ubuntugeek.com/howto-setup-firefox-for-kmail.html">this
one</a> explain how to setup Firefox 2.0.x to use kmail to send email from
"mailto:" links. However, compatibility with this scheme was broken in
Firefox 3, as evident from
<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=428658">Firefox
bug #428658 - "network.protocol-handler.app.mailto" users need to
edit/remove mimeTypes.rdf"</a>.
</p>

<p>
The solution I found is to access
"Edit  Preferences  Applications  mailto" and select the appropriate
application there. This seems to work for Firefox 3.
</p>

</div>


<div class="entry" id="recent-hacktivity-2008-09-14">

<!--Tags: webgui, perl, hacktivity, hacktivity log, cms, readline, editline, gpl, bsd, browsers, bugs, firefox, konqueroer, gringotts, mediawiki, testing, qa, wikipedia, cpanplus, fedora, rpm, typo, its, YAPCs, yapc.org, cwd.pm, bug, bugs, israel, acme, CPAN -->

<h2>2008-09-14: Recent Hacktivity Summary</h2>

<p>
Another hacktivity summary - what can I say?
</p>

<ol>

<li>

<p>
<b>WebGUI</b> -
I decided to try installing
<a href="http://www.plainblack.com/webgui">WebGUI</a> again. After preparing
<a href="http://www.shlomifish.org/open-source/packages/Mandriva/Cooker/SRPMS/">SRPMs</a>
for all of its CPAN dependencies and installing them, I was able to tweak its
and Apache's configuration files based on the instructions there to get it
to run. However, then when I tried to configure it, I found that it go stuck
on the colours configuration. So I temporarily gave up.
</p>

</li>

<li>

<p>
<b>Readline Replacement</b>:
I began working on Term-Eatline, which was supposed to be a Perl prototype of
libeatline, which aimed to be an enhanced BSD-licensed <a
href="http://en.wikipedia.org/wiki/GNU_readline">GNU readline</a> replacement.
After starting writing it using curses, I ran into a
<a href="http://www.mail-archive.com/linux-il@cs.huji.ac.il/msg52827.html">"Curses
Problem in Detecting Backspace"</a>. I found a solution in the CPAN Curses::UI
module, and went on. Then I ran into another problem with detecting Alt+Key
combinations, and decided to see how readline is doing it. As it turns out,
it doesn't use Curses after all.
</p>

<p>
I decided to see if I can now use tcsh's code to bootstrap eatline, and
ran into a <a href="https://qa.mandriva.com/show_bug.cgi?id=40532">tcsh
bug which refused to even let it run</a>. I wrote a patch for this based
on the discussion and some debugging effort, and posted it on the bug report.
</p>

<p>
Afterwards, I contacted a tcsh representative about the bug, and after
telling him my motivation for contacting him, he referred me to
<a href="http://www.thrysoee.dk/editline/">libeditline</a> which is a BSD-style
readline clone. Guess I now have something substantial to start from.
</p>
</li>

<li>

<p>
<b>Browser bugs</b>:
I ran into a few browser bugs on my current Mandriva setup. For once,
<a href="https://qa.mandriva.com/show_bug.cgi?id=42850">Firefox freezes/stalls
for many seconds when loading most pages</a> (which seems to happen
only on my system), and
<a href="https://qa.mandriva.com/show_bug.cgi?id=43396">there are many
delays in the font resizing</a>.
</p>

<p>
I'm disturbed by these problems a bit, and don't know what causes them.
</p>

</li>

<li>

<p>
<b>Gringotts</b>:
Rorschach contributed a minimise-to-a-tray-icon patch for
<a href="http://gringotts.berlios.de/">Gringotts</a>. The patch still has
some issues, but he is working on it.
</p>

</li>

<li>

<p>
<b>MediaWiki</b>:
I decided to contribute to
<a href="http://www.mediawiki.org/wiki/MediaWiki">MediaWiki</a>, and decided
to start by running the test suite. It failed. As it turned out, the test suite
is currently broken, and the MW's developers method of ensuring nothing is
broken is by uploading it to the Wikipedia and testing it there.
</p>

<p>
I decided to fix the test suite. After fixing a few minor breakages and
submitting patches for them, I ran into a very puzzling bug. I decided to
isolate it by gradually removing more and more unnecessary code, while still
being able to reproduce it. I started doing that on the test suite, and
found out that I needed to incrementally copy more code from the MediaWiki
in order to trim it. After 174 such iterations (and intermediate versions
occupying 7.9 MB of my hard disk), I was able to find what the problem was
and write a patch. The problem was that the database handle was initialised
in an old way.
</p>

<p>
Now the test suite still fails especially with some tests in the
t/inc/Parser.t tests, but I'm hopeful. I am disappointed that the MediaWiki
guys don't take automated testing more seriously.
</p>

</li>

<li>

<p>
<b>CPANPLUS-Dist-Fedora</b>: Someone contributed a patch cleaning up <a
href="http://search.cpan.org/dist/CPANPLUS-Dist-Fedora/">CPANPLUS-Dist-Fedora</a>
so I needed to test it on my Fedora VirtualBox VM. This turned out to be
harder than I expected. When updating to the latest version, I ran into
a missing ldap .so dependency. I found out I can eliminate this problem
by removing gnupg2 and all of its dependencies including kdepim. So I was
able to update it after all.
</p>

<p>
Then I decided to use icewm instead of KDE, and wanted to set the wallpaper.
And then it turned out that infuriatingly, xsetbg and xli were not available
in Fedora anywhere for some reason.
</p>

<p>
Eventually, I was able to test CPANPLUS-Dist-Fedora there. The patch added
a change that caused loading the package to fail on all system without
an "rpm" executable, so I released an update as 0.0.3, which also eliminated
the use of two unnecessary modules.
</p>

</li>


<li>

<p>
<b>CPANPLUS Typo fixing</b>: while working on CP-D-Fedora, I found out that
CPANPLUS had a line with "it's" instead of "its". So I grepped the source
for similar cases and <a
href="http://rt.cpan.org/Public/Bug/Display.html?id=39247">submitted a
patch that hopefully corrects all of them</a>.
</p>

</li>

<li>

<p>
I asked <a href="http://www.nntp.perl.org/group/perl.advocacy/2008/09/msg2468.html">where
the previous YAPCs were on yapc.org</a> and was replied that it wasn't
implemented yet and was referred ot the source. True to my mantra that
"One shouldn't complain unless one is willing to implement it himself.",
I <a
href="http://www.nntp.perl.org/group/perl.advocacy/2008/09/msg2476.html">wrote
a patch to create such a page</a>. Most of the foundation for it was already
there.
</p>

</li>

<li>

<p>
<b>Bug in Cwd.pm</b>: I received <a
href="http://www.nntp.perl.org/group/perl.cpan.testers/2008/09/msg2204098.html">a
strange failing report for one of my CPAN distributions</a> with an error
that I could absolutely not reproduce on my machine. As it turned out, the
problem was that on that machine they used the pure-Perl version of
<tt>Cwd.pm</tt> instead of the binary one that I used, and they differed in
their behaviour.
</p>

<p>
I wrote <a href="http://rt.cpan.org/Public/Bug/Display.html?id=39260">a
patch</a>, with a test case and a fix and submitted it.
</p>

</li>


<li>

<p>
Finally, I prepared
<a href="http://perl.org.il/pipermail/perl/2008-September/009827.html">Acme-CPANAuthors-Israeli</a>.
The first version didn't list the dependencies in the Build.PL, but this
is fixed in version 0.0101.
</p>

</li>

</ol>

<p>
At the moment, I feel a bit disoriented and don't know what to do further.
I think I'll help some more with Firefox bug triaging.
</p>

</div>



<div class="entry" id="dumping-svn-history-google-code">

<h2>2008-09-16: Tip: Dumping the History of Google Code's (or any Remote) Subversion Repositories</h2>

<!-- Tags: tip, technical tip, tech tip, subversion, dump, history, svnsync, google, code, google code, hacking, open source, foss -->

<p>
<a
href="http://code.google.com/support/bin/answer.py?answer=56682&amp;topic=10386">Consult
this FAQ on Google Code for how to use svnsync to clone a remote Subversion
repository so you can have a copy of its history</a>. I was told on IRC that
it has the same end result as using <tt>svnadmin dump</tt> on the physical
repository.
</p>

<p>
This post was supposed to be a rant on why I'm not hosting my projects
at Google Code because they don't have a way to retrieve the dump/history
of the Subversion making it a case of vendor lock-in. While this had been
true in the past, I discovered it is no longer the case today, while looking
for the relevant FAQ entry.
</p>

<p>
So kudos for Google and the Subversion people for fixing it.
</p>

</div>


<div class="entry" id="shell-variable-injection">

<h2>2008-09-18: Shell Variable Injection</h2>

<!-- Tags: shell, injection, bash, ksh, zsh, sh, unix, security, tip, technical tip, tech tip, foss, linux, guysoft, safety, variable, variables -->

<p>
<a href="http://www.zulo.org.il/blogs/guysoft/88/">GuySoft writes
in his blog about Unix shell commands to convert video</a>. In the shell
commands, he expands variablse like <tt>-srate 22050 $infile -o
$outfile".flv"</tt>, without putting them inside double-quotes. In this
post, I'd like to demonstrate why this is so dangerous.
</p>

<p>
When the shell expands a regular variable outside quotes it breaks into
words separated by whitespace and then evaluates every word separately. To
use a variable as a single token, one must enclose it inside double-quotes:
<tt>"$MY_VARIABLE"</tt>.
</p>

<p>
Now, let's demonstrate what can happen when we don't do it properly. I'm in
the home directory of a user called "shelltest on my machine". Let's see what
we have there:
</p>

<pre>
[shelltest@telaviv1 ~]$ ls
Desktop/          test-shell-injection.sh*  tmp/
Freecell-Solver/  test-shell-injection.sh~
[shelltest@telaviv1 ~]$ du -s Freecell-Solver/
86M     Freecell-Solver/
[shelltest@telaviv1 ~]$ cat test-shell-injection.sh
#!/bin/sh
mkdir -p $HOME/Backup
cp $1 $HOME/Backup/
rm $1
[shelltest@telaviv1 ~]$
</pre>

<p>
We have the populated "Freecell-Solver" directory, and a shell script called
"test-shell-injection.sh" that uses $1 (its first positional argument)
unsafely.
</p>

<p>
Now let's abuse it:
</p>

<pre>
[shelltest@telaviv1 ~]$ ./test-shell-injection.sh "-fr $HOME/Freecell-Solver"
[shelltest@telaviv1 ~]$ ls -l
total 8
drwxrwxr-x 3 shelltest shelltest 28 2008-09-18 14:14 Backup/
drwxr-xr-x 2 shelltest shelltest  6 2008-09-18 14:05 Desktop/
-rwxrwxr-x 1 shelltest shelltest 58 2008-09-18 14:11 test-shell-injection.sh*
-rw-rw-r-- 1 shelltest shelltest 60 2008-09-18 14:09 test-shell-injection.sh~
drwx------ 3 shelltest shelltest 28 2008-09-18 14:07 tmp/
[shelltest@telaviv1 ~]$
</pre>

<p>
Voila! Freecell-Solver is gone. I could have also said
<tt>./test-shell-injection.sh "-fr $HOME"</tt> to delete the home directory. If
the script does something like <tt>for I in * ; do ... # Something
with $I  .. done</tt>, then a malicious user can supply a file called
"-fr $HOME" (where $HOME is the value of the home directory) in the input to
delete the home directory.
</p>

<p>
In short: when writing shell scripts, always enclose variable expansion in
double quotes, unless you are certain that they don't contain whitespace
(which implies that you generated them yourselves), or you want to use them
as a list (which also requires that you generated them yourselves).
</p>

</div>


<div class="entry" id="osdclub-tel-aviv-meeting-ori-idan-on-semantic-web">

<h2>2008-09-18: OSDClub Tel Aviv Meeting: Ori Idan about the Semantic Web</h2>

<!--Tags: osdclub, tel aviv, telux, linux, club, semantic web, semantic, web, www, w3c, ori idan, announcement -->

<p>
<a href="http://www.cs.tau.ac.il/telux/">The Tel Aviv Open Source Developers
Club (OSDClub)</a> (formerly Telux) will hold <a
href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_September_2008">a
meeting on 21/September (next Sunday)</a>. Ori Idan will deliver a presentation
about <a href="http://en.wikipedia.org/wiki/Semantic_Web">the
Semantic Web</a>.
</p>

<p>
Ori is the director of the Israeli branch of the
World-Wide-Web Consortium (W3C), and is a very good presenter, so it is
recommended to attend.
</p>

<p>
The meeting will take place at 18:30 in the Schreiber
Maths and Computer Science building of Tel Aviv University, room 008.
Attendance is free of charge and everyone are welcome.
</p>

</div>


<div class="entry" id="impressions-from-ruby">

<h2>2008-09-19: Impressions from Ruby</h2>

<!-- Tags: ruby, perl, rspec, bdd, tdd, test-driven development, automated tests, testing, qa, regular expressions, regexes, regexps, increment, decrement, programming, inject, reduce, fold, debug, debugger, debugging, breakpoints, conditioanal breakpoints -->

<p>
Ahoy mateys! Arrrrrrrrrr! Happy <a href="http://www.talklikeapirate.com/">Talk
Like a Pirate Day</a>!. In the piratey spirit, I decided today to get my
act together, and start working on a project I've intended to write. Since
I've been learning the Ruby programming language lately, I decided to write it
in it, to learn more about Ruby and to experiment with it. In this post
I'd like to blog about some of the facts I discovered that surprised me in
Ruby.
</p>

<p>
First of all, I discovered that Ruby regular expressions don't have Perl 5's
"\G" and /g feature that can be used to incrementally parse a string using
regular expressions. The closest thing I could find was using .sub! (with the
empty string), which does an in-place subtitution of a regular expression
</p>

<p>
The second thing I discovered was that Ruby did not have <tt>++</tt> or
<tt>--</tt> operators - one has to use <tt>+= 1</tt> and <tt>-= 1</tt>.
When Ruby tried to parse a line containing "++" it yelled at me with
an obscure error, that caused me to need to incrementally comment-out
code until I found out what the problem was.
</p>

<p>
Another fact that disappointed me was that the Ruby debugger (ruby -rdebug)
does not seem to have conditional breakpoints (i.e: break at a certain line
only if a condition is met).
</p>

<p>
Finally, when I tried to do <tt>.inject { BLOCK }</tt> ("inject" is Ruby's
list reduce / fold method), without a starting element, I discovered that
it used the first element as a starting point instead of 0 or nil or whatever.
Doing <tt>.inject(0) { BLOCK }</tt> in my case fixed it. This fact is
documented in the documentation.
</p>

<p>
Otherwise, Ruby seems likable and I've been feeling I'm productive in it. I've
been using <a href="http://rspec.info/">RSpec</a> for writing my automated
tests. It's a so-called "Behaviour Driven Development" library,
<a href="http://use.perl.org/~Aristotle/journal/36223">which is the
same as Test-driven development</a>, but RSpec is still nice.
</p>

</div>


<div class="entry" id="tip-linux-fontconfig-circular-symlink-problem">

<!-- Tags: tip, technical, tech tip, fontconfig, fonts, symlink, symbolic, link, circular, stall, hang, freeze, unresponsive, font, directories, linux, unix, mandriva -->

<h2>2008-09-27: Tip: Circular Symbolic Links in Fonts Directories Causing Slowdown</h2>

<p>
I noticed <a href="https://qa.mandriva.com/show_bug.cgi?id=43956">a slowdown
recently on my Mandriva Linux Cooker system</a> where X GUI applications would
stall
for a long time and gdb showed that it happened in
<a href="http://fontconfig.org/">fontconfig</a> calls. It happened with all
user accounts on the system, including new ones and was not fixed by upgrades.
Furthermore, other people who used Cooker did not have it.
</p>

<p>
Well, today I finally
found <a href="https://qa.mandriva.com/show_bug.cgi?id=43956#c11">a
solution</a>. Apparently, some of my font directories, contained symbolic links
to themselves, which confused fontconfig and caused it to scan them times
and again.
</p>

<p>
To fix the problem, run
<tt>strace -e open -o fontconfig.strace fc-cache -v</tt>, and see if it
excessively scans more and more sub-directories under the directory
paths. Then move away the offending symbolic links to say
<tt>/usr/share/REMOVED-fonts</tt>.
</p>

<p>
Now konsole starts instantly, KDE 3 apps no longer become unresponsive when
the file with the unicode character, firefox stalls less, and font zoom there
is faster. I'm finally happy again.
</p>

</div>


<div class="entry" id="autumn-cleaning">

<!-- Tags: clean, cleaning, autumn, email, kmail, gmail, rss, atom, feeds, home directory, time management, inbox, items -->

<h2>2008-10-07: Autumn Cleaning</h2>

<p>
I like to keep my queue of incoming items under control. Recently I noticed
several vectors that I did tend to, and decided to deal with them as well.
After I dealt with them, I've been a little negligent, but now they're
fully under control again:
</p>

<ol>

<li>

<p>
<b>Home Email Inbox (KMail)</b> - down to zero messages.
</p>

</li>

<li>

<p>
<b>GMail's Inbox</b> - down to zero messages.
</p>

</li>

<li>

<p>
<b>GMail's folders</b> - down to zero unread messages in all of them
except in the Mandriva Cooker and Mandriva Bugs folders, which I don't need to
keep at bay. I previously left many unread messages there, but now I decided
to keep them at bay as well.
</p>

</li>

<li>

<p>
<b>Bookmarks in Firefox's Main Bookmarks Menu</b> - down to zero items.
I often bookmark them there to read, sort or otherwise deal with later.
</p>

</li>

<li>

<p>
<b>Bookmarks in Konqueror's Main Bookmarks Menu</b> - down to zero items.
</p>

</li>

<li>

<p>
<b>Unread web feed in my web feed aggregator (Akregator)</b> - down to
zero items.
</p>

</li>

<li>

<p>
<b>Files in the root of the home directory</b> - down to zero.
</p>

</li>
</ol>

<p>
Did I miss anything? See <a href="http://perlcast.com/2008/01/27/tom-limoncelli-interview-transcribed/">this Perlcast Interview with Tom Limoncelli on
"Time Management for System Administrators"</a> for more information on
keeping your incoming items at bay.
</p>

</div>


<div class="entry" id="firefox-tip-disabling-drag-and-drop-previews">

<h2>2008-10-10: Firefox Tip: Disabling the Drag &amp; Drop Previews</h2>

<!-- Tags: firefox, disable, cancel, disabling, cancelling, images, previews, drag and drop, tip, tech tip -->

<p>
In Firefox 3, when one drags and drops images or text, they are given as a
large preview around the cursor. I had found it annoying and sought a way
to disable it.
<a href="http://cybernetnews.com/2008/07/07/helpful-tip-disable-drag-drop-images-in-firefox/">This tip came to the rescue</a> after a short Google search
- just go to <b>about:config</b> and set the
<b>nglayout.enable_drag_images</b> to false.
</p>

<p>
Cheers!
</p>

</div>


<div class="entry" id="reply-to-fxn-re-user-was-successfully-created">

<h2>2008-10-11: Reply to fxn Regarding User Was Successfully Created</h2>

<!-- Tags: fxn, web, www, applications, ui, user interface, gui, usability, confirmatio, created, user
-->

<p>
<a href="http://www.advogato.org/person/fxn/diary/503.html">fxn writes
in his Advogato blog about the fact that many web apps confirm that
a user was successfully created</a>:
</p>

<blockquote>
<p>
Why so many webapps confirm to the user that some action was successfully done?
Of course it was!
</p>

<p>
Look at your desktop applications, your editor does not bug you saying "File
saved!" constantly, iCal is indeed almost completely silent. You warn the user
when the disk has run out of space, right?
</p>

<p>
I think those messages come from the insecurity the developer feels about the
amount of failure points between request and response. Perhaps some are just
repeating the pattern seen elsewhere. But that's not the user's business, you
warn when you fail.
</p>
</blockquote>

<p>
I disagree with this. The web is a different user-interface medium than
desktop applications where different rules apply. If you don't give
confirmation on the web for successful actions, the user will wonder if they
were successful or not. So you <b>do need</b> to do so.
</p>

<p>
For example when submitting
<a href="http://www.logicgamesonline.com/contactus.html">this form</a>,
I am brought back to the same form page. So I don't know whether it was
successful or not or if it got sent at all.
</p>

<p>
So a web application writer needs to write a confirmation that many
successful operations took place, and to error if there was a problem.
</p>

</div>

<div class="entry" id="i-have-nothing-to-hide">

<h2>2008-10-11: The "I Have Nothing to Hide" Fallacy</h2>

<!-- Tags: security, privacy, nothing to hide, have nothing to hide, freshmeat, password, freecell solver, gringotts, password manager, openid, firefox
-->

<p>
A common pattern we hear on the Internet in regard to privacy or
security is <a
    href="http://www.google.com/search?hl=en&amp;q=%22i+have+nothing+to+hide%22&amp;btnG=Search">"I
    have nothing to hide"</a> - no one will want to target me because they'll
gain nothing from doing so. Today let me tell you a story that shows why
this is not true.
</p>

<p>
A few years ago, I was using the same easy-to-remember password (which
was only 6-letters long) on most of the sites I had accounts on. One day,
I received an email from
<a href="http://freshmeat.net/">Freshmeat.net</a> asking me if the
fact that I had changed the description in <a
    href="http://freshmeat.net/projects/freecellsolver/">the record of
    Freecell Solver there</a> to "Freecell Solver is a <b>useless</b>
100% ANSI program that automatically solves games of Freecell", indicated
that it was not worthy of inclusion there. This surprised me because I
naturally didn't modify it like that nor intended to.
</p>

<p>
After talking with the admins of Freshmeat, I realised that someone logged
in to my account, and submitted the malicious update for inclusion. They ended
up giving me his IP, which was in Israel's Netvision ISP (while I'm subscribed
to a different ISP). Now, this change
was pretty innocent, but naturally, now that he knew my shared password,
the possibilities for him were endless. As a result, I went on a concentrated
spree of changing that password to new, different ones in all the accounts
I created on the Net with it. I made a smarter use of
<a href="http://gringotts.berlios.de/">my password manager</a> and eventually
discovered the auto-remember-passwords feature of browsers such as
Firefox and Konqueror, and solutions such as
<a href="http://openid.net/">OpenID</a>.
</p>

<p>
There's no good excuse to compromise on security. Do you have a bank
account and access it online? If you're not careful enough, a malicious
attacker installing spyware on your PC might empty it. So you say to yourself:
"What does he have to gain from me? I only have $10,000 there.". Maybe you do,
but if he empties hundred or thousands of accounts like that by writing
a robot, he'll become rich, so he isn't likely to <b>not</b> to target you.
</p>

<p>
And some people are keen on doing random vandalism with your online presence,
like the one I mentioned, who may have also been
<a href="http://shlomif.livejournal.com/11004.html?thread=8956#t8956">trolling
    my blogs</a>. Therefore,  make sure you're as safe as possible. This
incident was all I needed to become more careful, and I hope you now realise
that, as well.
</p>

</div>


<div class="entry" id="three-tips-2008-10-19">

<!-- Tags: vim, tip, tips, technical tips, tech tips, perl, errors, quickfix, subversion, apache, firefox, mailto, noscript
-->

<h2>2008-10-19: Three Tips: Perl with Vim, Subversion Problem and mailto: links in Firefox</h2>

<p>
First of all, <a href="http://www.shlomifish.org/">my home-site's</a> back
and <a href="http://www.youtube.com/watch?v=ewjxzSGmOGw">you're gonna
be in trouble</a>! Otherwise, this entry contains three technical tips that
I collected recently:
</p>

<ol>

<li>
<p>
<b>Perl and Vim</b> - sometimes one encounters a case where he needs to handle
many errors in his Perl script. I encountered a similar case, when I had to
work on a script that was written without "use strict;" and "use warnings;"
and shouted at me senselessly when I added them.
</p>
<p>
To greatly help with that install <a
href="http://www.vim.org/scripts/script.php?script_id=556">perl-support</a>,
and look at its Perl  Run menu - there's "update, run script" (Ctrl+F9)
and "update, check syntax) (Alt+F9) there which place the errors in the
quickfix buffer and allow to quickly navigate them.
</p>
</li>

<li>
<p>
<b>Subversion and Apache</b> - I recently encountered this error when trying
to <b>mkdir</b> the first directory in an empty <a
href="http://subversion.tigris.org/">Subversion</a> repository, that
was served using Apache:
</p>

<pre>
shlomi:~$ svn mkdir -m "Creating TO-DEL trunk" http://localhost:8080/svn/TO-DEL/trunk
svn: OPTIONS of '/svn/TO-DEL': 200 OK (http://localhost:8080)
shlomi:~$
</pre>

<p>
This surprised me because my client was up-to-date and the service used the
same libraries, and it worked with other repositories. As it turned out
the problem was that the Location entry in Apache's <tt>httpd.conf</tt> looks
like this:
</p>

<pre>
&lt;Location /svn/TO-DEL/&gt;
    DAV svn
    SVNPath /var/svn/TO-DEL
&lt;/Location&gt;
</pre>

<p>
The problem here is that <tt>/svn/TO-DEL/</tt> in the "Location"
tag has a trailing slash which confuses Subversion. Eliminating that issue
solves the problem.
</p>

</li>

<li>
<b>Firefox and mailto</b> - if "mailto:" and other non-"http:" links
stopped working in Firefox, make sure that
<a href="http://noscript.net/">NoScript</a> is upgraded to the
latest version. There were problems with some recent versions that broke
"mailto:", "ed2k:", etc.
</li>

</ol>

</div>


<div class="entry" id="why-i-hate-kde-4">

<!-- Tags: kde4, kde, 4, kopete, plasma, leaks, memory, rant, rants, hate, dysfunctional, virtual desktops, konqueror, dolphin -->

<h2>2008-11-01: Why I Hate KDE 4</h2>


<p>
Here are the reasons why I hate KDE 4:
</p>

<ol>

<li>
<b>It looks like shit.</b> Seriously a huge step backwards from KDE 3. The
colours are annoying. The icons are hard to distinguish and ugly. I have
no idea how to make it look better.
</li>

<li>
<b>Plasma leaks memory</b> (see <a
href="http://bugs.kde.org/show_bug.cgi?id=165423">this bug report</a>),
making me having to restart the desktop after a few days.
</li>

<li>
<b>The buttons order is not Windows-like</b>. Yes, they reverted to the
GNOME/Mac-o-Sucks order by default. I have no idea how to change it to
the Windows order which I like.
</li>

<li>
<b>The New Konqueror/Dolphin File browsers are slow and dysfunctional</b>.
They are much slower to scroll than their KDE 3 equivalents, and
<a href="http://bugs.kde.org/show_bug.cgi?id=172357">typing the first
letters of the filenames there to jump to it is dysfunctional.</a>. I have
to use Konqueror 3.5.x to enqueue files into Amarok.
</li>

<li>
<b>Amarok 2.x is annoying</b>. It looks ugly, the file entries have a huge
height, the context tab is gone, and it is generally dysfunctional.
</li>

<li>
<b>The Konsole tabs are now dysfunctional</b>. There is no button to open
a new tab, and the right click on them doesn't do anything. Both of these
worked in the Konsole of KDE 3.5.x.
</li>

<li>
<b>No different wallpaper on each virtual desktop</b>. See
<a href="http://bugs.kde.org/show_bug.cgi?id=155150">this</a>. This is
actually a regression from KDE 3.
</li>

<li>
<b>The New Kopete is Dysfunctional</b>. Its icons are annoying and
hard-to-distinguish, I'm playing whack-a-mole with the popups of the MSN
plugin, it crashes on exit,
<a href="http://bugs.kde.org/show_bug.cgi?id=173657">the
input box is left-aligned in Hebrew</a>,
and <a href="http://bugs.kde.org/show_bug.cgi?id=173599">the Jabber chat
is now unusable</a>.
</li>
</ol>

<p>
To sum up, KDE 4 is dysfunctional, ugly, buggy and a huge step backwards.
I temporarily switched to KDE 3 because KDE 4 made me irritated and edgy.
</p>

</div>


<div class="entry" id="tip-finding-email-of-cpan-tester">

<!-- Tags: identify, find, discover, email, cpan, tester, cpantester, cpantesters, perl, form, spam, message, id, nntp, tip, tech, tech tip -->

<h2>2008-11-04: Tech Tip: Finding the Email of a CPAN Tester</h2>

<p>
I'm writing it here so I won't misplace it in a <a
href="http://theledgeofknow.blogspot.com/">"Know where
the ledge is..."</a>-style. If you need to find the id of a CPAN tester based
on his report, use <a href="http://stats.cpantesters.org/cpanmail.html">the
"Find a tester" form on cpantesters.org that allow you to enter the ID (
or the URL) and find the tester</a>. It took me a while to find it today
after I misplaced it and needed to contact a CPAN tester, and Google
was no help.
</p>

</div>

<div class="entry" id="tip-sorting-rpms-by-installation-date">

<!-- Tags: tip, tech, tech tip, rpm, rpms, installation, date, mandriva, linux, red hat, sort -->

<h2>2008-11-05: Tech Tip: Sorting RPMs by Installation Date</h2>

<p>
In order to sort the installed RPMs (RPM Package Managers) by installation
date on an RPM-based Linux distribution, use the following command:
</p>

<pre>
rpm -qa --qf '%{INSTALLTIME} %{NAME}\n' | sort -n | \
    perl -MPOSIX -lpe 'my ($t,$p)=split; $_=POSIX::strftime("%Y-%m-%d",localtime($t))." $p"'
</pre>

<p>
You can change the format of the strftime format to something else if you want
more than the date.
</p>

</div>


<div class="entry" id="tip-changing-the-dialog-button-order-for-kde4-apps">

<!-- Tags: tip, tech, tech tip, kde 4, button order, gnome, windows, style, widget -->
<h2>2008-11-22: Tech Tip: Changing the Dialog Button Order (GNOME-style vs. Windows/KDE style) for KDE 4 Applications</h2>

<p>
On my Linux system, I had a problem that the order of the dialog buttons
on the dialogs of KDE 4 applications were GNOME-style (e.g: [Cancel] [OK])
instead of Windows/KDE-style (e.g: [OK] [Cancel]). The solution I found
was to change the Widget style (in
"systemsettings  Appearance  Style  Style  Widget Style") from Clearlooks
to Plastique. However, no one seems to know for sure what determines the
actual button order.
</p>

<p>
Refer to <a href="http://bugs.kde.org/show_bug.cgi?id=174029">this bugs.kde.org
bug report</a> and <a href="https://qa.mandriva.com/show_bug.cgi?id=45905">this
Mandriva bug report</a> for more discussion.
</p>

</div>



<div class="entry" id="tech-tip-setting-msie-7-as-default-browser">

<!-- Tags: tip, tech tip, tech, msie, internet explorer, 7, firefox, default browser, windows xp, hack, workaround, winxp -->

<h2>2008-11-24: Tech Tip: Setting MSIE 7 as the Default Browser on Windows</h2>

<p>
I should note that in the case of this tip, I don't know why it works whereas
everything else I tried didn't, but it worked for me. Your kilometrage may
vary.
</p>

<p>
At my home, we have a Windows XP computer with Microsot Internet Explorer
7. After I installed Firefox, and made it the default browser for my account,
it became the default for other accounts as well. Furthermore, setting Internet
Explorer as the default in its configuration tab
(under "Tools  Internet Options") did not work, as Firefox remained the
default browser.
</p>

<p>
The way I resolved it (eventually) was by also enabling the checbox that
instructs Internet Explorer to warn on startup if it detects that it's
not the default browser. Then and only then, it became the default browser
again.
</p>

<p>
I have no idea why it worked for me, but it did.
</p>

</div>


<div class="entry" id="osdclub-telaviv-meeting-2008-11-23">

<!-- Tags: telux, osdclub, tel aviv, meeting, linux, open source, foss, report, irack, apple, mini-intro -->

<h2>2008-11-24: Report on the Last OSDClub Tel Aviv Meeting</h2>

<p>
Yesterday, the <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source
Developers' Club</a> held the first meeting in the 2008 Welcome-to-Linux
series for the "Mini-Intro" presentation. I arrived to the place early as
usual, and there was no one in the class-room except for some students who
came for the previous class. They asked me what is going to be there, though.
</p>

<p>
The attendees arrived shortly afterwards. Then some minutes before the
presentation, I called Eddie, who was going to give the talk on the cell-phone
and asked him where he was. He said he forgot all about the talk, and asked
if I could find a different lecturer instead of him. Luckily, Ori was there
and we went over the slides in preparation.
</p>

<p>
Ori gave a good presentation, in my opinion, and some people from the
audience asked him questions, and I and other people gave some commentary. Then,
some people arrived while the talk was in progress.
</p>

<p>
During the break some people asked me about the possibility on soliciting
some presentations that they were interested in. One of them told me he came
for a presentation about the command line, and was less interested in all
the GUI stuff which he was already mostly familiar with. Another asked if
we could give a presentation about SELinux, NIS or similar topics related
to system administration, because he was studying for his RHCE. We'll see
what we can do about these requests.
</p>

<p>
I forgot the camera at home, so I couldn't take pictures.
</p>

<p>
Then I ushered everyone out of the room, and those that were interested went
to the caf. I went with two other guys, who turned out to be Biology students
- one of them talked on his cellphone all the way and while we waited for the
others to come, but I could talk with the other guy. He asked me which
programming language he should learn first and I told him the conclusions
from my <a href="http://www.shlomifish.org/philosophy/computers/education/introductory-language/">Introductory
Progrmmaing Language essay</a>. We also discussed distributions.
</p>

<p>
Then Galia and Kobi (who went to re-park Galia's car) found us, and said they
had thought we already were sitted in the caf. We found a table, but then
decided it was too low to be effective, and so switched places. Then we
ate, drank and talked. We exchanged many jokes about Apple and stuff
like <a href="http://www.youtube.com/watch?v=rw2nkoGLhrE">the iRack</a>
and "iLand", which is Apple's CEO's private island. (One of our guests
made the latter one on the spot.)
</p>

<p>
In short, a lot of good time was had. Next presentation is next Sunday
about the Installation Process. Hope to see you all there.
</p>

</div>

<div class="entry" id="seven-deadly-sins-of-arc">

<!-- Tags: arc, lisp, scripting, usable, language, paul graham, scheme, common lisp -->

<h2>2008-11-06: The Seven Deadly Sins of Arc</h2>

<p>
<a href="http://www.paulgraham.com/arc0.html">Arc</a> is Paul Graham's dialect
of <a href="http://en.wikipedia.org/wiki/Lisp_programming_language">LISP</a>,
that aimed to finally create a usable dialect of Lisp. It was released some
months ago, and I played with it and even contributed some code to the
Anarki Arc effort. In this post, I'd like to note why I think it has proved
to be mostly irrelevant and so quickly went into obscurity. People who
wish to create their own new popular programming language would be able to
use this list to learn what they shouldn't do.
</p>

<p>
The Seven Deadly Sins of Arc are:
</p>

<ol>

<li>
<p>
<b>Not Many Exciting Features and Paradigms</b> - Arc may be more brief
than other Lisp dialects, and removed a lot of extraneous syntax, but it
doesn't seem to sport many exciting features and paradigms. It seems
like a Scheme-like-language only slightly better and slightly worse at
the same time.
</p>

<p>
Graham made a call for advice on his site, looking for ideas no how to improve
Arc, but it seems very few of them made it into the final language.
</p>
</li>

<li>
<p>
<b>Standard State-of-the-Art Features are Missing</b> - Arc has no
built-in Object-Oriented Programing (OOP) system and it also lacks
namespaces. Both of these features are part of the absolute minimum
expected of any language today.
</p>
</li>

<li>
<p>
<b>No Version Control was Used for Arc</b> - when Graham published
<tt>arc0.tar</tt> (more about it later)
on his site, it was just a tar. He didn't publicise the URL for a version
control system that he used for work on Arc. And
<a href="http://www.paulgraham.com/distraction.html">in this article</a>
he claims he has recently been using a mostly-disconnected computer to do his
work, which indicates he's oblivious of the importance of using a remote
version control repository for constant work.
</p>

<p>
I don't have a lot of confidence in a program that's not kept under
version control, and neither do most professional programmers.
</p>
</li>

<li>
<p>
<b>No Automated Tests Suite</b> - Arc shipped without any automated tests.
If an obscure feature was broken, then Graham could not find out. Nor did
he have the specification-feature inherent in the automated test suite. Also
the lack of Test-Driven-Development (TDD) for its development is distressing.
Maybe that's what Graham calls <a href="http://arclanguage.org/">exploratory
    programming</a>
</p>
</li>


<li>
<p>
<b>Basic Usability is Missing</b>: there was no way to do <tt>./arc
    filename.arc</tt> to execute a file directly from the command line. I
had to add it to Anarki Arc, myself.
</p>
</li>

<li>
<p>
<b>Weird Versioning</b> - the first released Arc version was <tt>arc0.tar</tt>.
The second was <tt>arc1.tar</tt> and the third was <tt>arc2.tar</tt>. Normally,
one would expect that <a
    href="http://catb.org/esr/writings/cathedral-bazaar/homesteading/ar01s13.html">version
    1.0 of an open-source project would be very mature</a>, much less version
2.0, but
in Arc's case they were incremental releases, released after a short time.
</p>

<p>
So the versioning used by Graham is strange, not very conventional and
confusing.
</p>

</li>

<li>
<p>
<b>Brevity Taken to Non-sensical Extremes</b> - Arc tries to be
as brief as possible, which is good, but it sometimes defies common sense
and convention. For example the <tt>(not)</tt> function in Arc is <tt>(no)</tt>
so the code reads <tt>(if (no a) (pr "a is false"))</tt> (is that even
English?).
</p>
</li>

<li>
<p>
<b>Bonus! No line numbers in errors</b> - that's right, when something goes
wrong in an Arc progam, then you don't get a line number where it occured. How
can one write anything but toy programs this way? Of course, given that
executing files from the command line was not supported, it may not be
very surprising.
</p>
</li>

</ol>

<p>
In short, if you were hoping for a usable and modern dialect of Lisp, then
Arc is not the answer, and won't be without a lot of work. I was
told <a href="http://clojure.org/">Clojure</a> is much better than Arc, which
I have
little experience with, but may be better. (Although the fact that it targets
the JVM is somewhat of a turnoff).
</p>

<p>
But Arc, as it currently stands, is not the answer. Graham had a lot of time
to invest in polishing Arc before its release, but it's not polished at all.
The initial flurry of interest in Arc seems to be largely gone now, and it
seems unlikely that it will ever mature into something professional and
usable. Arc gave me some ideas on how to create a more usable Lisp, but it
otherwise lacked essential feature and is still lacking. I'm going to look
elsewhere for a usable Lisp dialect.
</p>

</div>


<div class="entry" id="tech-tip-kde3-audio-notifications">

<!-- Tags: tech tip, tech, tip, kde 3, sound, notifications, audio, enable, bugs, mplayer, arts, events, pulseaudio
-->

<h2>2008-12-20: Tech Tip: Enabling Audio Notifications in KDE 3 Applications</h2>

<p>
For a long time, I didn't have any audio notifications in KDE 3 applications,
including not in such applications as Kopete, where people keep sending me
nudges. Today, I was finally able to fix it. Here's how I did it.
</p>

<p>
Run kcontrol, and go to "Sound &amp; Multimedia  System Notifications". Now
notice the "Player Settings" button on the bottom-right corner of the screen,
and press it. Switch the option to "Use an external player" and enter
"/usr/bin/mplayer", or a similar capable non-interactive audio player. Press
the "OK button" and say "Apply" in the main KControl window.
</p>

<p>
Sound notifications should now work, or at least they do on Mandriva Linux
Cooker, where the combination of PulseAudio, artsd, and other curses like that
messed up KDE completely. Hope it works for you.
</p>

</div>



<div class="entry" id="eventful-week-2008-12-14">

<!-- Tags: eventful, week, perl, lessons, pupil, telux, linux, club, tel aviv, herzeliyah, herzelinux, initramfs, boot, system, w2l, how to get help, bugs, kde, kde 4, qca, mandriva, kopete, amarok, amarok 2.x, javascript, qtscript, xml, sax -->

<h2>2008-12-26: Eventful Week</h2>

<p>
The week before this one (starting on 14-December) was eventful, with one
event on each day. On Sunday, I had a
<a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Linux
Club</a>/Welcome-to-Linux meeting. Ori Idan gave his now regular "Living in
the Open-Source Community and How to Get Help" talk. There were about 10 people
there (less than previous times we held the series) but it went well. After
the meeting, three of us went to the local university caf. At the end of
the meeting Galia spent a lot of time showing off the "cool factor" of her
Mac computer. There were some cool things there, but not enough to convince
me that <a href="http://www.shlomifish.org/open-source/anti/apple/">Apple
wasn't Evil</a>. One thing she showed was that you can take a photo using
the built-in-camera and drag-and-drop it to an MSN conversation to send it.
(As opposed to saving it to a file and then sending the file - the "Windows
way".) This seems sensible enough to have been done in Linux and Windows
already (didn't check, though), and on the other hand, I couldn't open
the photo that she sent from the Mac on my Linux Machine.
</p>

<p>
In any case, the next day, Monday, I gave a Perl lesson on MSN Messenger
to my Perl pupil. I find it hard to interact with her remotely without
the proximity, and due to the fact I don't have access to her computer.
Another thing that made it more difficult was the fact that I didn't have
sound notifications on Kopete <a href="http://community.livejournal.com/shlomif_tech/18706.html">which I solved since then.</a>
</p>

<p>
On Tuesday, I went to the Open University center near Tel Aviv University
to meet my pupil for paying for the MSN lessons, and then went to
the doctor to get presecriptions for medications.
</p>

<p>
On Wednesday, I had a job interview. It went pretty well, but I still don't
know if I got the job.
</p>

<p>
On Thursday, I went to a meeting of the Herzeliyah Linux club. I got there
early and spent some time chatting with people who came to see the
presentation. I didn't even notice the talk started late, until the organiser
and the lecturer arrived. The talk was about the various ways to boot
a Linux system, and was nice. I returned home after the talk, because no
one wanted to go to a caf or restaurant.
</p>

<p>
I hoped I could rest during Friday, but instead ran into several bugs in the
comptuer. Kopete of KDE 3 stopped working for some protocols, due to a missing
qca1, which turned out to be gone for good from Mandriva Cooker (as part
of their general depracation of KDE 3). I had to
download the old .rpm from the Mandriva repository, and tweak it to build
qca1. I should note that now KDE 4's Kopete is much more stable than it used
to be, and is actually usable, so I'm using it.
</p>

<p>
Then after I tried Amarok 2.0, I discovered that its album cover in the
middle pane, was too
large, and that it won't play
<a href="http://en.wikipedia.org/wiki/Module_file">Module
files</a>. On Saturday, I discovered that they dropped support for
out-of-process scripts, which means it'll be less trivial to port the Perl
script I wrote to Amarok 2.x. If I would want to do so, I'll need to
re-implement it in QtScript/JavaScript, which I heavily detest and which
will require a lot of extra research.
</p>

<p>
Finally, I had problems building perl-XML-SAX-ExpatXS, which doesn't
exist on Mandriva. On Saturday, I finally got it working, after looking
at other XML-SAX packages on Mandriva. This reminds me that I still need to
upload the new RPMs I created.
</p>

<p>
That's it, I guess. This week was less eventful, and I even got some coding
done (more about it later hopefully).
</p>

</div>


<div class="entry" id="recent-perl-hacktivity-2008-12-26">

<!-- Tags: perl, hacktivity, recent, hack, hacking, programming, xs, tutorial, file-find, file-find-object, file-find-rule, config-inifiles, ini, config
-->

<h2>2008-12-26: Recent Perl-Related Hacktivity</h2>

<p>
It's been a while since I programmed intensively until a few days ago, but
that's changed recently. Here are some things I worked on recently:
</p>

<ol>

<li>
<p>
I worked on my <a href="http://en.wikipedia.org/wiki/XS_(Perl)">Perl/XS</a>
tutorial-of-sorts. You <a href="http://opensvn.csie.org/shlomif/documents/perl/trunk/perl5/ext-embed-internals/">can find it in its repository</a>. The
first thing I did was re-organise the repository so there won't be a several
sub-dir in the trunk for each XS function I added to the module, which I
use to incrementally introduce the person to XS. Then I added a function,
which I
<a href="http://www.nntp.perl.org/group/perl.xs/2008/12/msg2519.html">encountered
some problems with</a>, and resolved them.
</p>
</li>

<li>
<p>
I worked on
<a href="https://sourceforge.net/projects/config-inifiles/">Config::IniFiles</a>, and uploaded a new verstion to CPAN. The good people at the modules@perl.org
mailing list resolved the problems we had with its maintainenace status, and
the upload got indexed. There are more fixes in the trunk as of now.
</p>
</li>

<li>
<p>
I worked on File-Find-Object-Rule which is my spin-off of <a href="http://search.cpan.org/dist/File-Find-Rule/">File-Find-Rule</a>
that uses
<a href="http://search.cpan.org/dist/File-Find-Object/">File-Find-Object</a>
instead of the core (and philosophically problematic) File::Find module.
I'm breaking the File-Find-Rule API because it relies too much on
File::Find'isms, so I would have to rename it.
</p>

<p>
While I was working on File-Find-Object-Rule, I found a bug in File-Find-Object
which I fixed, and released a new version to the CPAN. It will be sometime
before File-Find-Object-Rule is ready for release, because while the tests
now pass, it still requires a lot of work.
</p>

</li>
</ol>
</div>

<div class="entry" id="problems-with-svk">

<!-- Tags: svk, perl, svn, subversion, version control, distributed, vcs, revision control, scm, problems, rant rants, software, software rants -->

<h2>2009-01-09: Problems With SVK</h2>

<p>
Many months ago, I discovered
<a
href="http://lists.bestpractical.com/pipermail/svk-users/2008-November/000380.html">several
huge problems with SVK (a distributed version control system based
on Subversion) on my system</a>: it no longer propagates the local
changesets to the remote repositories, and I can no longer mirror a new
remote repository. However, there was no way I could get any help with it.
The chief SVK maintainer, CLKAO has been extremely unresponsive. I could
almost never reach him on IRC or on email, and when he does respond and I
respond to him, he doesn't respond back. I met someone on IRC who seemed
somewhat knowledgable, but he could not offer anything better than a workaround
where I'd lose my entire local history.
</p>

<p>
I offered a bounty of 50 USD to the first person who will fix this
problem, but no one took the offer. In the svk-users mailing list, many
(most?) questions go answered and unresolved. A new version of SVK (2.2.1) was
recently released, and I tried to prepare an RPM for it on my Mandriva Cooker
system, hoping it will fix the problem, <a href="http://rt.cpan.org/Public/Bug/Display.html?id=41842">but the tests failed there.</a>. Fearing something
is broken, I decided against proceeding.
The
<a href="http://rt.cpan.org/Public/Dist/Display.html?Name=SVK">SVK
bugs queue</a> contains 61 (!!) open bugs that weren't addressed or closed.
</p>

<p>
Best Practical, the company that hired CLKAO to further his work on SVK,
<a href="http://bestpractical.com/services/svk-support.html">are offering
commercial SVK Suppot starting at 5,000 USD per year</a>. (Which I cannot
afford) The original reason they hired CLKAO was because they were using SVK
and wanted to promote it and sponsor its development. However, it now seems
that they just decided to capitalise on it, and kill the pro-bono/community
channels of support.
</p>

<p>
In short, I'm stuck with a lot of data on my hard disk that I cannot propagate
to the outside. I'll be appreciative of any way to fix SVK so I can propagate
it to the outside, or a recommendation of a different tool that can do it for
me based on the SVK local Subversion repository. In the meanwhile, my advice
to you is that until the attitude of the core SVK developers changes, and the
bugs in SVK are fixed, then you should stay away from SVK, and not depend on
it.
</p>

<p>
If you're looking for a way to decentralise a remote Subversion repository,
then you can look at
<a href="http://www.kernel.org/pub/software/scm/git/docs/git-svn.html">git-svn</a> ,
<a href="http://bazaar-vcs.org/BzrForeignBranches/Subversion">bzr-svn</a> ,
and <a href="http://blog.red-bean.com/sussman/?p=116">hgsubversion</a> . But
you should not depend on SVK.
</p>

</div>


<div class="entry" id="reports-on-foss-meetings-2009-01-10">

<!-- Tags: perl, padre, ide, editor, vim, emacs, vi, gabor, szabo, szabgab, refactoring, telux, osdclub, tel aviv, haifa, matam, haifux, perl, software, art, pyconstruct, construct, data, parsebinary, binary, parser, alan, haggai, alavi, archive, zip, herzelinux, accessiblity, accersiser, gnome, linux, gtk, qt, kde, corba, dbus, ruby, rails, israel -->

<h2>2009-01-10: Reports on Recent Open-Source Meetings</h2>

<p>
I attended four open-source-related meetings this week. On Sunday,
<a href="http://szabgab.com/">Gabor Szabo</a>, gave a presentation about
<a href="http://padre.perlide.org/">Padre, the Perl IDE</a>, which he
described as a "Notepad with a big ego". The presentation was originally
titled "wxPerl programming and Padre, the Perl IDE", but for better or for
worse Gabor did not talk about wxPerl at all. The presentation was mostly
focused about what Padre can do now, Goals for next releases, and a call
for volunteers. I found the most impressive part to be the fact that it had
some rudimentary Perl 5-syntax-aware refactorings, like lexically change
a variable name.
</p>

<p>
10-20 people came to the meeting, but many of them left before it was done.
(don't know/remember why), and only 4 of us went to the cafe afterwards.
Still, a lot of fun was had.
</p>

<p>
For another review of the meeting see <a
href="http://use.perl.org/~xsawyerx/journal/38222">xsawyerx</a>.
</p>

<p>
Next on Wednesday, I attended the Perl-Haifa meeting. I took the train to
Haifa, and after I arrived at Matam, I met a regular
<a href="http://www.haifux.org/">Haifux</a> attendee on the way, whom I
haven't seen in a long time and we talked about stuff. Not many people came
to the meeting, but one or two ended up late.
</p>

<p>
Uri Bruck presented about Perl in Software Art. He presented a lot of
unorthodox art which was software based. I daresay the projects he presented
there were more strange than I expected it to be. One problem we had was with
the intermittent Wireless LAN connection on his computer, but that wasn't
too bad.
</p>

<p>
After that, <a href="http://www.semuel.co.il/">Shmuel Fomberg</a> gave
a presentation about
<a href="http://search.cpan.org/dist/Data-ParseBinary/">Data-ParseBinary</a>.
The story of the module is interesting. I originally attended a presentation
about <a href="http://construct.wikispaces.com/">PyConstruct</a>
given by one of its developers on a Python-IL meeting. Then, when I helped
<a href="http://alanhieu.ml/">Alan Haggai Alavi</a> with the
(Perl/CPAN) Archive::Zip TPF grant, I suggested that as part of the grant,
he'll write a PyConstruct-based parser for .zip files, to help in analysing
different archives and see where Archive::Zip goes wrong. Now Shmuel
saw it mentioned in the grant, and liked the idea, so he ported it to Perl
as Data-ParseBinary. And then, Data-ParseBinary was good enough that Alan
Haggai decided to use it as the parser for the .zip format for his Archive::Zip
grant.
</p>

<p>
Before the presentation, I talked with Shmuel, and thanked him on behalf
of Alan. He said that he knew of Alan's use of Data-ParseBinary based on a
web-search and that he was his only known "customer". Even Shmuel himself
did not make an active use of Data-ParseBinary in production. (But he said
he's planning to soon).
</p>

<p>
In any case, in the talk, Shmuel gave a relatively comprehensive overview
of the module's features, and how to use it for many use-cases. One attendee
kept asking him questions about why he did things this way instead of the
other, and Shmuel answered with the right way to do things. He said that
Data-ParseBinary's interface was originally based on Construct's, and so many
of the problems the attendee found with it were derived from there. We
also had some fun correcting the pronunciation of certain English words.
</p>

<p>
Data-ParseBinary seems very cool and useful in case you need to analyse or
modify binary formats.
</p>

<p>
On Thursday, I went to a Herzelinux (Linux in Herzeliyah) meeting. Eitan
Isaacson gave a presentation about accessibility in GUI software in general
and about Accersiser, which is a tool he wrote in order to help test
the accessibility of programs. Accersiser basically lived at the lowest
layer of the accessibility API and acted as an accessibility aid that shows
what is available there. The presentation was interesting, but from my
impression, it seems that Accersiser is too crowded with information so
one cannot see the forest from the trees.
</p>

<p>
He mentioned KDE/Qt applications, and said that they don't yet interface with
the accessibility framework used by GNOME, Java and Mozilla because it is
based on CORBA, and they don't want to have to depend on it. They said they're
planning to add a DBUS-based transport, which will hopefully enable Qt and KDE
to interface with it as well.
</p>

<p>
After the Herzelinux talk, someone drove me to the Israeli Ruby meeting
at a pub, nicknamed "Beer on Rails". Since I ate a lot of refreshments at
Herzelinux, I only ate some spicy fries there (which were very good). I engaged
in a few talks there, but was soon left out because I sat in the corner
between two conversations that I could not hear well. One talk that I remember
was that someone told me he tried to use Vim instead of Emacs, but found it
frustrating that while in Insert mode he could not move to the previous or next
characters without pressing Escape. I told him to use the cursor keys, but
he said he'd rather not because they are too far away. Then I told him that
he can bind certain key bindings to do something else while in Insert mode,
but he said "Yes, but that would no longer be vi.".
</p>

<p>
I'm personally not too bothered by this, because I have no problem using the
arrow keys for certain tasks, and because I find that when working on editors
on other systems, I only do minimal tasks until I can set up an environment
that I like like I am used to. But I can relate to such problems.
</p>

<p>
In any case, I eventually got too tired, paid, and took the bus home. I hope
the next meetings will be in a different format, and somewhat earlier during
the day.
</p>

<p>
So it's been a busy week, and a lot of fun was had. Bye for now.
</p>

</div>

<div class="entry" id="shavin-another-second-ffo">

<!-- Tags: optimisation, optimization, optimise, optimize, file-find-object, file::find, perl, find, cpu, io, refactoring, perl5-porters, directory, tree, traversal, hacktivity, log -->

<h2>2009-01-14: Shavin' Another Second</h2>

<p>
I've been working on <a
href="http://www.shlomifish.org/open-source/projects/File-Find-Object/">File-Find-Object</a>
for quite some time now. File-Find-Object provides an alternative to
File::Find, which is a built-in module in the perl 5 distribution, with
several major philosophical limitations. What both modules do is traverse
a directory tree and allow the programmer to do something with all the
results, similar to <a href="http://en.wikipedia.org/wiki/Find">the Unix
shell's "find" command</a>.
</p>

<p>
My obsession with working on File-Find-Object started
<a href="http://www.nntp.perl.org/group/perl.perl5.porters/2006/03/msg110263.html">in
this perl5-porters thread</a>, where I also claimed that File::Find was
probably IO-Bound, and so making it iterative and capable of instantiation
(which is partially what File-Find-Object is all about), will not harm
its performance much. As it turns out, I was not entirely right.
</p>

<p>
About two weeks ago, I decided to finally benchmark File-Find-Object. The
original motivation for this was a small change I did and perceived as an
optimisation in which I reduced the number of hard-disk-reading system calls
that it used to a minimum. I wrote a few shell scripts that timed the
old version of F-F-O versus the new one on my <tt>~/progs</tt> directory (which
contains many sub-directories), after it was in turn traversed by the
shell "find" command.
</p>

<p>
Both version took somewhat over 2 minutes to complete the scan, which seemed
pretty good to me. However, when I benchmarked a similar script using
File::Find, I found out that it finished the scan in under 5 seconds, making
it 24 times faster than File-Find-Object. I didn't want F-F-O to be so much
worse, so I decided to work on optimising it.
</p>

<p>
My methodology in optimising File-Find-Object was to profile it using
<a href="http://code.google.com/p/perl-devel-nytprof/">Devel::NYTProf</a>
(the Perl profiler with the best reputation, and one which I can now
recommend as well), find problematic spots, try to optimise them, and
then benchmark the old code against the new to see if there were any
improvements, and if so - commit.
</p>

<p>
Among the notable changes I performed were:
</p>

<ol>

<li>
<p>
The first thing I noticed was that a lot of time was spent in Class::Accessor
code. To remedy this, I switched to
<a href="http://search.cpan.org/dist/Class-XSAccessor/">Class-XSAccessor</a>,
which resulted in saving 40 seconds of runtime. The other changes I made
were less substantial individually in terms of run-time saving.
</p>
</li>

<li>
<p>
Added a flag to <tt>$self</tt> (the object instance) with whether or not
the stack of the directories through which the traversal is in progress
is full. It was used inside several dynamically-generated functions where I
delegate to top and non-top versions.
</p>

<p>
To save some extra speed, the flag is checked using
<a href="http://perldoc.perl.org/functions/exists.html">exists</a> which
should be a bit faster than checking for the truth of the value.
</p>
</li>

<li>
<p>
Saved 2.5 seconds of run-time by implementing a commonly used function
(that was reported to consume a lot of time) in a direct manner, instead
of the top/non-top delegation, and using some judicious optimisation using
the "||" operator.
</p>
</li>

<li>
<p>
Saved many seconds on eliminating calls to <tt>_copy</tt> methods that
flat-copy array references (and that are also generated dynamically). Often,
the copying was not needed at all.
</p>
</li>

<li>
<p>
Eliminated excessive calls to
<a href="http://perldoc.perl.org/File/Spec.html">File::Spec</a>'s
functions by caching the results.
</p>
</li>

<li>
<p>
For each node, File-Find-Object performs two actions in a specific order
depending on the "depth" instance-wide parameter. Previously, handling them
involved weird returns of arrays, and indexes-mangling (which I admit that
I originally implemented in my endless refactoring). This was changed
to a simple array of method names, from which values are extracted.
</p>
</li>

<li>
<p>
Re-arranged the order of operations to prevent an
<tt>if (_is_top()) { ... }</tt> conditional, that was done in every iteration.
</p>
</li>

<li>
<p>
Originally, the main object served as the controlling object for the top
directory, and <tt>dir_stack-&gt;[0]</tt> was the directory below it. So
when checking for fatherhood of a directory, one had to return the main
object for the father of <tt>dir_stack-&gt;[0]</tt>. In a series of commits, I
moved it to be a separate object, as well as occupying the first step
in the directory stack.
</p>

<p>
As a result, I was able to cache the "_current" object inside an accessor,
because doing so in for the main object before would have resulted in a
circular reference, which would have caused a memory leak.
</p>
</li>
</ol>

<p>
Thanks to all these optimisations, File-Find-Object now runs at
about 30-40 seconds.
</p>

<p>
Yesterday I also benchmarked the first version of File-Find-Object
before I took over its maintenance, and started refactoring it, and
it runs at 17 seconds for the same test.
</p>

<p>
So what are the <b>Conclusions</b>?
</p>

<ol>
<li>
Accessors in Perl may incur a large overhead if Class::XSAccessor (or similar)
are not used.
</li>

<li>
Extracting methods excessively can incur a heavy penalty on performance of
Perl programs.
</li>

<li>
Traversing a directory in Perl can be very CPU-bound.
</li>

<li>
Many small optimisations can together yield a huge benefit. Bill Raymond says
in
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/222">this
message to the fc-solve-discuss mailing list</a>
that "I achieved my fast times by multitudes of 1% reductions". I can
attest to it here.
</li>
</p>
</ol>

<p>
As indicated by the benchmarks, the road to a faster File-Find-Object
is not over, and I still have some ideas for improvements in mind. But
it's still much better than it used to be, and I can be proud of it.
</p>

<p>
The title of this post was inspired by Ido Trivizki's
<a href="http://www.perl.org.il/YAPC/2004/talk.html?id=23">"Shavin' another
bit" presentation</a> given at YAPC::Israel::2004, and which I attended
and enjoyed.
</p>

</div>


<div class="entry" id="tech-tip-java-jdbc-mysql-problem-exception">

<!-- Tags: tech, tip, mysql, java, jdbc, sockets, tcp, unix, linux -->

<h2>2009-02-05: Tech Tip: Resolving JDBC+MySQL exception.</h2>

<p>
I recently tried to build a Java-based project that is using MySQL. I got the following error:
</p>

<pre>
BUILD FAILED
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

Last packet sent to the server was 1 ms ago.
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1074)
        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2104)
        at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:729)
        at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:46)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:302)
        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:283)
        at org.apache.tools.ant.taskdefs.JDBCTask.getConnection(JDBCTask.java:319)
        at org.apache.tools.ant.taskdefs.SQLExec.execute(SQLExec.java:429)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
        at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
        at org.apache.tools.ant.Task.perform(Task.java:348)
        at org.apache.tools.ant.Target.execute(Target.java:357)
        at org.apache.tools.ant.Target.performTasks(Target.java:385)
        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
        at org.apache.tools.ant.Main.runBuild(Main.java:758)
        at org.apache.tools.ant.Main.startAnt(Main.java:217)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)
Caused by: java.net.ConnectException: Connection refused
        at java.net.PlainSocketImpl.socketConnect(Native Method)
        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
        at java.net.Socket.connect(Socket.java:519)
        at java.net.Socket.connect(Socket.java:469)
        at java.net.Socket.<init>(Socket.java:366)
        at java.net.Socket.<init>(Socket.java:209)
        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)
        at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:276)
        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2027)
        ... 27 more
</pre>

<p>
After many experimentations, I discovered the problem was that MySQL on my
local machine listened only on a UNIX-domain socket and not on TCP, which is
what JDBC tried to connect with. After commenting out the "skip-networking"
option from <tt>/etc/my.cnf</tt> (which is the location of the MySQL
configuration file on my system) and restarted mysqld, everything worked.
</p>

</div>

<div class="entry" id="web-application-frameworks-in-response-to-ido-kanner">

<!-- Tags: web, www, application, frameworks, perl, php, ido, kanner, ik, idkn, wordpress.com, cgi-application, cgi, application, cgi-builder, cgi-prototype, catalyst, jifty, gantry, axkit, webgui, cms, mojolicious, symfony, jquery, javascript -->

<h2>2009-12-24: Web Application Frameworks</h2>

<p>
Ido Kanner
<a href="http://idkn.wordpress.com/2008/12/24/%D7%9E%D7%A8%D7%95%D7%91-frameworks-%D7%9C%D7%90-%D7%A8%D7%95%D7%90%D7%99%D7%9D-%D7%90%D7%AA-%D7%94%D7%99%D7%A2%D7%A8/">writes in his blog (in Hebrew) about web-application framework</a>.
I am replying here, because his blog does not provide a Preview plugin
for comments (due to limitations of wordpress.com).
Aside from the alternatives he mentioned for Perl, I am aware of the following:
</p>
<ol>

<li><a href="http://cgi-app.org/">CGI::Application</a> - very basic
functionality, but also very flexible.</li>

<li><a href="http://search.cpan.org/dist/CGI-Application-Plus/">CGI-Application-Plus</a> - backwards compatible with CGI-Application, with some
improvements.</li>

<li><a href="http://search.cpan.org/dist/CGI-Builder/">CGI-Builder</a>
- inspired by CGI-Application, but not backwards compatible. (by the same
author as CGI-Application-Plus).
</li>

<li><a href="http://search.cpan.org/dist/CGI-Prototype/">CGI-Prototype</a>
- another lightweight framework based on prototype-based OO (like Self,
JavaScript, Io, etc.)
</li>

<li><a href="http://www.catalystframework.org/">Catalyst</a> -
a web framework that supports many different view/model backends and
has many plugins on CPAN. Seems to be the most popular.</li>

<li><a href="http://jifty.org/">Jifty</a> - should be more
RoR'ish than Catalyst, and also have a concept of continuations. Only
supports HTML::Mason and Jifty::DBI.</li>

<li><a href="http://www.usegantry.org/">Gantry</a> - don't know
a lot about it.</li>

<li><a href="http://axkit.org/">AxKit</a> - Perl and XML-based for
Apache</li>

<li><a href="http://www.plainblack.com/webgui">WebGUI</a> - a Perl-based
framework mixed with a content management system. (I had problems getting
it up and running on my Mandriva Cooker system, after installing it from
source, and it also made my Apache instances consume much more memory, so
I disabled it.)
</li>

<li>
<a href="http://mojolicious.org/">Mojolicious</a> - started as a fork of
Catalyst. Don't know too much about it, but you can find more from the site.
</li>

</ol>

<p>
I also had some experience with the PHP-based
<a href="http://cms.wikia.com/wiki/Symfony">Symfony</a> (review in the link).
</p>

<p>
Ido also mentions some JavaScript based "frameworks" like jQuery, or Mootools,
but naturally they are not an alternative to server-side frameworks, but
rather complementary.
</p>

<p>
Moreover, sometimes Content-Management-Systems can be used in a
similar fashion to web-development frameworks, and there are many of
those too.
</p>

</div>

<div class="entry" id="get-rid-of-artifacts-in-kde4-by-removing-kdecache">

<!-- Tags: tech, tip, tech tip, artifacts, kde 4, visual, problems, display, bugs, tmp, lion in the desert, binary search, linux, open, source, foss, mandriva -->

<h2>2009-02-05: Tech Tip: Getting Rid of Visual Artifacts in KDE 4</h2>

<p>
I recently (or not so recently) discovered that the KDE 4 desktop on my
Mandriva Linux Cooker system displayed some bad visual artifacts when loaded
as the default desktop. It didn't happen on fresh UNIX accounts. As I
discovered, even moving away the entire home directory (<tt>/home/shlomi</tt>)
to a new place, and creating an empty directory did not resolve the problem.
Nor did, copying the files from a good account.
</p>

<p>
I finally discovered that the problem was in
<tt>/var/tmp/kdecache-shlomi</tt> ("shlomi" is my username), which after
exiting from KDE 4 and removing solved the problem for good. Of course, all
of this took many hours of trying to incrementally move away files and see
if it solves the problem. I cannot guarantee it is the only cause of
problems similar to that one, but it helped me.
</p>

</div>


<div class="entry" id="oppose-the-patent-encumbered-ietf-tls-authorisation-patent">

<!-- Tags: ietf, patent, patents, open, standards, free software, open source, foss, standard, call for action -->

<h2>2009-02-10: Oppose the Patent Encumbered IETF TLS Authorisation Patent</h2>

<p>
<a href="http://www.computerworlduk.com/community/blogs/index.cfm?blogid=14&amp;entryid=1845">Glyn Moody reports</a> on
<a href="http://www.fsf.org/news/reoppose-tls-authz-standard">an FSF
call-for-action for rejecting a patent-encumbered standard</a>. It needs
to be done today, and this
is what I wrote to ietf@ietf.org:
</p>

<pre>
Please don't accept the patent-encumbered standard for TLS
authorisation. Doing so will allow a single entity to control the use
of the standard and will weaken the authority of the IETF.
</pre>

<p>
Please follow the instructions in the links and send them an email. You
also need to approve of the confirmation email.
</p>

</div>


<div class="entry" id="telux-meeting-2009-02-15-windows-refund">

<!-- Tags: meeting, foss, clubs, telux, open source, windows, refund, howto
-->

<h2>2009-02-11: "Windows Refund Howto" on the Tel Aviv Open Source Club</h2>

<p>
Hi all!
</p>

<p>
The <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source Club</a>
will host a talk by Zvi Devir about "Windows Refund HOWTO" - how to get a
refund for a copy of Microsoft Windows that ships
as part of a new computer - on Sunday, 15-February-2009 (next Sunday).
</p>

<p>
The meeting will take place at Tel Aviv University, at the Schreiber Maths&CS
building, room 008 on 18:30. So mark your calendars. For more information can
be found <a href="http://www.cs.tau.ac.il/telux/">the club's homepage</a>
and on <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_15_February_2009">the meeting's wiki page.</a>
</p>

<p>
With any other questions or problems, feel free to
<a href="http://www.shlomifish.org/me/contact-me/">contact me</a>.
</p>

</div>

<div class="entry" id="new-essay-optimising-code-for-speed">

<!-- Tags: optimizing, optimising, optimise, optimize, optimization, optimisation, code, speed, dos, windows, slow, slowness, programs, programming, c programming
-->

<h2>2009-02-13: New Essay: "Optimising Code for Speed"</h2>

<p>
I published <a
href="http://www.shlomifish.org/philosophy/computers/optimizing-code-for-speed/">a
new essay about optimising code for speed</a> on my site, which you are
welcome to read. Quoting from it:
</p>

<blockquote>
    <p>We've all seen the fact that while computers got faster, software has
    often become slower to run unless the hardware is upgraded. <a
        href="http://en.wikipedia.org/wiki/Gates%27_Law">The so-called "Gates'
        Law"</a> claims that commercial programs decrease in speed by half
    every 18 months, due to various reasons. It is well known that the various
    versions of the <a href="http://en.wikipedia.org/wiki/DOS">DOS</a>
    operating system ran adequately on a PC XT's and 286's and that a Intel 386
    was a "lean and mean DOS machine" as a certain journalist claimed back
    then. On the other hand, Microsoft Windows 3.0 and Microsoft Windows 3.1
    already required a fast 486 computer to be ran comfortably, while Windows
    95 was barely usable there and needed a Pentium computer. Windows XP
    already ran slowly on a Pentium machine and required a high end Pentium III
    or Pentium 4 computer. <a
        href="http://en.wikipedia.org/wiki/Windows_Vista">Windows Vista</a>
    requires even more hardware resources than Windows XP, up to the point that
    many computers in use today cannot run it comfortably.</p>

    <p>Now, while software simulations that run directly against the CPU and
    memory (and possibly hard-disk) are still running much faster than before,
    the responsiveness of the system itself does not seem to improve much.</p>
</blockquote>

<p>
I used <a href="http://en.wikibooks.org/">Wikibooks</a> to work on this
article. Except for a few minor changes from other people, I was the only
contributor. One thing that disappointed me was that wiki2xml (a MediaWiki
extension that can convert the text to DocBook/XML and other formats)
blissfully ignored all internal or wikipedia links (<tt>[[]]</tt>),
rendering many links in the article useless. This required that the article
be extracted from the wiki by cleaning up the HTML of the page.
</p>

</div>


<div class="entry" id="why-do-you-develop-it-for-free">

<!-- Tags: artyom, tonkikh, develop, free, foss, develpment, open, source, open source, thread, hebrew, homepage, homesite, google, ads, freecell, solver, feedback, encouragement, useful, utility, cpan, modules, perl, gimp, subversion , contributions
-->

<h2>2009-02-16:      ?</h2>

<div dir="rtl" align="right">
<p>
<a href="http://art-blog.no-ip.info/newpress/blog/post/207">  "     ?"</a>
     (     ).   / 
<a href="http://www.shlomifish.org/open-source/"> </a>
       ,    .
</p>

<p>
              
<a href="http://www.shlomifish.org/">  </a>.
 ,          .  ,  ,  '  -100              ,      
   ,   ,   .   -    ?    
      .      -           .        (- )     ,     .       .
</p>

<p>
 -<a href="http://fc-solve.berlios.de/">Freecell Solver</a>       
           .         -
  ,     (0.2.0)         -Freshmeat.net.      ,         , 
  ,            .  Freecell Solver   
           
.
</p>

<p>
 
<a href="http://search.cpan.org/~shlomif/">  -CPAN</a>,
             .     (    ),      .    ?     ,    
         ,    .            ,      .
</p>

<p>
    
<a href="http://subversion.tigris.org/">'</a>, -<a href="http://www.gimp.org/"></a>.
  '     ,   
   (Arch, Aegis )  ,   
<a href="http://better-scm.berlios.de/docs/shlomif-evolution.html">
    BitKeeper  </a>.    '     ,  
       .   '        
  - ,   '     ,       .  
         ,         .
</p>

<p>
      ,   .
<a href="http://www.shlomifish.org/grad-fu/">  </a>      
  ,     . -    -gimpressionist      
    ,     .        .
</p>

<p>
  .           .
</p>

</div>

</div>


<div class="entry" id="putting-file-find-object-in-the-core">

<!-- Tags: perl, file-find, file-find-object, file, find, object, core, perl5, distribution, alternative, chromatic, modern, modern perl
-->

<h2>2009-02-16: Should We Include a Better Alternative to File-Find in the perl5 Core?</h2>

<p>
<a href="http://use.perl.org/~chromatic/journal/38484">chromatic asked for some
link/follow-ups love</a> to <a href="http://www.modernperlbooks.com/">his
"Modern Perl Books" blog</a>,
so here's a post inspired by <a href="http://www.modernperlbooks.com/mt/2009/02/sacrificing-the-future-on-the-pasts-golden-altar.html">one of his
Modern Perl posts where he complains about how inane the File-Find
interface is</a>. I personally share chromatic's sentiments about File-Find,
and have for many years. After <a
href="http://www.nntp.perl.org/group/perl.perl5.porters/2006/03/msg110263.html">posting
to perl5-porters about its shortcomings</a>, it was agreed that fixing them in
File-Find may hurt its performance, and so was not acceptable without forking
the code or rewriting it. At the end of the thread, I mentioned that I found
<a
href="http://www.shlomifish.org/open-source/projects/File-Find-Object/">File-Find-Object</a>
on CPAN, and that I intend to contribute to it and improve it. That's what I
did, and I eventually took over its maintenance from the originator.
</p>

<p>
File-Find-Object solves all the major shortcomings of File-Find that I'm
aware of. But this post is not specifically about File-Find-Object. If someone
will come up with a better alternative to File-Find than File-Find-Object
is, then I'll support the new code.
</p>

<p>
The point is that I think that, as a statement of intent, and of general
disgust from File::Find, a different module with a better interface
and a saner and more modern philosophy should be shipped as part of
the perl 5 core. It's not the first time that a core module in perl 5 was
"complemented" with a better alternative: CPANPLUS.pm was added to the core
in addition to CPAN.pm , Module::Build was added as an alternative to
ExtUtils::MakeMaker, and recently Test::Harness was augmented with
TAP::Parser/TAP::Harness/Test::Harness-3 . I don't see why File::Find should
be any different considering the fact it has several philosophical
usability problems which cannot be easily overcome (it cannot be instantiated,
cannot be easily interrupted in the middle, and does not have an iterative
interface).
</p>

<p>
I don't suggest we change the File::Find API. That will wreck havoc. But
I think we should include another module and put a big and visible notice
at the beginning of File::Find saying
"File::Find is deprecated and should no longer be used! Use
$better_file_find , that ships with perl as of perl-5.12.0 or available from
CPAN for earlier versions, instead."
</p>

<p>
What do you think?
</p>

</div>


<div class="entry" id="recovering-data-from-a-hosed-svk-repository">

<!-- Tags: svk, svn, subversion, changesets, tech tip, tech, tip, mst, freenode, push, problem, bugs, dvcs, vcs, version, control, rcs, revision -->

<h2>2009-02-21: How I Recovered Data from a Hosed SVK Repository</h2>

<p>
Many months ago, I noticed that
<a href="http://en.wikipedia.org/wiki/SVK">SVK</a>, a version control
system based on Subversion, stopped propagating changesets to the remote
Subversion repositories. Furthermore, I was unable to mirror other remote
repositories. I wrote about it, asking for help:
</p>

<ul>
<li>
<a href="http://lists.bestpractical.com/pipermail/svk-users/2008-November/000380.html">Post to the svk-users mailing list</a>
</li>
<li>
<a href="http://community.livejournal.com/shlomif_tech/19585.html">My
"Problems with SVK" entry on this blog</a>
</li>
</ul>

<p>
All of this has been left unsolved until yesterday when I decided that I had
enough and wanted to finally resolve this problem. My first idea was to
try to write a script that will propagate the changesets using the Subversion
APIs, so I looked at the SVK code trying to see where exactly it happens.
I found the SVK code hard-to-follow, so I first contemplated fixing what
caused it to report an error, but was also unable to.
</p>

<p>
Then I joined the <a href="http://freenode.net/">Freenode IRC network</a>
and went to the #svk channel. There was only one person there who tried
to help me, and he was intermittent in helping. Then I joined #perl and casually
mentioned that I thought SVK sucked (just to lose some steam), which prompted
<a href="http://www.trout.me.uk/">mst</a> to try to help me. After
interrogating me he suggested that in order to recover the changesets from SVK,
I should follow the following steps:
</p>

<ol>

<li>
Find out what is the last SVK revision which still propagated changesets to
the Subversion repository. This can be found using the commit message in the
svn log.
</li>

<li>
Revert (using a selective <tt>svnadmin dump</tt> and then an
<tt>svnadmin create</tt> ; and <tt>svnadmin load</tt>) to the older version of
<tt>~/.svk/local</tt> that corresponds with the revision number
of the commit. (While naturally keeping a copy of <tt>~/.svk/local/</tt> and
its dump in a safe place.)
</li>

<li>
See that a simple change in the svk checkout (like
<tt>svk mkdir to-delete-`date +%s`</tt>) will propagate to the remote
repository.
</li>

<li>
Revert that change using the Subversion client directly.
</li>

<li>
Revert to the working-but-old copy of the SVK repository, and apply a
filtered stream of the dumps (using <tt>svndumpfilter</tt>) that will
exclude changes from the <tt>//mirror</tt> part of the SVK repository.
</li>

<li>
After all that is done, checkout the trunk and do <tt>svk push</tt>
from there.
</li>

</ol>

<p>
Of course, the devil is in the details, and it took me a lot of experimentation
until I got to something working. Facts I've discovered:
</p>

<ol>

<li>
<a href="http://creatingwithcode.com/howto/extracting-projects-from-shared-svn/">svndumpfilter needs a dump that was generated without the
<tt>--deltas</tt> flag</a> (and possibly without <tt>--incremental</tt> either.
Otherwise it will complain.
</li>

<li>
I couldn't seem to get <tt>svndumpfilter exclude mirror</tt> to work
and instead ended up using <tt>svndumpfilter include local</tt>
</li>

<li>
The <tt>--drop-empty-revs</tt> and <tt>--renumber-revs</tt> flags to
svndumpfilter which seemed like a good idea confused <tt>svnadmin load</tt>,
and everything worked after I removed them.
</li>

<li>
Using <tt>tar -czf</tt> and <tt>tar -xf</tt> can really speed up restoring
older versions of a Subversion repository because svnadmin load is pretty slow.
</li>

<li>
I ended up taking a range of repositories from the pristine revision to "HEAD"
and then manually editing out the first revision. Maybe it was unnecessary.
</li>

</ol>

<p>
After all that, "svk push" worked and propagated 800 changesets to
<a href="https://opensvn.csie.org/shlomif/homepage/trunk/">my homepage's
trunk</a> in 8:20 hours (must be a record). Since I only have an ADSL
connection with 25 KBps upstream, and the Subversion service is located in
Taiwan and I'm living in Israel, it took a while and I left it overnight
to run.
</p>

<p>
Today, after I woke up, I saw that the operation ended up successfully. I was
able to build an up-to-date version of my homesite from the Subversion sources,
and am mostly ready to stop using SVK.
</p>

<p>
Again, I'd like to thank <a href="http://www.trout.me.uk/">mst</a> for
suggesting this ultra-cool idea for recovering my data from SVK. It
took me the whole of one day, but now I'm finally free, and my data is out
there and safe. I'm going to use plain-old-Subversion to work
against it, until and assuming I'll get the hang of hg/bzr/git/whatever.
But at least I no longer have to use a mostly-unusable SVK.
</p>

<p>
Hackfully and happily yours, Shlomi Fish.
</p>

</div>

<div class="entry" id="cpan-hacktivity-report-2009-03-02">

<!-- Tags: hacktivity, log, hacktivity log, cpan, file-find-object, file-find, object, oo, file-find-rule, file-find-object-rule, ack, grep, patch, xml-rss, perl -->

<h2>2009-03-02: CPAN Hacktivity Report</h2>

<p>
After <a href="http://community.livejournal.com/shlomif_tech/22145.html">my
last post about File::Find alternatives</a>,
<a href="http://use.perl.org/~chromatic/journal/38498">chromatic
responded</a>, and said that it was opinion that the core should not be
bloated further and that he would prefer if File::Find did not exist in
the core in the first place. I brought the relevant links
<a href="http://www.nntp.perl.org/group/perl.perl5.porters/2009/02/msg144262.html">on perl5-porters</a>,
and David Cantrell wrote a patch to add a warning to File::Find, while
disabling it from all the places in the core that use this module. As other
people noted, we should practice what we preach, and so if we decide that
File::Find is deprecated, then we should include a different alternative
in the core, and adapt all the existing code to make use of it instead.
Someone even suggested implementing File::Find in terms of the new module.
</p>

<p>
Eventually, I realised that the best solution would be to include a note
in the File::Find documentation about its limitations, and refer the interested
people to the better alternatives on CPAN.
</p>

<p>
In any case, since <a
href="http://community.livejournal.com/shlomif_tech/20200.html">my
"Shavin' Another Second" post</a>, I implemented several more small
optimisations (and general code cleanups) to File-Find-Object, and it now takes
about 27 seconds to run in my test run. One thing that surprised me was the
fact that after a relatively large optimisation and overhaul to the code,
all the tests pass immediately after the first clean run. Usually, the code
required more persuasion to make it work.
</p>

<p>
I also began <a href="http://search.cpan.org/dist/File-Find-Object-Rule/">File-Find-Object-Rule</a>,
which is the File-Find-Object-enabled-fork of File-Find-Rule, which provides
a more convenient interface above File::Find. The first release of F-F-O-R
had missing dependencies, and so consistently failed all CPAN testers'
reports. Version 0.0101 was better, but its tests failed on MS-Windows, due
to the fact that the File-Find-Rule tests excepted UNIXish paths (which
File::Find happily provided, but File-Find-Object doesn't). This was fixed in
File-Find-Object-Rule version 0.0200.
</p>

<p>
Version 0.0200 is still a mostly "smallest-effort" port of File-Find-Rule, so
now comes the interesting part of truly making use of File-Find-Object's
advantages, which may involve extending the latter API. I also would like
to create a documented API for File-Find-Object-Rule, so the code won't
be tightly coupled with File-Find-Object.
</p>

<p>
Speaking of File-Find-Rule, you may find
<a href="http://use.perl.org/~jdavidb/journal/38493">this recent discussion
on use.perl.org interesting</a>.
</p>

<p>
Except for that I also did some work on XML::RSS, like integrating some
patches that someone else sent me, doing QA, and answering an email someone
sent about one of its limitations (which I'd like to fix.).
</p>

<p>
I also <a href="http://code.google.com/p/ack/issues/detail?id=128">found
a bug in ack, and submitted a patch fixing it</a>.
</p>

<p>
Finally, after my home-site's remote repository good condition was restored,
I decided to try to build it from scratch and correct the process that has
gathered a lot of rot since I last did it. I discovered a lot of problems
with installing the necessary CPAN modules that I wrote in part
for the homepage, but I'm waiting on a reply to
<a href="http://www.nntp.perl.org/group/perl.module.build/2009/03/msg2010.html">this
question about Module-Build on its mailing list</a>, before I can correct
the build.
</p>

</div>


<div class="entry" id="szabgab-perl6-tricks-and-treats-newsletter">

<!-- Tags: gabor, szabo, szabgab, perl, perl 6, perl6, tricks, treats, newsletter, mailing list, announcement, publicity, foss, floss, open, source
-->

<h2>2009-03-11: A New "Perl 6 Tricks and Treats" Newsletter by Gabor Szabo</h2>

<p>
Gabor Szabo
<a href="http://perl.org.il/pipermail/perl/2009-March/010226.html">announced</a>
a new <a href="http://mail.szabgab.com/mailman/listinfo/perl6">newletter he
started for "Perl 6 Tricks and Treats"</a>. I am subscribed to his
<a href="http://mail.szabgab.com/mailman/listinfo/test-automation-tips">"Test
Automation Tips" newsletter</a>, and am very happy from the quality of
his submissions to it, so I can recommend Gabor's writing first hand.
</p>

<p>
Please subscribe if you're interested in Perl 6, and please help publicise
the announcement of this newsletter by sending a message to your local Perl
mongers group, other FOSS-related groups or on your blog.
</p>

</div>


<div class="entry" id="tech-tip-cpan-installing-distros-without-modules">

<!-- Tags: tech, tip, tech tip, cpan, perl, modules, distributions, distros, distro, cpan_bot, zoffix, bot, scripts -->

<h2>2009-03-23: Tech Tip: Installing CPAN Distributions without .pm Files</h2>

<p>
I recently needed to install
<a href="http://search.cpan.org/dist/cpan_bot/">cpan_bot</a> from the CPAN
(the Comprehensive Perl Archive Network). However, it does not contain
any .pm's (Perl Module files) - only a script. All my attempts to install it
failed until I tried this:
</p>

<pre>
perl -MCPAN -e 'CPAN::install("ZOFFIX/cpan_bot-0.11.tar.gz")'
</pre>

<p>
So you need to use the author's ID followed by a slash and the tarball's
filename.
</p>

</div>


<div class="entry" id="fixing-the-amarok-2.x-mod-files-playback">

<!-- Tags: hacktivity, code, coding, hacking, patch, story, phonon, amarok, kde, xine, xine-lib -->

<h2>2009-03-26: Fixing the Amarok 2.x Playback of Module Files</h2>

<p>
This is a behind-the-scenes story of a patch I worked on. The problem
I encountered was that <a href="http://amarok.kde.org/">Amarok</a> (
a KDE-based music player) version 2.x could not play
<a href="http://en.wikipedia.org/wiki/Module_file">Module files</a>, such
as ".mod", ".s3m", ".xm" or ".it". The symptom was that dropping them
in the playlist did not get them enqueued. Talking about it on IRC, I got
a lead that led me to investiage the following code in Amarok's
<tt>src/EngineController.cpp</tt>:
</p>

<pre>
    // Filter the available mime types to only include audio and video,
    // as amarok does not intend to play photos
    static QStringList mimeTable =
        Phonon::BackendCapabilities::availableMimeTypes().filter(
            "audio/", Qt::CaseInsensitive ) +
        Phonon::BackendCapabilities::availableMimeTypes().filter(
            "video/", Qt::CaseInsensitive );

    const QString mimeType = item.mimetype();
    const bool valid = mimeTable.contains( mimeType, Qt::CaseInsensitive );
</pre>

<p>
So when I ran it using the gdb debugger, while using
<a href="http://websvn.kde.org/*checkout*/trunk/KDE/kdesdk/scripts/kde-devel-gdb">kde-devel-gdb
(a set of gdb macros to facilitate debugging KDE applications)</a>, I dumped
"mimeTable", and, after grepping it, found that it indeed did not contain
the MIME types associated with module files. Then I investigated why I
could still select and play module files in KDE 4's Dragon Player, and
realised that while it used the mime types list as a file-chooser dialog,
it did not enforce a file that was not associated with any of them from being
played.
</p>

<p>
Having realised that, I set out to see why the list of mime types was not
complete. I first tried to see what is the list that phonon returns as is.
So I wrote (or more actually copy and pasted) the following code:
</p>

<pre>
#include &lt;iostream&gt;

#include &lt;Phonon/VideoWidget&gt;
#include &lt;Phonon/BackendCapabilities&gt;

#include &lt;KAboutData&gt;
#include &lt;KApplication&gt;
#include &lt;KCmdLineArgs&gt;
#include &lt;KLocalizedString&gt;


static KAboutData aboutData( &quot;test-phonon&quot;, 0,
        ki18n(&quot;Dragon Player&quot;), &quot;0.1.5&quot;,
        ki18n(&quot;A video player that has a usability focus&quot;),
        KAboutData::License_GPL_V2,
        ki18n(
        &quot;Copyright 2006, Max Howell\nCopyright 2007, Ian Monroe&quot;
        ),
        ki18n(
        &quot;IRC:\nirc.freenode.net #dragonplayer\n\n&quot;
        &quot;Feedback:\nimonroe@dragonplayer.org&quot;),
        &quot;http://dragonplayer.org&quot; );

int main(int argc, char * argv[])
{
    aboutData.setOrganizationDomain( &quot;mpris.org&quot; ); //for DBus
    aboutData.addCredit( ki18n(&quot;David Edmundson&quot;),
    ki18n(&quot;Improvements and polish&quot;) );
    aboutData.addCredit( ki18n(&quot;Matthias Kretz&quot;),
    ki18n(&quot;Creator of Phonon&quot;) );
    aboutData.addCredit( ki18n(&quot;Eugene Trounev&quot;),
    ki18n(&quot;Dragon Player icon&quot;) );
    aboutData.addCredit( ki18n(&quot;Mike Diehl&quot;),
    ki18n(&quot;Handbook&quot;) );
    aboutData.addCredit( ki18n(&quot;The Kaffeine Developers&quot;),
    ki18n(&quot;Great reference code&quot;) );
    aboutData.addCredit( ki18n(&quot;Greenleaf&quot;),
    ki18n(&quot;Yatta happened to be the only video &quot;
    &quot;on my laptop to test with. :)&quot;) );

    KCmdLineArgs::init( argc, argv, &amp;aboutData );

    KCmdLineOptions options;
    options.add(&quot;+[URL]&quot;, ki18n( &quot;Play &#39;URL&#39;&quot; ));
    options.add(&quot;play-dvd&quot;, ki18n( &quot;Play DVD Video&quot; ));
    options.add(&quot;debug&quot;,
    ki18n( &quot;Show Additional Debug Output&quot; ));
    KCmdLineArgs::addCmdLineOptions( options );

    KApplication application;

    QStringList mimeTypes = Phonon::BackendCapabilities::availableMimeTypes();

    QStringListIterator mimeIter(mimeTypes);
    while (mimeIter.hasNext())
    {
        std::cout &lt;&lt; mimeIter.next().toLocal8Bit().constData()
            &lt;&lt; std::endl;
    }
    return 0;
</pre>

<p>
It has a lot of KDE verbiage, but I hope you get the idea. The most important
lines are at the end. And indeed it did not print the associated mime types.
</p>

<p>
Reading a bit about Phonon, I tried to see what the backend that it
was using was. I believed it was
<a href="http://www.xine-project.org/home">Xine</a> but wanted to be sure.
Eventually, what I did was to read <tt>/proc/`pgrep amarok`/maps</tt>
which contains a list of all the shared libraries that it used. A bit
afterwards, I discovered that the Phonon backend was configurable from
"Settings  Configure Amarok  Playback  Sound System Configuration"
and indeed had Xine as the most prioritised backend. After switching it
to gstreamer, I realised that Amarok could now play files ending with
<tt>.mod</tt>, but not with say <tt>.xm</tt> or other Module files' formats,
so it indicated that the problem was with Xine.
</p>

<p>
Looking at the code of the Xine Phonon backend (after some investigation), I
found the following:
</p>

<pre>
QStringList Backend::availableMimeTypes() const
{
    if (m_supportedMimeTypes.isEmpty())
    {
        char *mimeTypes_c = xine_get_mime_types(m_xine);
        QString mimeTypes(mimeTypes_c);
        free(mimeTypes_c);
        QStringList lstMimeTypes =
            mimeTypes.split(";", QString::SkipEmptyParts);
        .
        .
        .
    }
}
</pre>

<p>
So it seemed that Phonon returns its results based on xine_get_mime_types().
Therefore, I wrote the following test program to see what xine returns:
</p>

<pre>
#include &lt;xine.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char * argv[])
{
    xine_t * xine_h;
    char * mime_types;

    xine_h = xine_new();
    xine_init(xine_h);
    mime_types = xine_get_mime_types(xine_h);
    printf(&quot;%s\n&quot;, mime_types);
    free(mime_types);
    xine_exit(xine_h);

    return 0;
}
</pre>

<p>
And it didn't return the appropriate mime types for the MOD files, either. So
the problem was with xine-lib.
</p>

<p>
Next I decided to look at xine-lib and investigate. Searching for the
<tt>xine_get_mime_types()</tt> functions yielded a multiplexer that collected
the mime types of the various plugins. So I looked at
<tt>src/demuxers/demux_mod.c</tt> and found the following:
</p>

<pre>
static const char *get_mimetypes (demux_class_t *this_gen) {
    return NULL;
}
</pre>

<p>
So no wonder no Module files-related mime types are returned. After fixing
it by writing
<a href="http://sourceforge.net/mailarchive/forum.php?thread_name=200903252055.59889.shlomif%40iglu.org.il&amp;forum_name=xine-devel">a patch that just added
the mime types as one-big comma-delimited string</a>
(as seen in other demuxers), and rebuilding xine-lib, both of my test
programs returned the appropriate mime types, and I was able to play files
in Amarok.
</p>

<p>
<a href="http://sourceforge.net/mailarchive/forum.php?thread_name=200903252055.59889.shlomif%40iglu.org.il&amp;forum_name=xine-devel">I submitted the patch to
the xine-devel mailing list</a> after subscribing to it. I have yet
to receive a reply, to say nothing of getting my patch applied, but at least
I now know the problem has been fixed and I (and others) will be able to play
Module files in Amarok to my heart's content.
</p>

</div>


<div class="entry" id="telux-meeting-5-april-2009">

<!-- Tags: perl, perl 6, telux, tel aviv, open source, foss, meeting, gabor, szabo, szabgab
-->

<h2>2009-03-31: Tel Aviv FOSS Meeting on 5-April-2009: Intro to Perl 6 - Part II</h2>

<p>
The <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source Club</a>
will host the second part of a series of talks by
<a href="http://www.szabgab.com/">Gabor Szabo</a> about "Introduction to
Perl 6" - on 5-April-2009.
</p>

<p>
The meeting will take place at Tel Aviv University, at the Schreiber
Maths&amp;CS building, room 008 on 18:30. So mark your calendars. More
information can be found <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_05_April_2009">on the wiki page for the meeting</a>.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a href="http://www.shlomifish.org/me/contact-me/">contact me</a>.
</p>

<p>
<b>Abstract</b>
</p>

<p>
Introduction to Perl 6.
</p>

<p>
A series of presentations on learning and using Perl 6 from the ground up to
the special features.
</p>

<p>
Many would think that Perl 6 is just a new version of Perl and that it might
only be interesting for Perl programmers. However, Perl 6 is in fact a
compiled language running on a virtual machine that embraces many new concepts
not found in most programming languages.
</p>

<p>
The presentations will be equally interesting for Perl, Java and C#
programmers.
</p>

<p>
During the series of talks we will start by learning the basics of the
language and will get to various high level concepts. For now we have
planned 2 sessions but if we need more time we'll schedule more meetings.
</p>

<p>
<b>Note:</b>
</p>

<p>
After the talk we will go to the caf at the main entrance where we can
continue the discussion. If people bring portable computers, we can get the
off the ground on the spot. VirtualBox images will be provided with everything
that is needed for playing with Perl 6 set up inside. So you may opt to bring
a computer with VirtualBox installed.
</p>

</div>


<div class="entry" id="">

<h2>2009-04-01: New Book Coming Soon</h2>

<!-- Tags: mastering, cat, unix, linux, interview, oreilly, book, books, homepage, homesite, shlomifish.org
-->

<p>
<a href="http://www.shlomifish.org/humour/bits/Mastering-Cat/"><img
    src="http://www.shlomifish.org/humour/bits/Mastering-Cat/small-cover.png"
    alt="Mastering cat" /></a>
</p>

<p>
It's official! I'm going to publish a new book soon, and I placed
<a href="http://www.shlomifish.org/humour/bits/Mastering-Cat/">a new interview
    with me about it</a>. Read it so you'll understand why "Mastering
cat" would be an essential addition to your collection of technical books.
</p>

</div>


<div class="entry" id="ponie-subversion-repository">

<!-- Tags: ponie, perl, perl 5, perl 6, parrot, subversion, svn, vcs, rcs, version control, scm, repository
-->

<h2>2009-04-02: The PONIE Subversion Repository</h2>

<p>
While cleaning up an old hard-disk, I found a Subversion working copy of
<a href="http://en.wikipedia.org/wiki/PONIE">PONIE - the Perl 5
port to Parrot</a>, and found out <a href="http://svn.perl.org/ponie/">the
URL of its long-lost Subversion repository</a>. Now I see it's the first
hit on a Google search for "ponie repository", but still I wondered what
it was for a long time.
</p>

</div>


<div class="entry" id="tech-tip-escape-regex-special-chars-in-mysql">

<!-- Tags: mysql, escape, special, characters, chars, php, tech, tip, tech tip, security, databases, rdbms, regex, regexes, regular, expressions, regexps
-->

<h2>2009-04-05: Escaping Special Characters in MySQL Regular Expressions</h2>

<p>
MySQL sports the
<a href="http://dev.mysql.com/doc/refman/5.1/en/regexp.html">REGEXP</a> to
enable search using a regular expression pattern. However, it does not contain
a built-in function (such as Perl's <a href="http://perldoc.perl.org/functions/quotemeta.html">quotemeta</a>) to escape the special characters in such
patterns in order to prevent injecting malicious regular expression code.
</p>

<p>
Some time ago, I needed to search for a string within word-boundaries in MySQL
in a PHP site I help maintain. Here's the solution I came up with for
constructing this search:
</p>

<pre>
function enbackslash($matches)
{
    return '\\' . $matches[1];
}

$safe_word = $mysqli-&gt;real_escape_string(
    preg_replace_callback('/([^\\w\\s])/', "enbackslash", $word)
    );

$sql .= "text regexp '[[:&lt;:]]${safe_word}[[:&gt;:]]'";
</pre>

<p>
Basically what happens is that I prefix a backslash to any non-alphanumeric
and non-whitespace character, and then escape the string again using
the standard RDBMS-specific escaping function.
</p>

<p>
I would appreciate any ideas for improving upon this code, but it seems to
work for me.
</p>

</div>


<div class="entry" id="hacktivity-log-2009-04-14">

<!-- Tags: hacktivity, log, recent, hacking, programming, xine, mod, module files, s3m, xm, patch, amarok, kde, kde 4, kdebase, kdelibs, bug, bugs, rwlock, fcfs, cmake, cpan, perl, freecell, solver, fcs, llvm, C preprocessor macros, ruby, gui, inline-ruby, wxwidgets, qt, gtk
-->

<h2>2009-04-14: Recent Hacktivity</h2>

<p>
This is another log of my (= Shlomi Fish) hacktivity.
</p>

<ol>

<li>
<p>
<b>xine-lib patch got applied</b>
<a href="http://community.livejournal.com/shlomif_tech/23482.html">I
mentioned my xine-lib patch for fixing the MOD/S3M/XM/IT/etc. mime
types</a>, and after pinging the mailing list
discovered <a href="http://sourceforge.net/mailarchive/forum.php?thread_name=200903252055.59889.shlomif%40iglu.org.il&amp;forum_name=xine-devel">that it
has been applied, and later on corrected</a>.
</p>
<p>
After one of the recent Mandriva updates, I can now listen to Module files
on Amarok 2.x comfortably. Thanks to the Amarok developers for applying and
correcting my patch.
</p>
</li>

<li>
<p>
<b>Building the KDE 4.x trunk</b> - I decided to try the
<a href="http://www.kde.org/">KDE</a> 4.x-trunk to
help with the wallpaper-per-virtual-desktop feature that was incorporated
there. It took me quite a long time to build it, because I did it wrong
and the KDE build process did not warn me about it. Here's the executive
summary of how to do it right: you need to build the following
modules from trunk (in order): kdesupport, kdelibs, kdepimlibs, and kdebase,
using a script such as the following:
</p>

<pre>
#!/bin/bash
k4d="/opt/kde4-trunk"
k4sd="$k4d/share"
k4bd="$k4d/bin"
PATH="$k4bd:$PATH"
test ! -e build &amp;&amp; mkdir build
cd build
rm -f CMakeCache.txt
export CMAKE_PREFIX_PATH="$k4d:$CMAKE_PREFIX_PATH"
cmake -DCMAKE_INSTALL_PREFIX="$k4d" \
    -D"PYTHON_SITE_PACKAGES_DIR:PATH"="$k4d/lib" \
    -DCMAKE_BUILD_TYPE=debugfull \
    ..
</pre>

<p>
In kdebase, you may see that "make install" tries to install some python
files under <tt>/usr</tt>. I workarounded it by editing the appropriate .cmake
files and deleting the installation instructions for them, but there's a
patchset in the works for that.
</p>
</li>

<li>

<p>
<b>KDE trunk bug</b> - In any case, I noticed a few bugs in kde4-trunk (as
expected) and
<a href="https://bugs.kde.org/show_bug.cgi?id=188751">reported a bug
about the picture names in the wallpaper selection</a>. I spent the rest
of the day searching the code and running it under the debugger, in order
to try to fix the bug, and was eventually able to supply a patchset for that
(in the bug report). The patches were not committed yet.
</p>

</li>

<li>

<p>
<b>First-Come First-Served Readers/Writers Lock</b> - A Chinese
programmer contacted me by email and reported the fact that
<a href="http://www.shlomifish.org/rwlock/">the First-Come First-Served
Readers/Writers Lock</a> did not implement the _destroy() function, which
was documented there. He was right, and it was funny because I
haven't touched this code for many years (2002 according to Freshmeat), and
didn't expect it to contain
any problems. Apparently, they were one of the first to want to use it in
production.
</p>

<p>
So I went to work. I converted the build system to CMake, because GNU
Autohell gave me a weird error (again), that I couldn't care to fix. I fixed
this problem, and also fixed some more issues with the code and API. Then
I uploaded a new version and published it on Freshmeat.
</p>

<p>
I guess Murphy was right by saying that every computer programme contains
one more bug than has been discovered so far.
</p>
</li>

<li>
<p>
<b>CPAN</b> - In the
<a href="http://search.cpan.org/dist/XML-RSS/">XML::RSS</a> realm, I applied a
patch that Simon Wistow sent me for a test file, and corrected it for
style, and then uploaded a new version (1.44) to the CPAN on 1-April-2009.
I also corrected some bugs in
<a href="http://search.cpan.org/dist/HTML-Links-Localize/">HTML-Links-Localize</a>
and
<a href="http://search.cpan.org/dist/WWW-Search-MSN/">WWW-Search-MSN</a>.
</p>
</li>

<li>
<p>
<b>Freecell Solver</b> - I investigated
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/927">a
build problem of recent Freecell Solvers with CMake-2.6.2</a>, and
discovered that it was a bug in CMake-2.6.2, which was corrected in 2.6.3.
I also <a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/932">applied some cleanups to the code</a>,
and extracted some incredibly complicated C-preprocessor-macros into
functions, and afterwards wrote a makefile for
targetting <a href="http://llvm.org/">LLVM bitcode</a>, and
<a
href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/933">implemented a working "profile" CMAKE_BUILD_TYPE</a>.
</p>
</li>

<li>

<p>
<b>GUI for a Ruby Library</b> - as an exercise in learning the Ruby programming
language, I started writing a library, and then I needed a GUI to
visualise it. My first thought was using wxRuby, but Mandriva didn't have
a package for it. After contemplating on using gtk+, I decided against it,
and started prepared an .src.rpm for wxRuby, while trying to adapt an
existing wxPerl GUI to use the Ruby library using
<a href="http://gitorious.org/projects/inline-ruby">Inline::Ruby</a>. I
discovered that the CPAN version was incredibly broken and completely
non-functional on recent perl's, but looking at the rt.cpan.org bug-report,
I found a <a href="http://gitorious.org/projects/inline-ruby">an up-to-date
version on gitorious</a>, which I was able to use.
</p>

<p>
So I started adapting the wxPerl library to use the Ruby code. It worked
very nicely at first, but then I ran into a strange crash. I reproduced this
with a simple non-GUI Perl Inline::Ruby script that used my code, while
the equivalent Ruby script ran flawlessly. So I reported this as a bug in
the gitorious Inline::Ruby. Meanwhile, wxRuby failed to build, and I
have some bugs to report.
</p>

<p>
I realised I needed to write the GUI in Ruby, and so, decided to use QtRuby.
I started from the final tutorial example, and now have a mostly working
code. All of this wasted a lot of time that could otherwise be invested
on the library itself. But at least I uncovered some bugs.
</p>
</li>

</ol>

</div>


<div class="entry" id="linmag-events-is-unreliable">

<!-- Tags: linmagazine, open, source, open source, foss, events, meetings, telux, tel aviv, israel
-->

<h2>2009-04-20: The Linmagazine Events Calendar Has Become Unreliable</h2>

<p>
This is a small warning for open-source enthusiasts in Israel
not to rely on the <a href="http://linmagazine.co.il/event">Linmagazine
Events Calendar</a>. It's no longer actively maintained, and my two
submissions of <a href="http://wiki.osdc.org.il/index.php/OSDClub">Tel
Aviv Open Source Club</a> meetings were not published. For one of them,
I sent a request to the editor to accept my event via Drupal's messaging
mechanism, and he didn't.
</p>

<p>
For alternatives you may consider the
<a href="http://www.whatsup.org.il/">Whatsup.org.il</a> post calendar (
available on the front page) and hopefully we'll be able to arrange an
aggregated Google Calendar/iCalendar for FOSS events in Israel soon. But
if you've relied on Linmagazine.co.il's calendar alone - you shouldn't.
</p>

</div>


<div class="entry" id="review-of-the-perl-review-winter-2008-issue">

<!-- Tags: perl, review, the perl review, journal, magazine, book review, brian d foy, bdfoy, open source, telux
-->

<h2>2009-04-20: My Review of The Perl Review, Winter 2008 Issue</h2>

<p>
For all those who are interested, I have written
<a href="http://wiki.perl.org.il/index.php/Book_Review_-_The_Perl_Review_-_Winter_2008_-_reviewed_by_Shlomi_Fish">a
review of the Winter 2008 issue of the journal "The Perl Review"</a> on the
Israeli Perl Mongers wiki. I was given a copy of this issue as a present
by <a href="http://szabgab.com/">szabgab</a> in one of the recent
<a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source club</a>
meetings, and felt that I should review it.
</p>

</div>


<div class="entry" id="no-wiki-spam-lately">

<!-- Tags: wiki, spam, wiki spam, mediawiki, linux, israel, foss, open source
-->

<h2>2009-04-25: No Wiki Spam Lately</h2>

<p>
I'm administrating several instances of
<a href="http://www.mediawiki.org/">MediaWiki</a>. Up to several months ago,
it had been the case that every few days, there was a spam attack on one
or more of them, which required my attention. Lately however, they haven't
been spammed at all. So I wonder why.
</p>

<p>
The anti-spam measures we employ are:
</p>

<ol>

<li>
<p>
We do not allow anonymous commits, and instead require registration.
Nevertheless, the registration does not require an E-mail-handshake, which
means it can be implemented more easily by pure-HTTP bots.
</p>
</li>

<li>
<p>
We utilise the
<a href="http://www.mediawiki.org/wiki/Extension:SpamBlacklist">MediaWiki
SpamBlacklist plugin</a>, which blacklists edits based on URLs matching
certain regular expressions. We use both the Wikimedia-maintained blacklist
and our own blacklist, where we add URLs that we were spammed with.
</p>
<p>
Lately, our custom blacklist has not been updated, since we didn't encounter
any spam.
</p>
</li>

<li>
<p>
All external URLs in the wikis are using
<a href="http://en.wikipedia.org/wiki/Nofollow">rel="nofollow"</a>
to make sure they do not gain page rank. This did not prevent wiki spam, but
it makes sure that spammers don't benefit from spamming.
</p>
</li>
</ol>

<p>
Possible explanations to why there was no wiki spam lately is that the
wikimedia-blacklist has been more promptly maintained and prevented most
spam, or that spam-bots check for the rel="nofollow" attribute and in case
they find it, do not spam. That, or something changed in the configuration
of the wikis, which I wasn't made aware of.
</p>

<p>
I'm happy that I have less work to do to combat the spam, but am worried
that I may become negligent. But I guess I should enjoy it while it lasts.
</p>

</div>


<div class="entry" id="tech-tip-iotop">

<!-- Tags: tech, tip, tech tip, iotop, hard disk, activity, top, I/O, linux
-->

<h2>2009-04-25: Tech Tip: using iotop to monitor the disk activity.</h2>

<p>
Today I discovered <a href="http://guichaz.free.fr/iotop/">iotop</a> (
<a href="http://freshmeat.net/projects/iotop">on Freshmeat</a>). It's a
(Linux-only) tool
to find which processes are doing the most hard-disk activity at present.
Useful for the cases where your hard-disks' LED is active and you
don't know why.
</p>

<p>
The 0.2.1 version (which is the latest) is available in the Mandriva Cooker
repositories, and it was a single urpmi command away from installation. I
assume installing it on Debian, Ubuntu, etc. should be just as easy.
</p>

<p>
I learned about iotop in <a href="http://ilsh.info/?p=1471">this blog post
(in Hebrew) by Ilan Shavit</a>, which I read today. Thanks Ilan, for the tip!
</p>

</div>


<div class="entry" id="vim-tips-2009-04-30">

<!-- Tags: vim, tip, tips, tech, tech tip, mswin, split, new window, any char, newline, indent, windows-like, editing, editor, text, repeat
-->

<h2>2009-04-30: Several Vim Tips</h2>

<p>
I have collected several <a href="http://www.vim.org/">vim</a> tips in the
past weeks, so here they are:
</p>

<ol>

<li>
<p>
One can use <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#:sp">the
:sp(lit) command</a> to split a window into two. <tt>:new</tt> splits and
starts editing a new buffer. Finally, both of these commands followed by
a filename stats editing the specified file in the new viewport.
</p>
</li>

<li>
<p>
This tip is long overdue. You can make Vim behave more like a Windows-like
editor by adding <a href="http://vimdoc.sourceforge.net/htmldoc/gui_w32.html#mswin.vim">source $VIMRUNTIME/mswin.vim</a> to your <tt>.vimrc</tt>.
Reportedly, it causes many problems and is not recommended, but I still
like to use it, afer all these years.
</p>
</li>

<li>
<p>
One can
<a href="http://vimdoc.sourceforge.net/htmldoc/pattern.html#/\_">match
any char including newline using \_.</a>. The "\_" construct works for
other character classes, and allows you to match all of them as well as
newline.
</p>
<p>
It took me a long time to find that, back when I did, so I'm documenting
it here.
</p>
</li>
<li>
<p>
After one
<a href="http://vimdoc.sourceforge.net/htmldoc/change.html#shift-left-right">indents
or unindents several lines using
"&lt;", "&gt;", "&lt;&lt;", "&gt;&gt;", etc.</a> and the indentation level
needs to be promoted or demoted further, one can use the "." (= repeat)
command to repeat the shifting again (and again) until it is right.
</p>
<p>
I discovered this trick by accident, but immediately found it useful.
</p>
</li>
</ol>

<p>
Hope all Israelis had a nice <a
href="http://en.wikipedia.org/wiki/Yom_Ha%27atzmaut">Independence Day</a>.
Happy Vimming!
</p>

</div>

<div class="entry" id="recent-hacktivity-2009-05-10">

<!-- Tags: recent, hacktivity, log, hacking, birthday, freecell, solver, fcs, statistics-descriptive, perl, cpan, testing, cpan testers, perl-begin, html-widgets-navmenu, test-run, tap, qa, c3, inheritance, mro-compat, kmail, postfix, email, smtp
-->

<h2>2009-05-10: Recent Hacktivity</h2>

<p>
I worked a lot on <a href="http://fc-solve.berlios.de/">Freecell Solver</a>,
doing refactoring and optimisations. On my Birthday (5-May, Tuesday) I tried
to do several optimisations, and most of them did not work, so it was a bit
frustrating. But some of them did work, and at least I know not to repeat
the other ones.
</p>

<p>
After using it for Freecell Solver, I had decided to adopt the
<a href="http://search.cpan.org/dist/Statistics-Descriptive/">Statistics-Descriptive</a>
CPAN module, and eventually got the necessary permissions. I uploaded version
2.7 which featured some bug fixes, cleanups and a conversion to Module-Build.
This release still failed some CPAN Testers tests, mainly on 64-bit
architectures, due to rounding problems, so I uploaded a new release - 2.8 -
yesterday, with more robust tests and a few other improvements.
</p>

<p>
I worked a bit on <a href="http://perl-begin.org/">the Perl Beginners'
Site</a>, fixing some broken links, adding more external links, and fixing
some other problems. While working on it, I found a validation problem caused
by
<a href="http://web-cpan.berlios.de/modules/HTML-Widgets-NavMenu/">HTML-Widgets-NavMenu</a>, which I corrected on its trunk, but did not upload to CPAN yet.
</p>

<p>
One day, I did not have a lot to do, so I decided to convert
<a href="http://web-cpan.berlios.de/modules/Test-Run/">Test-Run</a>
from the old and deprecated NEXT.pm to
<a href="http://search.cpan.org/dist/MRO-Compat/">MRO::Compat</a>. I ran into
a few problems because my inheritance graph was incompatible with the C3
guidelines, but <a href="http://www.trout.me.uk/">mst</a> helped me (again).
Thanks! So I ended up uploading Test-Run along with all of its plugins with the
converted code.
</p>

<p>
I also worked on <a href="https://bugs.kde.org/show_bug.cgi?id=159251">a
solution for this KMail bug</a> that a friend referred me to. It took me
a lot of experimentation to get a Perl script to be able to properly
filter the Postfix outgoing e-mail, and after everything seemed to work,
my ISP's email-server rejected the message. Either I'm doing something wrong,
or I need to use a different outgoing SMTP server.
</p>

<p>
Happy Hacking and happy birthday to
<a href="http://alanhieu.ml/">Alan Haggai Alavi</a>!
</p>

</div>


<div class="entry" id="telfoss-meeting-2009-05-31-pre-announcement">

<!-- Tags: telux, meeting, may, fring, announcement, foss, linux, israel, open source, activities, telfoss, tel aviv, foss, mobile, phones, cellphones
-->

<h2>2009-05-12:  ---:     </h2>

<div dir="rtl" align="right">

<p>
<a href="http://www.cs.tau.ac.il/telux/">   - ()</a>
    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_31_May_2009">       
   </a>.
</p>

<p>
   , 31  2009,  18:30, 
008    (  )   .    
<a href="http://www.cs.tau.ac.il/telux/"></a>
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_31_May_2009"></a>.
       .
</p>

<p>
          .
        
       
    ( PHP, Java ).
</p>

<p>
          - .
    ,       ,   .
</p>

</div>

</div>


<div class="entry" id="source-of-e-text-editor-was-released">

<!-- Tags: vim, editors, file, text, linux, open source, source, e text editor, textmate, macintosh, apple
-->

<h2>2009-05-14: Source for the "E Text Editor" Was Released</h2>

<p>
Apparently,
<a href="http://e-texteditor.com/blog/2009/releasing-the-source">the
source for E Text Editor, a multi-platform Textmate clone was
released under a not-entirely-open-source licence</a>. This is good
news despite the fact that it is not a fully-open-source licene, because
now Textmate-like functionality is available for Linux and other
platforms, and not only on
<a href="http://www.shlomifish.org/open-source/anti/apple/">the Mac</a>.
</p>

<p>
I'm still sticking with <a href="http://www.vim.org/">Vim</a>, though,
which is fully cross-platform, open-source and even GPL-compatible.
</p>

</div>



<div class="entry" id="tech-tip-kopete-recalling-previous-messages">

<!-- Tags: tech, tip, tech tip, kopete, kde, recall, messages, up, down
-->

<h2>2009-05-28: Tech Tip: Kopete: Recalling Previous Messages</h2>

<p>
When using <a href="http://kopete.kde.org/">Kopete</a>, a unified
instant-messaging client for the KDE desktop environment, one can recall
previous messages using Ctrl+Up and Ctrl+Down. A friend, who is a KMess
developer, told me it was also a <a href="http://kmess.org/">KMess</a>
feature.
</p>

<p>
This wasn't very discoverable, and I discovered it only by accident. But
it seems useful.
</p>

</div>

<div class="entry" id="tech-tip-perl-debugger-preserving-the-history">

<!-- Tags: tech, tip, tech tip, perl, debugger, history, preserving
-->

<h2>2009-05-31: Tech Tip: Perl Debugger: Preserving the History Between Invocations</h2>

<p>
One thing that always bothered me about
<a href="http://debugger.perl.org/">the Perl debugger</a> is the fact that
it didn't rememeber / preserve the GNU readline command history from previous
sessions like a shell does for example. Today I discovered how to enable
the preservation of the command history from previous sessions of the
debugger. To do so, add something like the following the the file "~/.perldb"
(under your home directory):
</p>

<pre>
&amp;parse_options("HistFile=$ENV{HOME}/.perldb-history HistSize=5000");
</pre>

<p>
I explictly set the history size to a large value, but this is optional. You
can also set the path to the history file to a different value.
</p>

<p>
Now when you start perl -d it will recall all the latest values from previous
invocations.
</p>

</div>


<div class="entry" id="recent-hacktivity-2009-06-01">

<!-- Tags: recent, hacktivity, log, hacktivity log, recent hacktivity, leto, meme, perl, begin, beginners, perl-begin, testimonials, better-scm, freecell, solver, simple simon, pysol, sloccount, statistics, cpan, akregator, mailing, lists, wiki, szabgab, amarok, bug, bugs, per-song-volume, javascript
-->

<h2>2009-06-01: Recent Hacktivity</h2>

<p>
Before I start with the entry itself, I should note that
<a href="http://leto.net/dukeleto.pl/2009/05/recent-hacktivity.html">someone
copied my "Recent Hacktivity" meme</a>. So I am going to tell my team
intimidating lawyers to send him a "Cease and Desist" letter for
Copyrights/trademarks/patents/trade-secrets/whatever violation. (Just kidding)
</p>

<p>
OK, I did a lot of work on <a href="http://perl-begin.org/">Perl-Begin</a>.
I went over all the pages and updated all the out-of-date information I could
find, and then also implemented a decent "Testimonials" sidebar instead of the
half-assed "These companies/projects are using" Perl that there was there
earlier. Next, I plan to have to create a tools/IDEs/etc. section.
</p>

<p>
I also did
<a href="http://better-scm.berlios.de/news/changes-2009-05-19/">some work on
the Better-SCM site</a>. Most of it was done by going over the emails in
my relevant folder and implementing their suggestions.
</p>

<p>
I did a lot of work on Freecell Solver. I implemented
<a href="http://en.wikipedia.org/wiki/Simple_Simon_(solitaire)">Simple
Simon</a> support in Games-Solitaire-Verify, and verified all the
FCS-generated Simple Simons solutions up to PySol deal No. 5,000. I also
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/983">prepared
updated Simple Simon statistics</a>.
I also <a
href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/980">did
some Perl and PDL work on creating a meta-scan that minimises the
average solutions' lengths generated by the solver</a>. This worked out
pretty well. Finally the code in the Freecell
Solver trunk
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/984">is
now worth over a million U.S. Dollars</a> (at least according to SLOCCount
by David A. Wheeler).
</p>

<p>
I did some extensive work on refactoring and cleaning up
<a href="http://web-cpan.berlios.de/modules/Statistics-Descriptive/">the
Statistics-Descriptive CPAN module</a>, and released version 3.0000 to the
CPAN. Next I'd like to create a perltidy theme to correspond with my
personal style, so I'll be able to reformat the code there properly. At the
moment, a lot of it is still using 2-whitespace-wide indentation levels, which
is annoying.
</p>

<p>
Next I tended to <a href="https://bugs.kde.org/show_bug.cgi?id=183022">this akregator bug, where the "Copy Link Location" did not copy to the middle-mouse
button paste</a>. Fixing it was pretty easy because there was a line doing it
commented-out. The patch was accepted and is now in both KDE-4.2 and KDE-trunk.
</p>

<p>
I helped sort out
<a href="http://www.perlfoundation.org/perl5/index.cgi?mailing_lists">the
Perl-related mailing lists page at the Perl 5 Wiki</a>. The effort was
started by szabgab, and I did most of the sorting. In the process, I learned
about many interesting mailing lists, and of many almost dead ones. After
I was through, I did not know what to do with the rest of my life.
</p>

<p>
I ran into <a href="https://qa.mandriva.com/show_bug.cgi?id=51121">this bug
with Amarok 2.x on my system</a>, which I fixed, by removing some weird
junk from the end of <tt>/etc/fstab</tt>. The fact that I could not use Amarok
irritated me a lot, and I was glad that I resolved it.
</p>

<p>
I released a new version of the Config-IniFiles CPAN module with some fixes
and a t/pod.t and t/pod-coverage.t files to prevent POD problems.
</p>

<p>
Finally, one evening after an intensive biking session,
I worked on forward-porting my
<a href="http://www.shlomifish.org/open-source/bits.html#amarok">Amarok
per-song-volume script</a> to Amarok 2.x. Now, the original Perl script
could not be used because running arbitrary UNIX process scripts is no longer
supported by Amarok 2.x, which now requires all scripts to be written in
JavaScript using QtScript. Porting it took all evening, but I had it
working eventually. I still resent the Amarok developers for only allowing
JavaScript there now, which I don't hold in high esteem.
</p>

</div>


<div class="entry" id="">

<!-- Tags: perl, cpan, navigation, menus, html, html-widgets-navmenu, web, www, design, css, wml, website, meta, language
-->

<h2>2009-06-14: New Version of HTML-Widgets-NavMenu</h2>

<p>
Just for the fun of it, I decided to join
<a href="http://www.enlightenedperl.org/ironman.html">the Iron Man
Blogging Challenge</a>, so here's my first post.
</p>

<p>
I recently released a new version (1.0300) of
<a href="http://web-cpan.berlios.de/modules/HTML-Widgets-NavMenu/">HTML-Widgets-NavMenu,
my CPAN module for generating navigation menus</a>. This release fixes a bug
in the "HeaderRole" type of navigation menus (which I believe is not widely
used) and also cleans up the internals. Instead of
<tt>my ($self, %args) = @_;</tt>, there's now <tt>my ($self, $args) = @_;</tt>,
which is cleaner and should also be a little faster.
</p>

<p>
You can see HTML-Widgets-NavMenu in action on
<a href="http://www.shlomifish.org/">my homepage</a>. By going to various pages,
you can see the navigation menu expands or unexpands in certain places, and
the breadcrumbs' trail and next/previous/up links updated.
</p>

<p>
The story of how I created this module is interesting. It started with a lot
of ugly and crufty
<a href="http://thewml.org/">Website Meta Language</a> logic that evolved
to generate my homesite's navigation menu. I didn't really like it so I look
for an alternative. I looked for one on the CPAN and found two modules that
didn't seem too inviting. Then when I mentioned my quest on
<a href="http://www.perl.org.il/">Perl-Israel</a>, a fellow Perler said he
created a hack based on his module for generating JavaScript menus to do
just that and uploaded it to CPAN. That module seemed to have the most
user-friendly interface, so I decided to use it. However, I patched it,
inherited from one of its classes, and created a lot of code of my own.
</p>

<p>
Eventually, I ended up with only original code, and so I wrapped things up,
licensed it under the
<a href="http://en.wikipedia.org/wiki/MIT_License">MIT/X11 licence</a>
and uploaded it to CPAN. Since then, it was improved to some extent, including
adding 100% Automated Test coverage at one point (which didn't prevent
the HeaderRole bug).
</p>

<p>
So far I received
<a href="http://cpanratings.perl.org/dist/HTML-Widgets-NavMenu">two
five star reviews of the module on CPAN Ratings</a>, and also heard from
other people using the bug tracker and on E-mail. As a result, I believe
this module is moderately popular, and fills a nice niche.
</p>

<p>
If you're looking for a module to generate navigation menus for your site,
then please take a look at it. And if you have ideas for improvements, I'll be
glad to hear from you.
</p>

</div>


<div class="entry" id="telfoss-meeting-28-june-2009">

<!-- Tags: perl, telux, telfoss, open source, foss, meeting, club, sawyer, red, flags, programming, ruby, python, php, free, software
-->

<h2>2009-06-21: Tel Aviv FOSS Meeting on 28-June-2009: Programming Red Flags</h2>

<p>
The <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source Club</a>
will host <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">a talk by Yaron Meiry ("Sawyer") about "Programming Red Flags")</a>
on 28-June-2009.
</p>

<p>
The meeting will take place at Tel Aviv University, at the Schreiber
Maths&amp;CS building, room 008 on 18:30. So mark your calendars. More
information can be found <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">on the wiki page for the meeting</a>.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a href="http://www.shlomifish.org/me/contact-me/">contact me</a>.
</p>

<p>
<b>Abstract</b>
</p>

<p>
Some programming habits should be avoided at all costs; some should be
considered with care and some are just divine. Red flags tell us what to try
and avoid and what to inspect more closely. They are a sign of code that might
become problematic or straightforwardly dangerous. The talk will be
Perl-oriented (with Perl examples) but the programming practices are generic
and can be applied to most programming languages, so if you program in Ruby,
Python, PHP or other languages, this talks to you as well.
</p>

<p>
Hopefully by the time we're done, you'll be able to write cleaner, more
maintainable, less error-prone, and better code. If not, your money back
guarantee!
</p>

</div>



<div class="entry" id="cpanhq-and-response-to-Limbic-Region">

<!-- Tags: perl, cpan, cpanhq, limbic, region, limbic region, search, search.cpan.org, kobesearch, github, catalyst, dbix-class
-->

<h2>2009-06-28: Introducing CPANHQ and a Response to Limbic Region's "Improving search.cpan.org (Advanced Search)"</h2>

<p>
Limbic Region recently wrote a post on his use Perl journal
titled <a
href="http://use.perl.org/~Limbic+Region/journal/39132">"Improving
search.cpan.org (Advanced Search)"</a>. The post concludes by saying that
"Feel free to add your own [ideas] - I know someone who may actually be
motivated to implement some of them as an alternate to search.cpan.org is
reading :-)". Since I talked with L~R about CPANHQ, a seacrch.capn.org
alternative in question, that I have been contributing to, I can assume
meant me.
</p>

<p>
Before I reply to L~R's points, let me introduce
<a href="http://github.com/bricas/cpanhq/tree/master">CPANHQ</a>. As
documented in <a href="http://wiki.github.com/bricas/cpanhq">the first
and only wiki page it has so far</a> (which I wrote two days ago),
"CPANHQ aims to be a community-driven, meta-data-enhanced alternative to
such sites as <a href="http://search.cpan.org/">http://search.cpan.org/</a>
and <a href="http://kobesearch.cpan.org/">http://kobesearch.cpan.org/</a>.
Currently, the functionality is very basic, but we have great ambitions."
</p>

<p>
I learned about CPANHQ by overhearing a conversation on Freenode's #perl
channel. I joined the effort, and made several enhancements to the
<a href="http://www.catalystframework.org/">Catalyst</a> and
<a href="http://www.perlfoundation.org/perl5/index.cgi?dbix_class">DBIx-Class</a>-based
code, which was a useful learning experience. The functionality is still very
basic, and there's a lot of work to do, so any help would be appreciated.
Just fork the github repository ( or
<a href="http://github.com/shlomif/cpanhq/tree/master">my repository</a>,
which I tend to keep somewhat more up-to-date ), and play with the code.
</p>

<p>
Now back to L~R's suggestions. At first I was a bit sceptical of them
and they seemed like an overkill, and not really useful. When I'm using
search.cpan.org to search for a distribution, either I know the name of the
module that I'm looking for and just perform a search to be directed
to the location of the exact page, or I usually find the order of the
search sufficient for my needs.
</p>

<p>
However, on a second reading, it seems like what Limbic suggests (like
being able to sort results by Kwalitee, creation date, number of downloads,
last update date, rating, etc., providing a code search, or recommendations)
actually has some merit and should be considered. One thing I'm sure about
is that the default CPAN search should remain simple, while only giving
an option for an advances search using a different form, where it might
be possible to formulate a more complex query using a specialised language.
Otherwise, if we complicate the existing search, it could prove confusing
to many users.
</p>

<p>
L~R's suggestions remind me of
my <a href="http://perl.net.au/wiki/Finding_a_Module_on_CPAN/Module-Rank">CPAN
Module-Rank</a> thought experiment, that aimed to define an automatically
calculated metric for the relevance of CPAN modules.
</p>

<p>
L~R later referred me to <a href="http://perlmonks.org/?node_id=773093">a
post to Perlmonks.org titled "Advanced CPAN Search?"</a> where someone
asks a similar question.
</p>

<p>
To sum up, please consider monitoring or even contributing to CPANHQ if
you want to improve the future of finding stuff and interacting with CPAN.
It seems that some people have issue with the current CPAN search
state-of-the-art, and would like to see it improved. We'd be happy to hear
what you think.
</p>

</div>



<div class="entry" id="tech-tip-finding-Build-PL-only-CPAN-distros">

<!-- Tags: tech, tip, tech tip, perl, CPAN, Build.PL, module-build, yahoo, search, extutils-makemaker, build, building
-->

<h2>2009-07-01: Tech Tip: Finding CPAN Distributions that only have a Build.PL</h2>

<p>
A few times in the past, I wanted to find perl 5 CPAN distributions that only
had a
<a href="http://search.cpan.org/dist/Module-Build/">Module-Build</a>-based
Build.PL file and not a fallback Makefile.PL file. Yesterday, after some
trial and error, I was able to formulate
<a href="http://search.yahoo.com/">Yahoo Search</a> query, to do just that.
</p>

<p>
Here it is - the shortened URL with a hyperlink to the full one:
</p>

<p>
<a href="http://search.yahoo.com/search;_ylt=A0geusbSektKDlEAwnJXNyoA?p=%22Build.PL%22+%22This+Release%22+%22CPAN+Testers%22+-%22Makefile.PL%22+-%22create_makefile_pl%22&amp;y=Search&amp;fr=sfp&amp;vm=p&amp;vs=search.cpan.org&amp;vf=all&amp;fr2=sb-top&amp;sao=0">http://xrl.us/bezbkx - Yahoo Search to find Build.PL
only distributions</a>
</p>

<p>
It works by looking for specific phrases in the /dist pages, looking for
"Build.PL" and specifically excluding "Makefile.PL". I hereby place this
URL and whatever associated techniques under
<a href="http://creativecommons.org/license/zero">CC0 / Public Domain</a>.
Enjoy!
</p>

</div>


<div class="entry" id="perlbuzz-feature-about-cpanhq">

<!-- Tags: perl, perlbuzz, cpanhq, cpan, perl 5, blogging, feature, news
-->

<h2>2009-07-07: A Perlbuzz Feature by Me about CPANHQ</h2>

<p>
W00t! Andy Lester published
<a href="http://perlbuzz.com/2009/07/introducing-cpanhq.html">a feature I wrote about CPANHQ</a> on <a href="http://perlbuzz.com/">Perlbuzz</a>.
This is in continuation to my <a
href="http://community.livejournal.com/shlomif_tech/28209.html">previous
blog entry about the topic</a>, but much more focused.
</p>

<p>
This publicity seemed to have work, because we've been visited by two
new Perl people on <a href="irc://irc.perl.org/#cpanhq">#cpanhq</a>,
who tore my hacky Catalyst code to pieces. Anyway, check the article out,
and if you like it, upvote it on reddit.
</p>

</div>


<div class="entry" id="august-penguin-2009">

<!-- Tags: foss, floss, linux, israel, august, penguin, perl, hebrew, open, source, free, freedom, conference, event, events, announcement
-->

<h2>2009-07-12:      2009</h2>

<div dir="rtl" align="right">
<p>
 ,        
<a href="http://www.hamakor.org.il/"> </a>
 
<a href="http://august.penguin.org.il/">  </a>.
    , -7  (2009),  -08:30  
   .    30       
    .
</p>

<p>
   ?
</p>

<ul>

<li>
<a href="http://august.penguin.org.il/schedule"></a>
</li>

<li>
 " ".
</li>

<li>

<a href="http://www.bookcrossing.com/"> </a>
</li>

<li>
<a href="http://august.penguin.org.il/keysign">  </a>
</li>

<li>
   OpenMoko/FreeRunner.
</li>

<li>
 .
</li>

</ul>
</div>

</div>

<div class="entry" id="what-you-can-do-with-file-find-object-that-you-cant-with-file-find">

<!-- Tags: perl, file-find, file-find-object, file-find-rule, file-find-object-rule, iteration, iterative, incremental, instantiation, diff, recursive, interrupted, needle, directory tree, traversal
-->

<h2>2009-07-17: What you can do with File-Find-Object (that you can't with File::Find)</h2>

<p>
I've written about
<a href="http://www.shlomifish.org/open-source/projects/File-Find-Object/">File-Find-Object</a>
before, but I've intended to write an entry demonstrating its philosophical
advantages over the core File::Find module. Today, I'd like to get to it.
</p>

<p>
As opposed to File::Find, File-Find-Object is:
</p>

<ol>

<li>
Has an iterative interface, and is capable of being interrupted in the
middle.
</li>

<li>
Can be instantiated and be used to traverse an arbitrary number of directory
trees in one process.
</li>

<li>
Can return result objects instead of just plain paths.
</li>

</ol>

<p>
I'd like to demonstrate some of these advantages now.
</p>

<p><b>Case Study #1: Looking for a Needle in a Haystack</b></p>

<p>
Let's suppose you have a huge directory tree containing many directories
and files, and you're looking for only one result (or a few ones). Once you
found that result you wish to stop. This question was raised in
<a href="http://stackoverflow.com/questions/381395/how-can-i-break-out-of-recursive-find-function-once-a-specific-file-is-found">this Stack Overflow
post.</a>
</p>

<p>
So how can you do it with File::Find? Not very easily. Either you can throw
an exception:
</p>

<pre>

sub processFile() {
   if ($_ =~ /target/) {
      die { type =&gt; "file-was-found", path =&gt; $File::Find::name };
   }
}

eval {
    find (\&amp;processFile, $mydir);
};

if ( $@ ) {
    my $result = $@;
    if ( (ref($result) eq "HASH") &amp;&amp;
         ($result-&gt;{type} eq "file-found")
       )
    {
        my $path = $result-&gt;{path};
        # Do something with $path.
    }
    elsif ( $result ) {
        die $result;
    }
}
else {
   # be sad
}
</pre>

<p>
This is incredibly inelegant, and abuses the Perl exception system for
propagating values instead of errors. But there's even a worse way, using
<tt>$File::Find::prune</tt>:
</p>

<pre>
#! /usr/bin/perl -w

use strict;
use File::Find;

my @hits = ();
my $hit_lim = shift || 20;

find(
    sub {
        if( scalar @hits &gt;= $hit_lim ) {
            $File::Find::prune = 1;
            return;
        }
        elsif( -d $_ ) {
            return;
        }
        push @hits, $File::Find::name;
    },
    shift || '.'
);

$, = "\n";
print @hits, "\n";

</pre>

<p>
Here, we prune all the levels from the results up to the root to get out
of the loop.
</p>

<p>
So how can you do it with File-Find-Object? In a very straightforward manner:
</p>

<pre>
#!/usr/bin/perl

use strict;
use warnings;

use File::Find::Object;

sub find_needle
{
    my $base = shift;

    my $finder = File::Find::Object-&gt;new({}, $base);

    while (defined(my $r = $finder-&gt;next()))
    {
        if ($r =~ /target/)
        {
            return $r;
        }
    }

    return;
}

my $found = find_needle(shift(@ARGV));

if (defined($found))
{
    print "$found\n";
}
else
{
    die "Could not find target.";
}

</pre>

<p>
The <tt>find_needle()</tt> function is the important thing here, and one
can see it doesn't use any exceptions, excessive prunes or anything like
that. It just harnesses the iterative interface of File-Find-Object. And
it works too:
</p>

<pre>
shlomi:~$ perl f-f-o-find-needle.pl ~/progs/
/home/shlomi/progs/Rpms/BUILD/ExtUtils-MakeMaker-6.52/t/dir_target.t
shlomi:~$
</pre>

<p><b>Case Study #2: Recursive Diff</b></p>

<img src="http://www.shlomifish.org/open-source/projects/File-Find-Object/genie-aladdin.jpg" alt="Evil Djinni from Disney's Aladdin" />

<p>
Let's suppose an evil djinni has removed the <tt>-r</tt> flag from your
<a href="http://en.wikipedia.org/wiki/Diff">diff</a> program, making you
unable to recursively find the differences between files in two directory
tree. As a result, you now need to write a <tt>recursive-diff</tt> program in
Perl that will run <tt>diff -u</tt> on the two copies of each equivalent path
in the two directorie.
</p>

<p>
Since File::Find cannot be instantiated two times at once, then when using
it, we will need to collect all the results from both directories, and then
traverse them in memory. But with File-Find-Object there is a better way:
</p>

<pre>
#!/usr/bin/perl

use strict;
use warnings;

use File::Find::Object;
use List::MoreUtils qw(all);

my @indexes = (0,1);
my @paths;
for my $idx (@indexes)
{
    push @paths, shift(@ARGV);
}

my @finders = map { File::Find::Object-&gt;new({}, $_ ) } @paths;

my @results;

my @fns;

sub fetch
{
    my $idx = shift;

    if ($results[$idx] = $finders[$idx]-&gt;next_obj())
    {
        $fns[$idx] = join(&quot;/&quot;, @{$results[$idx]-&gt;full_components()});
    }

    return;
}

sub only_in
{
    my $idx = shift;

    printf(&quot;Only in %s: %s\n&quot;, $paths[$idx], $fns[$idx]);
    fetch($idx);

    return;
}

for my $idx (@indexes)
{
    fetch($idx);
}

COMPARE:
while (all { $_ } @results)
{
    my $skip = 0;
    foreach my $idx (@indexes)
    {
        if (!$results[$idx]-&gt;is_file())
        {
            fetch($idx);
            $skip = 1;
        }
    }
    if ($skip)
    {
        next COMPARE;
    }

    if ($fns[0] lt $fns[1])
    {
        only_in(0);
    }
    elsif ($fns[1] lt $fns[0])
    {
        only_in(1);
    }
    else
    {
        system(&quot;diff&quot;, &quot;-u&quot;, map {$_-&gt;path() } @results);
        foreach my $idx (@indexes)
        {
            fetch($idx);
        }
    }
}

foreach my $idx (@indexes)
{
    while($results[$idx])
    {
        only_in($idx);
    }
}
</pre>

<p>
( As a bonus, we do not need to sort the results explicitly at any stage,
because File-Find-Object sorts them for us. )
</p>

<p>
This program did not take me a long time to write, it works pretty well,
and does populate a long list of results of one or both directories.
</p>

<p><b>Conclusion</b></p>

<p>
If you use File-Find-Object instead of File::Find, your code may be
cleaner, your logic less convulted, and you may actually be able to
achieve things that are not possible with the latter. I hope I whet your
appetite here and convinced you to give File-Find-Object a try.
</p>

<p>
So what does the future holds? I recently ported File-Find-Rule to
File-Find-Object and called the result File-Find-Object-Rule . As a result,
"-&gt;start" and "-&gt;match" are now truly iterative, and I believe
you can iterate with them on several objects at once. As I discovered by
porting <a
    href="http://search.cpan.org/dist/File-Find-Object-Rule-MMagic/">File-Find-Object-Rule-MMagic</a>,
I unfortunately cannot maintain full backwards compatibility with the plugin
API of File-Find-Rule, because the latter exposes some of behaviour of
File::Find (in
<a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">a
    leaky abstraction</a> fashion).
</p>

<p>
I'm planning on porting more File-Find-Rule plugins to File-Find-Object-Rule,
and would appreciate any help. I also would like to look at the directory
tree traversal APIs of other languages to see if they contain any
interesting techniques.
</p>

</div>


<div class="entry" id="irc-channel-for-perl-in-israel">

<!-- Tags: irc, channel, channels, perl, israel, israel.pm, mongers, chat, internet
-->

<h2>2009-07-20: IRC Channel for Perl in Israel - #israel.pm on irc.perl.org</h2>

<p>
This Hebrew announcement will be followed by an English one.
</p>

<div align="right" dir="rtl">
<p>
  
<a href="http://he.wikipedia.org/wiki/Internet_Relay_Chat">-IRC (Internet Relay Chat)</a>
     -
<a href="irc://irc.perl.org/#israel.pm">#israel.pm  irc.perl.org</a>. 
    .
</p>
</div>

<p>
We have started a new <a href="http://en.wikipedia.org/wiki/Internet_Relay_Chat">Internet Relay Chat</a>
channel for Perl in Israel - <a href="irc://irc.perl.org/#israel.pm">#israel.pm on the irc.perl.org network</a>. You are invited to come there and chat with us.
</p>

</div>

<div class="entry" id="preparing-linux-screencast">

<!-- Tags: screencast, linux, video, freecell, solver, fc-solve, pysolfc, solitaire, card, games, recordmydesktop, unix, x-windows, command line, avidemux, ogg, theora, avi, formats, howto
-->

<h2>2009-07-25: Preparing a Screencast Under Linux</h2>

<p>
I wrote about
<a href="http://fc-solve.blogspot.com/2009/07/screencast-of-freecell-solver-in-action.html">the screencast
of PySolFC solving Freecell automatically</a> on the fc-solve blog. As
I promised there, I wanted to tell the story of how I ended up
with a ready screencast. The process was not completely free of problems,
but proved to be quite straightforward.
</p>

<p>
Googling for screencast and linux yielded <a
href="http://www.linuxhaxor.net/2008/05/20/5-ways-to-screencast-your-linux-desktop/">this blog post at
liunxhaxor.net</a>. The first program I tried from there was Istanbul, but
it proved to be too crashy, and could never save the video to the final
file. Wink is non-open-source so I prefered not to use it, and I had a bad
prior experience with vnc2swf. Then I noticed it also mentioned
<a href="http://recordmydesktop.sourceforge.net/">recordMyDesktop</a>,
which is a command line program that worked very well and was able to
produce a working video. (recordMyDesktop has two GUI front-ends, but I
did not bother to learn how to use them, but they may work for you.)
</p>

<p>
After I had the recording of the screen, I needed to edit it, because one
could still see the cursor starting from the window where I ran it, and then
me Ctrl+Cing it. And I also wanted to add some background music. So I looked
for a good video editor. I had little luck with either
<a href="http://cinelerra.org/">cinelerra</a> or
<a href="http://www.kinodv.org/">Kino</a>, but someone on IRC recommended
<a href="http://fixounet.free.fr/avidemux/">avidemux</a>, and it proved
easy enough and bug-free enough to use. Nevertheless, it refused to import
the <a href="http://www.theora.org/">Ogg Video (Theora)</a> file
that I got from recordMyDesktop, but I was able to convert it to
AVI format first with <a href="http://ffmpeg.org/">ffmpeg</a>.
</p>

<p>
Using avidemux, I was able to delete the beginning and end of the file, as
well as add some background music (from
<a href="http://www.myspace.com/adamgsinger">Adam Singer's
album "Lifeforce"</a> - available under a Creative Commons licence).
</p>

<p>
Afterwards I had a ready video file, which I uploaded to YouTube. While
I waited for the file to upload, I wrote some blurb for the description.
So far the video received 67 views and did not receive any comments. I still
found learning how to make a screencast highly enjoyable, and look forward
to preparing future screencasts. I hope I've given you some insights into
how to prepare it.
</p>

<p>
Happy screencasting and watching!
</p>

</div>

<div class="entry" id="perl-begin-news-2009-07-27">

<!-- Tags: perl-begin, perl, begin, beginners, introductory, site, portal, news, blogs, ides, tools, oop, testimonials, debug, debugging, gui, xml, databases, cpan
-->

<h2>2009-07-27: Updates to Perl-Begin.org</h2>

<p>
After the last news item, a lot of work was invested into <a href="http://perl-begin.org/">Perl-Begin.org, the Perl Beginners' Site</a>, making
it even better than it used to be. Here's a summary of the changes:
</p>

<ul>

<li>
<p>
<a href="http://perl-begin.org/learn/who-is-using/">A testimonials page</a>
was added, with some honest-to-God testimonial quotes which are now featured in
the Testimonials side-bar.
</p>
</li>

<li>
<p>
There's a new <a href="http://perl-begin.org/IDEs-and-tools/">IDEs and
tools page</a>, featuring some Integrated Development Environments.
</p>
</li>

<li>
<p>
There's a new <a href="http://perl-begin.org/blogs/">page sporting links
to collections of blogs</a>.
</p>
</li>

<li>
<p>
Several new topical pages were added:
</p>
<ol>

<li><a href="http://perl-begin.org/uses/databases/">Perl and Databases</a></li>

<li><a href="http://perl-begin.org/uses/GUI/">GUI Development in Perl</a></li>

<li><a href="http://perl-begin.org/uses/xml/">Perl for XML Processing</a></li>

<li><a href="http://perl-begin.org/topics/debugging/">Debugging</a></li>

<li><a href="http://perl-begin.org/topics/object-oriented/">Object-oriented
Programming in Perl</a></li>

<li><a href="http://perl-begin.org/topics/cpan/">Using CPAN</a></li>
</ol>

</li>

<li>
<p>
A <a href="http://sharethis.com/">ShareThis</a> button was added to the
bottom of every page for easy bookmarking and sharing.
</p>
</li>

<li>
<p>
Many writing errors (spelling, grammar, syntax, phrasing, etc.) have been
corrected by <a href="http://alanhieu.ml/">Alan Haggai Alavi</a>. He
seems to have a good eye for catching such problems, and I am indebted to
him.
</p>
</li>

<li>
<p>
Corrected several broken links including those to Ovid's CGI course.
</p>
</li>

</ul>

<p>
We hope you enjoy the new Perl Beginners' Site and please recommend it
to your friends. All content on Perl-Begin is made available under the Creative
Commons Attribution Licence which allows almost unlimited re-use.
</p>

</div>


<div class="entry" id="perl-begin-news-2009-08-03">

<!-- Tags: perl-begin, perl, begin, beginnners, introductory, site, portal, news, newbies, perl for newbies, impatient, impatient perl, greg london, learn, stack overflow, books
-->

<h2>2009-08-03: More updates to Perl-Begin.org</h2>

<p>
I thought <a href="http://perl-begin.org/">the Perl Beginners' Site</a>
was perfect after
<a href="http://community.livejournal.com/shlomif_tech/30178.html">the
last update</a>, but boy I was wrong. A quick review and critique of the site
by a certain prominent Perl developer proved me wrong, and afterwards I
had more stuff that I found lacking. So here's what has changed.
</p>

<p>
We're now mirroring
<a href="http://perl-begin.org/tutorials/perl-for-newbies/">the
public domain "Perl for Newbies" tutorial</a> as well as the GFDLed book
<A href="http://perl-begin.org/tutorials/impatient-perl/">"Impatient
Perl"</A> by <a href="http://www.greglondon.com/">Greg London</a>. Their
presence on the site was done in order to preserve Perl-Begin's common look
and feel, and to make sure people would be able to access them without
having to go to a different site, which may be blocked by over-zealous
web-filters. We hope to mirror other freely distributable material that
may prove useful to beginners on Perl-Begin in the future.
</p>

<p>
The "call-for-action" notice at the beginning was changed to
"Learn Perl Now!" and now appears on all the pages.
</p>

<p>
We also fixed several look and style glitches.
</p>

<p>
There are also several corrections to text and links.
</p>

<p>
<a href="http://stackoverflow.com/">Stack Overflow</a> was added to
<a href="http://perl-begin.org/web-forums/">the web-forums page</a>.
</p>

<p>
There are now mentionings of
<a href="http://perl-begin.org/books/topics/">two new topical books</a> -
"Perl &amp; LWP" and "Programming the Perl DBI".
</p>

<p>
Finally, the
<a href="http://perl-begin.org/about.html">"About this site" page</a>
was updated and made more modern.
</p>

<p>
We hope you enjoy the new site. If you like it, please recommend it to
your friends - if you don't - let us know and we'll see what we can do.
</p>

</div>


<div class="entry" id="perl-bug-readdir">

<!-- Tags: perl, bug, segfault, readdir, quadpres, automated, test, suite, tap, test-more, quad-pres, cmake, module-build
-->

<h2>2009-08-10: Perl readdir segfault.</h2>

<p>
I was working on the 5th part of
<a href="http://www.shlomifish.org/lecture/Perl/Newbies/">my
Perl for Newbies tutorials</a> when I wrote some example Perl code like
the following:
</p>

<pre>
my $dir_path = shift;

opendir my $dir_handle, $dir_path
    or die "Cannot open $dir_path - $!."

my @files = readdir($dir_path);

closedir($dir_handle);
</pre>

<p>
(Can you spot the bug?)
</p>

<p>
Much to my surprise, this code segfaulted when I gave it "." as an argument.
I realised that the problem was that I was reading from the path variable
instead of from the directory handle, but it still shouldn't have segfaulted.
</p>

<p>
I asked a few people on IRC about it, and some of them were able to reproduce
it, but only with perl-5.10.0 on Linux. Someone was able to golf it down
to <tt>perl -e 'readdir($x=".")'</tt>, which segfaults too.
</p>

<p>
So I opened
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=68182">a
ticket for this bug</a>, and Rafael (RGS) fixed it in blead, but without a
regression test case. So I submitted
<a href="http://rt.perl.org/rt3/Ticket/Attachment/595830/284048/perl5-readdir.diff">a
patch</a> to add it, and also pushed it to my
<a href="http://github.com/shlomif/perl/tree/blead">github clone of the
perl repository</a>. I hope it get applied.
</p>

<p>
On a different note, I'd like to note that I have completed the transition of
the automated test suite of <a href="http://quad-pres.berlios.de/">Quad-Pres</a>
from Bash to Perl 5 and Test::More TAP-emitting tests. Now they are much less
verbose, and possibly run faster (though it might be just a feeling).
</p>

<p>
Now I'd like to continue its switch from GNU Autohell to something more
decent. I still don't know whether I should use
<a href="http://www.cmake.org/">CMake</a> or
<a href="http://search.cpan.org/dist/Module-Build/">Module-Build</a> as
I depend on the wml executable from <a href="http://thewml.org/">Website
Meta Language</a>. Any insights would be appreciated.
</p>

</div>

<div class="entry" id="tech-tip-listing-files-without-dot-and-dot-dot">

<!-- Tags: ls, list, files, dir, directory, dot files, tech, tip, tech tip, unix, linux, gnu
-->

<h2>2009-08-10: Tech Tip: listing all files without "." and ".."</h2>

<p>
Today I had to deal with some pesky dot-files again, and again ran into
the problem that <tt>ls -a</tt> listed them along with "." and ".."
which were useless at best. A common idiom in filtering them out is using
<tt>ls -a | grep -v '^..\?$'</tt> (or something similar using egrep or
<tt>grep -P</tt> if it's available). But being too lazy to write it, I did
a <tt>man ls</tt> and discovered a better way, right at the first page of
the manual.
</p>

<p>
One can simply use <tt>ls -A</tt> or <tt>ls --almost-all</tt> to filter out
the implied "." and "..". At least, this works with GNU ls - don't know about
BSD or the various proprietery UNIXes.
</p>

<p>
So for example, <tt>ls -a</tt> may give you:
</p>

<pre>
.  ..  FCFS_RWLock_Scheme_RLE.txt  FCFS_RWLock_Scheme.txt  .svn
</pre>

<p>
While <tt>ls -A</tt> may give:
</p>

<pre>
FCFS_RWLock_Scheme_RLE.txt  FCFS_RWLock_Scheme.txt  .svn
</pre>

<p>
Enjoy! I hope to write about
<a href="http://august.penguin.org.il/">August Penguin</a> soon, so stay
tuned.
</p>

</div>


<div class="entry" id="sources-of-perl.org-are-available">

<!-- Tags: perl, perl.org, learn.perl.org, www.perl.org, web sites, source, mst,, woot, announcement, ann, power, asking, svn, matt, trout
-->

<h2>2009-08-17: Source of the perl.org Sites Are Now Available</h2>

<p>
<a href="http://www.shadowcat.co.uk/blog/matt-s-trout/the-power-of-asking/">Thanks
to Matt S. Trout (mst) and his awesome "power of asking"</a>, the
<a href="https://svn.perl.org/perl.org/docs/live/">sources of the perl.org
domains</a> are now available. I've wanted to merge sofe of my work on
<a href="http://perl-begin.org/">Perl-Begin</a> to
<a href="http://learn.perl.org/">learn.perl.org</a> and
<a href="http://www.perl.org/">www.perl.org</a> , and now my job will be
much easier.
</p>

<p>
So thanks to Matt, and the www.perl.org maintainers who made the sources
available.
</p>

</div>


<div class="entry" id="xslt-facts-xslt-is-evil">

<!-- Tags: perl, xslt, facts, humour, funny, humor, meme, chuck norris, freenode, irc, evil
-->

<h2>2009-08-20: XSLT Facts - find out how truly evil XSLT is.</h2>

<p>
We were chatting on
<a href="irc://irc.freenode.net/##programming">##programming</a> when
someone came and asked for help with using XSLT (Extensible Stylesheet
Language Transformations - an XML-related standard) from within
<a href="http://perl-begin.org/">Perl</a>. We helped him, but meanwhile
someone else prompted us to start an "XSLT facts" marathon similar to the
<a href="http://www.chucknorrisfacts.com/">Chuck Norris Facts</a>
and other similar collection of facts. While
it can be classified as geek humour, most of the uttered facts are more
universal than geek culture. (I am rindolf)
</p>

<ul>
<li>
xmler:  has joined ##programming
</li>
<li>
xmler:  Hi
</li>
<li>
xmler:  How can I do &lt;a href="$variable"&gt;blah&lt;/a&gt; in XSLT?
</li>
<li>
rindolf:  xmler: you can use &lt;xsl:attribute&gt;
</li>
<li>
rindolf:  xmler: or use ${...}
</li>
<li>
rindolf:  xmler: have you read the Zvon XSLT tutorial?
</li>
<li>
xmler:  rindolf: I've read various resources; perhaps it's the fault of XML::XSLT on CPAN
</li>
<li>
rindolf:  xmler: use XML::LibXSLT instead.
</li>
<li>
rindolf:  It's faster and better.
</li>
<li>
Zuu:  &lt;insert mean statement about XSLT&gt;
</li>
<li>
Zuu:  :)
</li>
<li>
rindolf:  "XSLT is the work of Satan"
</li>
<li>
rindolf:  "It's the worst thing since non-sliced bread."
</li>
<li>
Zuu:  Hahaha :D
</li>
<li>
rindolf:  "Mothers used to tell their children about XSLT to scare them."
</li>
<li>
xmler:  Haha
</li>
<li>
Zuu:  That last one is good
</li>
<li>
xmler:  XSLT seems pretty cool
</li>
<li>
Zuu:  xmler, no no, that's not mean
</li>
<li>
Zuu:  you're doing it wrong
</li>
<li>
Zuu:  :P
</li>
<li>
xmler:  XSLT is too cool to be mean to :p
</li>
<li>
Zuu:  Hehe
</li>
<li>
rindolf:  "XSLT is the number one cause of programmers' suicides since Visual Basic 1.0"
</li>
<li>
tommy_the-dragon:  lol
</li>
<li>
Zuu:  :&gt;
</li>
<li>
Zuu:  I could believe in that
</li>
<li>
rindolf:  "The X in XSLT stands for eXtermination."
</li>
<li>
rindolf:  "XSLT makes the baby jesus cry."
</li>
<li>
rindolf:  "The only things worse than XSLT are Excel and sugarless tea."
</li>
<li>
tommy_the-dragon:  rofl
</li>
<li>
* Zuu:  kinda likes Excel
</li>
<li>
rindolf:  Zuu: yes, it was a joke.
</li>
<li>
Zuu:  Noooh!
</li>
<li>
Zuu:  they are all true!
</li>
<li>
rindolf:  Now I'm out of ideas.
</li>
<li>
Zuu:  i havent even had a single idea yet..
</li>
<li>
rindolf:  "XSLT is what Chuck Norris has nightmares of."
</li>
<li>
Zuu:  Whoah!
</li>
<li>
Zuu:  wait.. that would somehow make XSLT cooler than Chuck Norris...
</li>
<li>
Zuu:  Chuck Norris dont have mightmares
</li>
<li>
rindolf:  "Confucius e says: 'XSLT made me realise humanity was hopeless."
</li>
<li>
Zuu:  "Even APL wont make friends with XSLT"
</li>
<li>
Zuu:  yay, i maded one!
</li>
<li>
rindolf:  "God considered using XSLT as the tenth plague of Egypt, but thought it was too evil."
</li>
<li>
rindolf:  Zuu: :-)
</li>
<li>
Zuu:  Haha :D
</li>
<li>
Zuu:  that plauge one is awesome
</li>
<li>
rindolf:  "In Soviet Russia, XSLT codes you. Badly!"
</li>
<li>
rindolf:  "Satan condemned Hitler for a million years of writing XSLT"
</li>
<li>
rindolf:  OK, back to work.
</li>
<li>
rindolf:  C - not XSLt.
</li>
<li>
Zuu:  :)
</li>
<li>
rindolf:  "The KGB used to torture their victims by having them look at scrolling XSLT code"
</li>
<li>
xmler:  rindolf: lol, love the KGB + XSLT one
</li>
<li>
xmler:  rindolf: by the way, what's with the XSLT hate by the way, is it some kind of meme? :p
</li>
<li>
* Zuu:  gives xmler an XSLT interpreter written in XSLT
</li>
<li>
Jck_true:  I wanna make ASM code from XSLT
</li>
<li>
rindolf:  "My name is Inigo Montoya. You forced my father to write XSLT. Prepare to die! And be thankful I don't force you to write XSLT."
</li>
<li>
xmler:  Ah for gawd's sake. Can't install XML::LibXML, it says I don't have libxml2 (I do)
</li>
<li>
rindolf:
xmler: do you have the -devel package?:
</li>
<li>
rindolf:
xmler: what is your distro?:
</li>
<li>
rindolf:
OS distro I mean.:
</li>
<li>
xmler:
rindolf: Debian 4.0:
</li>
<li>
xmler:
Ooh, perhaps I don't actually:
</li>
<li>
rindolf:
xmler: ok, then apt-get install libxml-libxslt-perl:
</li>
<li>
* Zuu:
have to go o/:
</li>
<li>
rindolf:  xmler: maybe we should discuss it on #perl?
</li>
<li>
rindolf:  Zuu: bye
</li>
<li>
rindolf:  Zuu: and beware of stray XSLT code.
</li>
<li>
Zuu:  I will :P
</li>
<li>
rindolf:  Zuu: OK.
</li>
<li>
xmler:  rindolf: sure, uno memento :)
</li>
</ul>

<p>
Just for the record, I don't really hate XSLT, or think it's evil or
particularly scary, but I found generating such facts fun. This bit
was in fact converted to HTML using an XSLT transformation I wrote.
</p>

</div>


<div class="entry" id="foss-licences-wars">

<!-- Tags: license, license, licensing, licences, licenses, law, legal, free, software, open source, foss, essay, article, gpl, bsd, lgpl, copyleft, copycenter, copyrights
-->

<h2>2009-08-23: Open Source Licences Wars</h2>

<p>
I published <a href="http://www.shlomifish.org/philosophy/computers/open-source/foss-licences-wars/">a new essay on my site titled "FOSS Licences Wars"</a>
which "gives an overview of the various options in picking up a licence for
one's Free and Open Source Software (FOSS) project, and tries to give some
guidelines choosing one". Reading from the article:
</p>

<blockquote>
<p>
When <a class="ulink" href="http://www.joelonsoftware.com/">Joel Spolsky
    ("Joel on Software")</a> wrote his notorious blog post
<a class="ulink" href="http://www.joelonsoftware.com/items/2006/09/01.html">"Language
    Wars"</a>, many people asked whether he has "jumped the
shark" and that his blog will go downhill from there. I too have read
the post, and agreed, that while it had a few good points, it was
too based on "feeling rather than knowing". Joel later on posted
many good articles and shorter entries on his blog, but many people
still recalled it as a very low-point in the blog.
</p>
<p>
Like Joel, I have a home-site and several blogs, where I post articles
and essays about my thoughts, and this time I've decided to risk
something similar to what Joel has done on an equally flamatory topic:
<a class="ulink" href="http://en.wikipedia.org/wiki/Free_software_licence">licences
    of open-source software</a>. I'm going to introduce the various
options, explain a little about their motivation and then
give some advice according to my own personal opinion.
</p>
</blockquote>

<p>
Comments are welcome here or on
<a href="http://www.shlomifish.org/philosophy/computers/open-source/foss-licences-wars/#coverage">one
of the Internet forums where the story was covered</a>. This essay is
made available under the CC-by licence, which allows full re-distribution,
and re-use as long as credit is given. Nevertheless, a donation or sharing
derived works under similar licences, would be welcome.
</p>

</div>


<div class="entry" id="valid-use-of-ampersand-func">

<!-- Tags: perl, haskell, zip, interleave, strings, prototypes, ampersand, perl 5
-->

<h2>2009-08-27: A Valid Use of Ampersand-func?</h2>

<p>
I was talking on <a href="irc://irc.freenode.net/perl">#perl</a> one
day, when someone joined and asked:
</p>

<pre>
foldr (\(a,b) -&gt; (a:).(b:)) [] $ uncurry zip \
    ("Hv o edyu IPtdy","aeyura orSC oa?")
    &lt;- What would this be in Perl? (It outputs
    "Have you read your SICP today?")
</pre>

<p>
In case you don't know your Haskell, what it does is interleave the two
strings and have 1 letter from here and the other one from here. In Perl,
strings are not lists or sequences, so we understood we'd need to split
them first to do something like that. Furthermore, we recalled the
"zip" function from
<a href="http://search.cpan.org/dist/List-MoreUtils/">List-MoreUtils</a>
that may prove to be useful.
</p>

<p>
Eventually, someone came with this Perl 5 solution:
</p>

<pre>
perl -MList::MoreUtils=zip -e 'my @former = split //, "Hv o edyu IPtdy";
  my @latter = split //, "aeyura orSC oa?";
  print join "", zip @former, @latter'
</pre>

<p>
Assigning to array variables was necessary because zip has a prototype. Then
I figured out that we can avoid that by over-riding the protoype using
"&amp;zip", and proposed this solution:
</p>

<pre>
perl -MList::MoreUtils=zip -e 'print join "", &amp;zip(map { [split//, $_] }
    "Hv o edyu IPtdy","aeyura orSC oa?")'
</pre>

<p>
Which was much shorter and clearer but used "&amp;zip". What happens is that
we pass it the arrays directly as references. I was able to golf it somewhat
into:
</p>

<pre>
perl -MList::MoreUtils=zip -E 'say&amp;zip(map[split//],"Hv o edyu IPtdy",
"aeyura orSC oa?")'
</pre>

<p>
So we got what appears to be a valid use of "&amp;func" to over-ride a pesky
prototype. Now, Perl 6 hackers are invited to contribute a Perl 6 solution.
</p>

</div>


<div class="entry" id="moosex-getopt-hacking">

<!-- Tags: moose, moosex, perl, perl 5, 5, oop, roles, test-run, getopt, command line
-->

<h2>2009-08-31: MooseX-Getopt Hacking</h2>

<p>
It seems I didn't announce it here, but
<a href="http://web-cpan.berlios.de/modules/Test-Run/">Test-Run</a> version
0.0120 was converted to <a href="http://moose.perl.org/">Moose, the
postmodern object system for Perl 5</a>. After I uploaded all 0.0120-related
modules, I was looking for more Moosification, and decided to try and
convert runprove to
<a href="http://search.cpan.org/dist/MooseX-Getopt/">MooseX-Getopt</a>,
while still passing all tests.
</p>

<p>
After a lot of playing with the <tt>has</tt> attributes to get them I ran into
what appeared to be a problem which I could not overcome: I could not
configure it not to use
<a href="http://search.cpan.org/dist/Getopt-Long-Descriptive/">Getopt-Long-Descriptive</a>, in case it found it was installed. I didn't want to use it,
because I wanted my help display.
</p>

<p>
After talking about it on <a href="irc://irc.perl.org/#moose">#moose</a>,
I was told that it is indeed a limitation. I decided to fix it and did it
by adding a new parameter. However,
<a href="http://search.cpan.org/~bobtfish/">t0m</a> told me that I
should do it by extracting the non-GLD dependent functionality into a separate
role, and doing it. I did it, and he had some further comments which
I incorporated into my
<a href="http://github.com/shlomif/MooseX-Getopt/tree/master">MooseX-Getopt
repository</a>. My enhancements are not in the CPAN module yet, but they
are going to be soon.
</p>

<p>
And I live you with a <a href="irc://irc.freenode.net/#perl">#perl</a>
discussion about Chuck Norris:
</p>

<pre>
 &lt;Su-Shee&gt;  2010 is planned more or less as a refactoring year.
 &lt;DrForr_&gt;  A whole *year*? What physical plane of existence do you reside
            on?
 &lt;Su-Shee&gt;  DrForr_: there&#39;s also bugs to fix and systems to care for and
            things like that. it&#39;s not that we&#39;re locked into the closet
            and a year later a new, shiny product is released. ;)
 &lt;DrForr_&gt;  Closet optional.
 &lt;Su-Shee&gt;  I&#39;m not a wonderwoman refactoring half a million lines of perl
            in a week, sorry. :)
 &lt;rindolf&gt;  Su-Shee: Chuck Norris refactors 10 millions lines of perl
            before lunch.
 &lt;Su-Shee&gt;  rindolf: hm. that&#39;s the reason.. I&#39;m not as hairy as chuck
            norris and I don&#39;t have a beard...
 &lt;rindolf&gt;  Su-Shee: ah.
 &lt;rindolf&gt;  Su-Shee: Chuck Norris also wrote a complete Perl 6
            implementation.
 &lt;Su-Shee&gt;  rindolf: I heard, he already wrote Perl 7.
 &lt;rindolf&gt;  Su-Shee: yes.
         *  rindolf wants to be as awesome as Chuck when he grows up.
 &lt;Su-Shee&gt;  rindolf: I envy you. I&#39;ll never be as awesome without a beard.
 &lt;rindolf&gt;  Su-Shee: heh.
 &lt;rindolf&gt;  Su-Shee: it doesn&#39;t matter if you&#39;re rigid on the outside as
            long as you&#39;re rigid on the inside.
 &lt;Su-Shee&gt;  chuck norris doesn&#39;t make mistakes.
 &lt;rindolf&gt;  Su-Shee: Chuck Norris corrects God.
 &lt;Su-Shee&gt;  rindolf: I&#39;ll apply as his secretary.
 &lt;rindolf&gt;  Su-Shee: as Chuck&#39;s?
 &lt;Su-Shee&gt;  rindolf: yes.
 &lt;rindolf&gt;  Su-Shee: OK.
 &lt;rindolf&gt;  Chuck Norris doesn&#39;t code. When he sits next to a computer, it
            just does whatever he wants.
 &lt;Su-Shee&gt;  I&#39;ll tell my boss tomorrow. Chuck is who he wants.
 &lt;rindolf&gt;  Su-Shee: Chuck Norris is his own boss.
 &lt;rindolf&gt;  Su-Shee: if you hire him, he&#39;ll tell your boss what to do.
 &lt;Su-Shee&gt;  good point.
</pre>

</div>


<div class="entry" id="what-would-you-like-in-a-CPAN-distro-manager">

<!-- Tags: perl, cpan, dist-man, module-starter, dist-zilla, package, distribution, module, perl 5, 5
-->

<h2>2009-09-01: What Would you like in a CPAN Distro Manager?</h2>

<p>
I uploaded <a href="http://search.cpan.org/dist/Dist-Man/">Dist-Man
(short for Dist-Manager)</a> version 0.0.1 to CPAN, yesterday. It is based on
<a href="http://code.google.com/p/module-starter/">Module-Starter</a> , and
its documentation still has some remnants from it, but I'm planning to take
it into new and exciting directions. The source code is maintained in
<a href="https://hg.berlios.de/repos/web-cpan">a Mercurial repository
at Berlios.de</a> (called "web-cpan" after the
<a href="http://web-cpan.berlios.de/">meta-project for most of my CPAN
modules</a> - I'm only given one Mercurial/hg repository per-project there),
and there's also <a href="http://bitbucket.org/shlomif/web-cpan/">a bitbucket
mirror</a>. Feel free to clone it, fork it, branch it, spin-it-off, or whatever
the cool kids are doing now with their distributed version control
repositories. I can also give commit bits. The reason I'm using Mercurial is
because I'd like to play with it a little more, and because git still often
throws me off when using it and still seems counter-intuitive. Like an old
email correspondent of mine said "You gotta move, or you stone.".
</p>

<p>
In any case, I'd like to share some plans and ideas I have in mind for a
distribution manager similar to Module-Starter and ask you for your
input. Note that my plans take an entirely
different approach from
<a href="http://perlbuzz.com/2008/10/distzilla-eases-management-of-your-cpan-distributions.html">Dist-Zilla</a>. While Dist-Zilla generates your code from
templates, Dist-Man intends to deal with the code as is, and modify it
in place, assuming a change is needed.
</p>

<p>
So without further ado, here's what I'd like to see, or at least seems like
a good idea:
</p>

<ol>

<li>

<p>
<b>Provide scaffolding for more lib/*.pm t/*.t </b>, etc. files. You can run
something like
<tt>pl-dist-man new --name=lib/MyPackage/NewModule.pm</tt> and it will
create lib/MyPackage/NewModule with all the POD and some sample code ready
to go, possibly with some tests under t/, etc.
</p>

</li>

<li>

<p>
<b>POD at the end.</b> - that's what
<a href="http://oreilly.com/catalog/9780596001735/">Perl Best Practices</a>
recommends, and what <a href="http://perlcritic.com/">Perl-Critic</a>
checks for by default. It's not my personal style, but I heard someone
complain to me about it in private.
</p>

</li>

<li>

<p>
<b>Keep a machine-readable configuration file with the settings</b> - keep a
configuration file in YAML/JSON/Config-General/etc. format in the distribution
that will allow Dist-Man (and other programs) to determine configuration
options about the distribution. So, for example, it can use the licence field
to determine what to put in the licences of new modules, programs and test
scripts. And we can have Build.PL, Makefile.PL read this file and feeding
it to <a href="http://search.cpan.org/dist/Module-Build/">Module-Build</a> or
Module-Install or whatever.
</p>

</li>

<li>

<p>
<b>Hermetically changing configuration parameters in the code files</b> - you
can change the licence in all the files in one step. Or bump the version
number in all files.
</p>

</li>

<li>

<p>
<b>Support for more software licences</b> - perhaps with some
integration with <a href="http://search.cpan.org/dist/Software-License/">Software-License</a>.
</p>

</li>

<li>

<p>
<b>Make judicious use of Template-Toolkit</b> - I'd like to make the
generation of the Perl code be based on
<a href="http://template-toolkit.org/">Template Toolkit</a> so it can
be easier to maintain. The base Module-Starter code is at the moment modular,
but seems to crying for help from a good templating system.
</p>

</li>

<li>
<p>
<b>Good integration with the underlying version control system</b> - when
you do <tt>pl-dist-man add lib/MyPackage/File.pm</tt> it will add it
to the MANIFEST and the underlying version control system, and you can
move files or directories around, hermetically rename namespaces, etc.
</p>
</li>
<li>

<p>
<b>A plug-in to add a diversity statement</b> - see
<a href="http://infotrope.net/blog/2009/07/25/standing-out-in-the-crowd-my-oscon-keynote/">what
Kirrily Robert wrote about it here</a>. This plug-in will
allow the developers to add it automatically to all of their modules. I don't
rule out coming up with such a plug-in for Module-Starter too, but I just
wanted to mention it here.
</p>

</li>

</ol>

<p>
While I have given Dist-Man as an example, this discussion should not be
specific to any particular implementation. So what would you like to see in a
manager of CPAN distributions?
</p>

<p>
<b>Note:</b> Yes, I'm aware that Dist-Man is a fork of Module-Starter, and I
tried my best to avoid it, but it seems I had no option. The reason for the
fork were the fact that there was a large round-trip delay when applying
my patches (usually several months), the fact that I could not get either
hgsubversion or git-svn to handle importing the history from its Subversion
repository
well (see <a href="http://bitbucket.org/durin42/hgsubversion/issue/111/nested-trunk-when-hg-clone-http-module-startergooglecodecom">this hgsubversion issue
entry</a>), and the refusal of the Module-Starter maintainer to provide me
with a commit access, even after I promised that I will only work on a
separate branch, and not commit to the trunk directly (at least not without
his permission). I let him know about how I feel, and of my intention to
fork the project, and he implied he'd rather see me fork the code instead
of complying with one of my needs.
</p>

<p>
I feel bad about forking it but I feel like I had no choice, and
as <a href="http://www.catb.org/~esr/writings/cathedral-bazaar/magic-cauldron/ar01s08.html">Eric Raymond (ESR) says in the Magic Cauldron</a>:
</p>

<blockquote>
<p>
(It bears repeating here that nobody in the hacker community wants projects to
split into competing development lines; indeed (as I observed in Homesteading
the Noosphere) there is very strong social pressure against forking, for good
reasons. Nobody wants to be on a picket line, in court, or in a firefight
either. But the right to fork is like the right to strike, the right to sue, or
the right to bear armsyou don't want to have to exercise any of these rights,
but it's a signal of serious danger when anyone tries to take them away.)
</p>
</blockquote>

<p>
So I'm not particularly interested in discussing it further. Please keep the
discussion on the topic of what you'd like to see in a manager of
CPAN distribution, be it Module-Starter, Dist-Man, Dist-Zilla or whatever.
</p>

</div>



<div class="entry" id="">

<!-- Tags: gdb, advanced, telux, telfoss, tel aviv, foss, club, meeting, announcement, open source, osdclub, tel aviv
-->

<h2>2009-09-02: TelFOSS Meeting on 6-September-2009: Advanced GDB</h2>


<p>
The <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source Club</a>
will host <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_06_September_2009">the talk "Advanced GDB" by David Khosid</a> on
Sunday, 6-September-2009 (the upcoming Sunday), at 18:30 in Tel Aviv
University, the Schreiber Maths&amp;CS building, room 008.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a href="http://www.shlomifish.org/me/contact-me/">contact me</a>.
</p>

<p><b>Abstract</b></p>

<p>
In general, I will be sharing my discovery with you: When the debugging of
modern software is required, basic GDB techniques are insufficient, but new
techniques can be created from the nearly 160 commands available in GDB.
"Modern software" refers to multi-threading, using STL and other libraries,
IPC, signals and exception mechanisms. In this lecture, I will explain
techniques for debugging large, modern software written in C++.
</p>

<p>
The presentation will be accompanied by vivid examples for all the topics.
</p>

<p>
Covered topics:

<p>
1. Preparing a program for debugging; starting the debug session
</p>

<p>
2. Controlling GDB: getting help, navigating, using breakpoints and watchpoints
</p>

<p>
3. Extending GDB through user-defined commands
</p>

<p>
4. Analyzing STL containers and algorithms
</p>

<p>
5. Dealing with multi-threading, C++ exceptions
</p>

<p>
6. Managing signals
</p>

<p>
7. Automating repetitive tasks on the almost unchanging code base
</p>

<p>
8. Remote debugging
</p>

</div>


<div class="entry" id="french-translation-of-how-to-encourage-women-in-linux">

<!-- Tags: howto, encourage, women, linux, french, translation, perl, foss, open, source, floss, women liberation, gender equality, hacking, encouraging
-->

<h2>2009-09-05: French Translation of the "Encouraging Women in FOSS" Howto Needed</h2>

<p>
<b>Abstract:</b> I'm calling for a volunteer effort to translate
<a href="http://tldp.org/HOWTO/Encourage-Women-Linux-HOWTO/">the "HOWTO Encourage Women in Linux" document</a> by Val Henson and others.
</p>

<p>
<b>Background:</b> I've recently been communicating and collaborating
with a young (16 years-old) French open-source enthusiast. His English is
pretty bad, but I can communicate with him with some difficulty. He's using
Linux, and has two computers in his room, but his younger 8 years-old sister
has none in hers ("Unfortunately" as he said). This reminded me of
<a href="http://tldp.org/HOWTO/Encourage-Women-Linux-HOWTO/x106.html#AEN137">this
section from the "encouraging" howto</a> where it is said that:
</p>

<blockquote>
<p>
The most striking example of a subtle bias against computing for women is that,
in the U.S. at least, the family computer is more likely to be kept in a boy's
room than in a girl's room. Margolis and Fisher give several telling examples
of this trend and its effects on pages 22-24 of Unlocking the Clubhouse.
</p>
</blockquote>

<p>
Now, in Israel, the common practice among most modestly capable families is
to have a separate computer for every member of the family (whether
male or female), so I don't see why his family should be backwards here, given
that they can afford it, and that nowadays a powerful PC computer can be
bought for 400 USD (or less) and that can run circles around my original
PC XT machine, on which I've learnt programming and played many games.
</p>

<p>
The problem is that this kid's parents don't speak English, and so I need
a French translation for that. While some of the Linux documentation project's
howtos have been translated, I couldn't find any French translation of the
"Encouraging women in FOSS" howto. I suggest setting up a page for collaborating
on the translation for it on a public wiki, and that everyone contributes their
share at their spare time.
</p>

<p>
Translations to other languages will also be welcome, and I can give my share
of the work for a translation to Hebrew (though I feel it won't be necessary
because the vast majority of Hebrew speakers have decent if not good
English). If you're up for the task, please mention the wiki page with
your respective language below.
</p>

<p>
Hazal said that "Whoever saved a single soul - has saved the world entire.".
</p>

<p>
<b>Note:</b> while I have had
<a href="http://www.advogato.org/person/shlomif/diary.html?start=136">some
critique and reservations regarding the HOWTO</a>, I still think it makes
a good read, and should be taken into consideration.
</p>

</div>


<div class="entry" id="">

<!-- Tags: perl, begin, perl-begin, news, hashes, hash, newbies, perl for newbies, p4n, presentations, css, alanhaggai, ide, screenshots, mailing, lists
-->

<h2>2009-09-11: Perl-Begin Updates: CSS, Page about Hashes, and More</h2>

<p>
Here are the new changes to <a href="http://perl-begin.org/">the Perl
Beginners site</a> since last time.
</p>

<ul>

<li>
<a href="http://perl-begin.org/topics/hashes/">A New Page about
<b>Hashes</b></a> has been added to the site, with "Jerusalem Perl Monger"'s
excellent presentation called "The Hash Cookbook".
</li>

<li>
There are many corrections to
<a href="http://perl-begin.org/tutorials/perl-for-newbies/">the "Perl
for Newbies" presentations</a>, in part thanks to input from several
people who tried to learn Perl using them.
</li>

<li>
The CSS stylesheet of the page was compressed, minimised, transformed
to a fluid design and converted to
the <a href="http://compass-style.org/">compass CSS frameworks</a>. Many
thanks to <a href="http://alanhieu.ml/">Alan Haggai Alavi</a>, who
did the bulk of the work on the conversion of the page to compass.
</li>

<li>
The <a href="http://perl-begin.org/mailing-lists/">"Mailing Lists" page</a>
was enhanced with a new introduction and some link fixes.
</li>

<li>
The <a href="http://perl-begin.org/IDEs-and-tools/">IDEs page</a> now
has some screenshots.
</li>

<li>
We've heard many complaints from experienced Perl users about a joke that has
appeared on the top of <a href="http://perl-begin.org/learn/get-a-job/">the
"Get a Job Doing Perl" page</a>, so it was now removed.
</li>

</ul>

</div>


<div class="entry" id="hamakor-prize-winners-2009">

<!-- Tags: hamakor, prize, foss, israel, gabor, szabo, szabgab, firefox, mozilla, tomer, cohen, 2009, perl, open source, free, shachar, shemesh, community, localisation, locatization, education
-->

<h2>2009-09-24: Hamakor Prize Winners for 2009</h2>


<p>
<a href="http://www.hamakor.org.il/">Hamakor</a> is the Israeli Society
for Free and Open Source Software. Among the activities of the society, it
gives the "Hamakor Prize" for contribution to open source in Israel, whose
winners are determined by a vote by the society's friends and members. This
year, the prize was given for several categories.
</p>

<p>
Better late than never, we wish to announce the winners
<a href="http://wiki.hamakor.org.il/index.php/%D7%A4%D7%A8%D7%A1_%D7%94%D7%9E%D7%A7%D7%95%D7%A8">in the Hamakor Prize</a> for 2009, in the various categories:
</p>

<ul>

<li>

<p>
The winner in the <b>contribution to open-source</b> category
is <a href="http://szabgab.com/">Gbor Szab (szabgab)</a>. Gabor has jump-started
the community of Perl users in Israel; he set up an active mailing list,
organised monthly meetings, as well as several Israeli conferences. In addition,
he donated a lot of code and documentation for projects such as perl5, Parrot,
Perl 6. He has <a href="http://search.cpan.org/~szabgab/">several modules
on CPAN</a> and lately has initiated the
<a href="http://padre.perlide.org/">Padre project for implementing an
    integrated development environment for dynamic languages</a>
and is very active in its constant development and maintenance.
</p>
<p>
Gbor manages <a href="http://www.pti.co.il/">Perl Technology Israel (PTI)</a>
which offers training courses in Perl, in Quality Assurance (QA) and in other
fields in Israel and Internationally.
</p>
</li>

<li>
<p>
The winner in the <b>contribution to the Israeli community</b> is
<a href="http://blog.shemesh.biz/">Shachar Shemesh</a>.
</p>
<p>
Shachar is one of the founding membes of "Hamakor" and served as a board
member three times, including in the initiating board.
</p>
<p>
Shachar is the owner and manager of <a href="http://www.lingnu.com/">Lingnu
    Open Source consulting Ltd.</a>, which provides services in the field
of open-source software. It administers several of the servers of Hamakor.
</p>
<p>
Shachar has also presented talks in the
<a href="http://www.haifux.org/">Haifa Linux Club</a>,
<a href="http://www.cs.tau.ac.il/telux/">the Tel Aviv Open Source Club</a>,
<a href="http://tuxology.net/herzelinux/">the Herzelia Linux Developers Club</a>,
and the Jerusalem Linux club.
</p>
<p>
Furthermore, Shachar has founded and is managing several free software
projects  such as
<a href="http://rsyncrypto.lingnu.com/">rsyncrypto</a>
and <a href="http://fakeroot-ng.lingnu.com/">fakeroot-ng</a> and also
has contributed to other open-source projects including
<a href="http://winehq.org/">WINE, a compatibility layer for
Microsoft Windows</a>.
</p>
</li>
<li>
<p>
The winner of the <b>Shmu'el Yaniv Prize for Open Source and Free Software
    in the Localisation Category</b> is
<a href="http://tomercohen.com/">Tomer Cohen</a>. Tomer is concentrates the
translation of Mozilla products in Israel, and is also active in
advancing and publicising the Mozilla products in Israel and making
sure web-sites are compatibile with them. He manages a blog on his site that
discusses Firefox, standards compatibility and other web-related topics.
</p>
<p>
Tomer heads <a href="http://mozilla.org.il/">Mozilla
    Israel - mozilla.org.il</a>, the Israeli community of the
International Mozilla project, which is developing a large number of popular
open-source applications.
</p>
</li>

<li>
<p>
The winner of the <b>appreciation certificate for open source in education</b>
is the department of education in
<a href="http://en.wikipedia.org/wiki/Petah_Tikva">Petah Tikva</a>.
</p>
<p>
It set up a <a href="http://www.tikshuv.org.il/moodle/">Moodle system for
    education</a> as well as a <a href="http://www.tikshuv.org.il/">an instance
    of the Joomla content management system</a>,
<a href="http://www.tikshuv.org.il/wordpress">a WordPress-based blog</a>,
<a href="http://www.tikshuv.org.il/wiki">a MediaWiki system</a>
some classrooms and labs running Linux (<a href="http://ltsp.org/">LTSP</a>
client/server) as well as setting up various open-source applications
on machines running Microsoft Windows.
</p>

</li>
</ul>

<p>
Congratulations to the winners and the other candidates, who didn't win
this year, but whose contributions are still worthy of appreciation.
</p>

</div>

<!--
    - Yak shaving:
        - Working on Text-Qantor
            - Copying some XML/XSLT/RelaxNG glue from XML-Grammar-Screenplay.
            - This functionality has been implemented by me in several places.
            - Refactor
        - Creating XML-GrammarBase.
            - pl-dist-man did not work properly.
            - Gotta fix it.
        - Dist-Man hacking:
            - I needed to extract a module with tests.
            - A test function with several assertions counting a test.
            - Need to source/include it.
            - Test-Count hacking.
        - Test-Count implement source/include.
            - extending the code heavily.
            -
        - Back to Dist-Man
            - fix "pl-dist-man"
        - Back to XML-GrammarBase.
            - Had tried to use Dia to create a UML diagram, but gave up
            on the idea.
-->

<div class="entry" id="yak-shaving-perl-hacktivity-2009-09-27">

<!-- Tags: perl, yak, shaving, qantor, text, relaxng, rng, xml, xslt, moose, hacktivity, log, test, count, testing, qa, dist-man
-->

<h2>2009-09-27: Yak-shaving Perl Hacktivity</h2>

<p>
I recently <a href="http://www.nntp.perl.org/group/perl.module-authors/2009/09/msg7844.html">asked the module-authors mailing list about which parser generator to use</a> for
<a href="https://svn.berlios.de/svnroot/repos/web-cpan/Text-Qantor/">Text-Qantor</a>. Eventually I opted to use
<a href="http://search.cpan.org/dist/Regexp-Grammars/">Damian Conway's new
Regexp-Grammars</a>
as <a href="http://www.nntp.perl.org/group/perl.module-authors/2009/09/msg7852.html">recommended
by Ovid</a>. So I started converting the code from the broken Parse-Yapp
grammar to it. I had some tests and ended up getting it to work after
some trial and error and debugging.
</p>

<p>
Now, Qantor used to convert from its plain text representation directly
to <a href="http://en.wikipedia.org/wiki/XSL_Formatting_Objects">XSL-FO</a>,
but I preferred to convert it to an intermediate XML format instead. So
I worked on it and finished. However, then I needed to translate the XML
to XSL-FO, so I wanted to write an XSL transformation, and then realised I've
actually done such stuff a lot before:
<a href="http://search.cpan.org/dist/XML-Grammar-Screenplay/">XML-Grammar-Screenplay</a>,
<a href="http://search.cpan.org/dist/XML-Grammar-Fortune/">XML-Grammar-Fortune</a>,
<a href="http://search.cpan.org/dist/XML-CompareML/">XML-CompareML</a>, etc.
As a result, I decided to refactor all the common functionality into a common
<tt>XML-GrammarBase</tt> distribution.
</p>

<p>
Shouldn't be hard, right? Well, not so fast. When trying to create the skeleton
of the distribution using a <tt>pl-dist-man setup </tt> command, (see
<a href="http://search.cpan.org/dist/Dist-Man/">Dist-Man</a>),
it died with an error - so I needed to fix it first. The fix was not hard,
but I needed to extract some common test functionality into a <tt>./t/lib</tt>
module. However, the
<a href="http://search.cpan.org/dist/Test-Count/">Test-Count</a> used some
Test-Count variables that now moved to the file. So I needed to implement
an include functionality. (Yak Shaving)++
</p>

<p>
Implementing this functionality in Test-Count was time consuming, and I did it
by changing many files. You can now do
<tt># TEST:source "$^CURRENT_DIRNAME/lib/MyMoreTests.pm";</tt>, which includes
the file.
</p>

<p>
Then I went back to Dist-Man re-counted the text and fixed it, and now I can
work on XML-GrammarBase again. This is what is called
<a href="http://sethgodin.typepad.com/seths_blog/2005/03/dont_shave_that.html">yak
shaving</a>, but this time it yielded many benefits to my other projects.
</p>

</div>


<div class="entry" id="perlsphere-as-perlanet">

<!-- Tags: perl, sphere, perlsphere, perlanet, rss, atom, planet, feed, aggregator, plagger, hacktivity, web feeds, www, xml
-->

<h2>2009-10-03: Perlsphere Implemented Using Perlanet</h2>

<p>
You may be familiar with <a href="http://perlsphere.net/">Perlsphere</a>,
which is a Perl-related feed aggregator, which is more open for membership
than "Planet Perl". I've encountered some problems with its web feed,
including some entries that displayed the HTML markup, and the fact that
web feed entries are not prefixed with the name of the Blogger or Blog.
As a result, I decided to experiment with implementing the same functionality
as Perlsphere, only using
<a href="http://search.cpan.org/dist/Perlanet/">Perlanet</a>, which is a
lightweight PlanetPlanet-like web feed aggregator written in Perl.
</p>

<p>
So I present
<a href="http://www.shlomifish.org/perlsphere-using-perlanet/">perlsphere-using-perlanet</a>.
There are links to the OPML file, the Atom feed, and the source
repository at the top. So far it seems to work pretty well, and it may be
a viable replacement for the Plagger-based Perlsphere in the future. Note:
the URL and everything about it are temporary, and I don't update the
feed peridiocally at the moment (but I can set up a cronjob). The OPML file
may be out-of-date too.. Anyway, comments and bug reports are welcome.
</p>

<p>
I should note that I've locally applied
<a href="http://rt.cpan.org/Public/Bug/Display.html?id=44899">the patch
in this XML-Feed bug report</a> which also affected some of my CPAN modules,
and you may need it to get it to work.
</p>

</div>


<div class="entry" id="israel-welcome-to-foss-2009">

<!-- Tags: welcome, foss, israel, open, source, free, freedom, software, w2foss, w2l, announcement, telux, telfoss
-->

<h2>2009-10-05: Pre-Announcement for the "Welcome to FOSS" Series of TelFOSS</h2>

<p>
In previous years, <a href="http://www.cs.tau.ac.il/telux/">the
Tel Aviv Open Source Club</a> has conducted the
<a href="http://welcome.linux.org.il/">"Welcome to Linux" series</a>
along with other Israeli clubs, towards the beginning of the scholastic year.
This year the series will be in a different format of
<a href="http://welcome.foss.org.il/">Welcome to the World of Open Source
Software</a> (also see
<a href="http://wiki.osdc.org.il/index.php/Welcome_to_FOSS_-_2009">the wiki
page</a>). We intend to introduce free and open source software to the users
in general, and among it many open source programs that can be ran on both
Linux and Windows, as well as introduce the ideology and philosophy of the
open-source code and their technological and social advantages.
</p>

<p>
Right now, we're looking for someone to give the demonstration of the
cool open-source programs, which is the first presentation which will take
place a few weeks after Sukkoth. <a href="http://blog.oriidan.info/">Ori
Idan</a> has already volunteered to give the presentation about the
philosophy of open source software. After these two presentations, we intend
to give several secondary talks. Among them would be
"Free Development Tools for Linux and Windows" (a general overview of them,
and not only those that are intended only for C or for Java), as well as
"Don't be afraid of the command-line" where we will show how nifty the
command-line can be. So we're also looking for volunteers to present these
talks.
</p>

<p>
Whoever wants to pitch in and contribute may
<a href="http://www.shlomifish.org/me/contact-me/">contact Shlomi Fish,
the coordinator of the series and the club</a> and
<a href="http://hamakor.org.il/cgi-bin/mailman/listinfo/w2l">subscribe to the
organisation mailing list</a> (which doesn't have a lot of traffic at
the moment).
</p>

<p>
Be free and Happy Sukkoth.
</p>

</div>


<div class="entry" id="perl-xml-rss-1.46">

<!-- Tags: perl, xml, rss, old versions, deprecations, 5.6.x, 5.8.x, upgrade, legacy, hacktivity, web, feeds, www, log
-->

<h2>2009-10-08: XML-RSS-1.46 - now with dropped support for perl-5.6.x</h2>

<p>
I recently released <a href="http://search.cpan.org/dist/XML-RSS/">XML-RSS</a>
version 1.46, with a few changes:
</p>

<ul>

<li>
Updated the E-mail address of Adam Trickett per his request.
</li>

<li>
Converted all occurences of <tt>new XML::RSS</tt> in the docs and code
to <tt>XML::RSS-&gt;new()</tt>, per the modern Perl best practices.
</li>

<li>
Now XML-RSS requires perl-5.8.x and above to avoid working around the
perl-5.6.x'x lack of IO layers.
</li>
</ul>

<p>
The latter caused an incomplete test coverage, and various test failures in
perl-5.6.x due to a bugs with XML-Parser there. I think it's time for the
Perl world to move away from ancient versions of Perl. perl-5.8.0 was
released in 2002, 7 years ago, which is plenty of time to upgrade to it.
</p>

<p>
On a side note in this hacktivity log, I'd like to note that I've done some
work on
<a href="http://web-cpan.berlios.de/modules/XML-Grammar-Screenplay/">XML-Grammar-Screenplay</a>
and converted the XML grammar to its own namespace. I was able to successfully
doing it after temporarily giving up on several other XML-related processsing
tasks.
</p>

<p>
Cheers!
</p>

</div>


<div class="entry" id="perl-remarkable-help">

<!-- Tags: perl, remarkable, customer service, help, beginners, social, social post, newbies, treatment
-->

<h2>2009-10-13: Social Post about Perl: Giving a Remarkable Online Help</h2>

<p><b>Remarkable Customer Support as it applies to voluntary projects</b></p>

<p>
One of my favourite Joel on Software articles is
<a href="http://www.joelonsoftware.com/articles/customerservice.html">"Seven
steps to remarkable customer service"</a>. While the article is oriented
towards software shops it has universal implications. Quoting from the article:
</p>

<blockquote>
<p>
Here are seven things we learned about providing remarkable customer service.
Im using the <b>word remarkable literally</b>the goal is to provide customer
service so good that people remark.
</p>
</blockquote>

<p>
Today I'd like to write about providing remarkable online help on the
various online forums of Perl. Online help is similar to customer support,
only we don't charge for it, and it is done by volunteers. Nevertheless, we
do have an interest to provide good online help, because otherwise we will
get fewer people who use our project. They are still our users/customers
even if they don't pay us.
</p>

<p>
So let's start.
</p>

<p><b>How not to lose a single soul.</b></p>

<p>
One day (which happened to be my birthday) I chatted on Freenode #perl when
someone with the nickname of <tt>sas123</tt> joined and said he couldn't
understand references. We naturally referred him to
<a href="http://perldoc.perl.org/perlreftut.html">perlreftut</a>, but
even after reading it, he said he did not understand. Some of the channel
regulars said that perlreftut was written well enough that he must have
been able to understand. However, I recalled a
<a href="http://tech.groups.yahoo.com/group/hackers-il/message/1077">a
Hackers-IL thread called "Smoking out pointer-impaired minds?"</a>
where we discussed why understanding pointers or references is hard,
and why many people will have trouble understanding pointers at first.
</p>

<p>
As a result, I invited him to
<a href="http://perl.net.au/wiki/Freenode_Sharp_Perlcafe">#perlcafe</a>,
and we held
<a href="http://perl-begin.org/topics/references/perlcafe-references-chat.log.txt">a
long discussion about what Perl references were</a>. And he eventually
was able to understand them. Such extraordinary willingness to help is
something that
people will remark upon and recommend to their friends. I do not think this
discussion should have stayed on #perl because it would have reduced the
Signal-to-Noise ratio and prevent other people from getting help (and it
did take a long time). However, I think the #perl participants should have
told sas123 that they will help him on a different channel right away
instead of telling him that he's beyond hope.
</p>

<p>
Communities around FOSS projects should try to avoid losing even one
newcomer. That's because people who've been disappointed by bad social treatment
will rant about it to their friends, vent about it in their blogs, or worse.
And naturally, several individual people add up to a lot pretty quickly.
</p>

<p>
I still recall an incident, where someone joined <tt>#vim</tt>, said
he's been using GNU Emacs or XEmacs for many years. Now, because the
people on #emacs have insulted him and treated him badly shortly before,
he decided to switch wholesale to the alternative - Vim. When I suggested that
he could use a Vim add-on which could make it behave more like Emacs (in
order to ease the transition) he did not want to use it saying that he'd
rather do the conversion properly.
</p>

<p>
So the Emacs people lost a long-time user, who opted to painfully
re-train himself to use something completely different, losing years of
habit and customisations. As members of the Perl community (for example) it
is much more likely that we will lose a new member who can
easily choose Python, PHP, Ruby, Lua or whatever. So we need to provide a
remarkable online help to keep them.
</p>

<p><b>It's not new.</b></p>

<p>
Other people inside and outside Perl have been echoing similar concerns. See
for example what
<a href="http://perlbuzz.com/2009/09/dont-optimize-for-yourself-in-communities.html">Andy
Lester wrote about "Don't optimize for yourself in communities" on
Perlbuzz</a>, and
<a href="http://geeketiquette.com/">the Kirrily Robert's
"Geek Etiquette" blog</a>.
</p>

<p><b>A tougher nut to crack.</b></p>

<p>
A few months ago #perl on Freenode was frequented by a certain newbie
who needed to use Perl for her site about role-playing games. She needed too
much hand-holding and often made many steps backwards and as a result one of
the ops has eventually banned her. One day, when I was on Freenode, she
private messaged me and explained the problem, and I invited her to #perlcafe
or #perl-cats to ask her questions and get help with her code there.
</p>

<p>
Now we help her at #perlcafe . She still requires a lot of hand-holding,
often won't immediately understand why the advice we give her is good, and is
often too much utilitarian and not focused enough in her quest for Perl
knowledge. But she still seems to make some progress, and we now consider
#perlcafe as an "incubator" for her (with all the Science Fiction
implications) that will make her ready for public consumption on #perl.
</p>

<p>
Should her training stay on #perl? Naturally not. But, on the other hand, she
still should not have been banned, and instead a few people should have
volunteered to help her on a different channel.
</p>

<p><b>How to do it.</b></p>

<p>
The old adage of "Be conservative in what you do, be liberal in what you
accept from others" applies to human communications as well. On help forums,
we can expect many people who are tactless, non-native speakers of English,
who may incorporate many paradigms from their native tongues or from popular
Anglophone culture, with relatively bad English, in a bad mood, not very
knowledgeable or clueful, with personality defects, and/or who have not read
the FAQ or the needed documentation. On the other hand, we should always be
friendly, polite, with the best English that we can emit, and being as
helpful, accessible and non-laconic as we humanly can.
</p>

<p>
As annoying "clueless" newbies can be, they still can and often do improve and
they are still human. And being hostile to them can have a
snowball effect. By being courteous and helpful to newcomers, we can also
further educate them on how to behave in our own or other on-line communities
which will in turn make the long-term experience better.
</p>

<p>
As a pragmatist, I dislike what I call the "grand disciplinary" approaches,
which say that people should have a lot of discipline to maintain a certain
state. These things almost never work. I much prefer the more practical
approaches of doing small and one time things like changing the
channel's topic. Or alterantively telling yourself that you should remember
to do it a few times, which ends up turning it into a habit.
</p>

<p>
Building a friendly and helpful environment is not that hard, and we can
make a better one by several incremental steps. And it is worth it.
</p>

<p><b>Some final notes.</b></p>

<p>
A final note: I may have focused on Perl and
<a href="http://perl.net.au/wiki/Freenode_Sharp_Perl_FAQ">Freenode's #perl</a>
here, I only did it because Perl is my area of expertise and because
I'm an active member of Freenode's #perl (<a href="http://israelperspectives.blogspot.com/2006/05/poor-of-your-city-come-first-kindness.html">"The poor of
your city come first"</a>, etc.). However, I think that #perl on Freenode
is generally a great resource for beginners and experts, and I've seen
much nastier IRC channels and Internet forums in general, including on
Freenode. So don't take me the wrong way - all I'm saying is that there's
still room for improvement.
</p>

<p>
Thanks to <a href="http://perlbuzz.com/">Andy Lester</a>, Trashlord
and <a href="http://home.pacbell.net/rklement/">Rick</a> for giving some
input and corrections about early versions of this article.
</p>

</div>


<div class="entry" id="perl-preventing-code-injection">

<!-- Tags: perl, prevention, code, injection, sql, html, shell, regex, eval, coding, hacking, hack, exploiting, cracking, crack, exploits
-->

<h2>2009-10-22: Code/Markup Injection and Its Prevention</h2>

<p>
I'm running out of time for a post to
<a href="http://ironman.enlightenedperl.org/">Planet Perl Iron Man</a>,
so I'm going to prepare something quick, but hopefully enlightening. I'll use
Perl as a demonstration language, but the practices I'm going to cover
tend to be more universal.
</p>

<p>
Starting from the early UNIXes and before, operating systems represented code
and its data as sequences of units of a certain number of bits called
<a href="http://en.wikipedia.org/wiki/Byte">bytes</a>. Starting from Unix,
which was designed to run on such machines as the 16-bit PDP-11 and later on
the 32-bit VAX family of computers, this unit has generally become 8-bits.
Today, there are many 8-bit based text encodings (and many more binary
encodings for binary data), and the interested reader is referred to
<a href="http://www.joelonsoftware.com/articles/Unicode.html">Joel Spolsky's
introduction on the subject</a>
and
<a href="http://perldoc.perl.org/perlunitut.html">Juerd Waalboer's
perlunitut</a> or your language's equivalent document.
</p>

<p>
In any case, let's suppose we have a string where we want to embed a
variable containing a string. In Perl we can do:
</p>

<pre>
my $total = "Hello " . $adjective " World!";
</pre>

<p>
Or more simply:
</p>

<pre>
my $total = "Hello $adjective World!";
</pre>

<p>
So if we put <tt>"beautiful"</tt> in <tt>$adjective</tt>, we'll get
<tt>"Hello beautiful World!"</tt> in <tt>$total</tt> and if we put
<tt>"cruel"</tt> there we'll get <tt>"Hello cruel World!"</tt> there.
</p>

<p>
So far so good, if it's a plain string written in plaintext. However, what
if it's in a more well-formed format? Let's say HTML:
</p>

<pre>
# Untested
my $input = get_input_from_user_somehow();
print &lt;&lt;"EOF";
&lt;p&gt;
$input
&lt;/p&gt;
EOF

</pre>

<p>
The alert reader will notice that $input was inserted as is into the HTML
output. And since we didn't check if it contains special characters or
escaped its special characters, a malicious user can insert arbitrary HTML
code and even JavaScript code there. This in turn can wreck havoc upon the
users of the page.
</p>

<p>
This form of HTML injection is called a
<a href="http://en.wikipedia.org/wiki/Cross-site_scripting">a
cross-site-scripting attack (XSS)</a>. If present in web applications or
web-sites, it may allow malicious crackers to set up traps to the unwary,
and possibly gain access to sensitive information on the site, such as the
passwords of users or administrators. And you did notice how easy it was
to write code that exhibited this problem, right?
</p>

<p>
Here are some other forms of code or markup injection:
</p>

<ol>
<li>
<p>
<b>Shell Command Injection</b> - I've discussed it briefly
<a href="http://community.livejournal.com/shlomif_tech/14671.html">in
a different post about "shell variable injection" in Bash</a>, but it also
exists in Perl. Imagine doing <tt>system("ls $dir");</tt> or
as some newcomers are tempted to do <tt>`ls $dir`</tt>, which the latter
still has some legitimate uses. Now I as a malicious user can put in the
<tt>$dir</tt> variable some malicious shell code which will wreck havoc on
the system of the user that is running the script.
</p>
</li>

<li>
<p>
<a href="http://en.wikipedia.org/wiki/SQL_injection">SQL injection</a>
allows a user to inject malevolent SQL code that can do untold damages
in the database. It is very common in web applications and many
other applications that use SQL code. If you do something like
<tt>"SELECT id FROM users WHERE name='$name'"</tt> then by putting
single-quotes in the name, and using SQL syntax one can insert arbitrary SQL
there and do a lot of damage. There was also
<a href="http://xkcd.com/327/">a very nice xkcd comic</a> about it.
</p>
</li>
<li>
<p>
<b>Perl Code injection</b> - let's suppose we want to construct an optimised
anonymous function ( <tt>sub { ... }</tt> ) on the fly. We can build
its code and then use
<a href="http://perldoc.perl.org/functions/eval.html">the
string eval - eval ""</a>. A lot of Perl programmers think it should be
avoided at all costs, but
<a href="http://en.wikipedia.org/wiki/Metaprogramming">metaprogramming</a>
has some legitimate uses. Moreover, this can happen in other cases,
like when we construct a Perl program (or a program of any other language
on the fly and execute it).
</p>
<p>
In any case, if we insert a variable into the <tt>eval ""</tt> which was input
from the user without being escaped or validated, we can have an arbitrary
code execution.
</p>
</li>

<li>
<p>
<b>Regular expressions' code injection</b> - imagine you want to see if a
string is contained in a list of strings. One nave way would be to concatenate
the strings using a separator that is unlikely to be contained in them
(such as <tt>\0</tt>) and then match this gigantic string using
<tt>$haystack =~ m{$needle}</tt>. However, if $needle contains special regex characters,
then the operation can take a lot of time to match or worse - yield an
incorrect result. One way to avoid that is to use
<a href="http://perldoc.perl.org/functions/quotemeta.html">perldoc -f quotemeta</a> or its \Q and \E regular expression escapes -
<tt>$haystack =~ m{\Q$needle\E}g</tt>. In this particular case, it is also
probably better to use a hash, but naturally this was just one example
where we'd like to embed some arbitrary (but plain) text inside a regular
expression.
</p>
</li>
</ol>

<p>
These are the prominent examples I can think of now, but they are not
the only ones. Your program is in danger whenever it accepts text input from
the user and passes it directly to an output format that has some grammar and
syntax that can be influenced by this string.
</p>

<p>
So how to mitigate such code injection problems? There are many ways -
sometimes providing alternatives and sometimes complementing each other:
</p>

<ol>
<li>
Make sure you have enough <b>discipline</b> to escape the input before it
is passed to the output venue. Write automated tests for that.
</li>
<li>
If you still want to allow some user input, then make sure that you
<b>analyse</b> it to make sure it doesn't contain any malicious code
that can abuse the system. For example, you may wish to restrict input
only to certain HTML tags and attributes.
</li>
<li>
Taint your data using <b>unsafe typing</b> or "kinding" and make sure that
it can only be output after either being escaped or being untainted. Joel
on Software recommends
<a href="http://www.joelonsoftware.com/articles/Wrong.html">making the
wrong code look wrong</a>, which while desirable and important, is
probably less preferable than the wrong code to <b>behave</b> wrong
and abort with a huge "You suck!" error or something. This may not be
very possible given certain limitations of the programming language, but it
is a better ideal.
</li>
<li>
Use auto-escaping features of your environment such as SQL place-holders
(e.g: <tt>"SELECT * FROM mytable WHERE id = ?"</tt>), and the list argument of
<a href="http://perldoc.perl.org/functions/system.html">"perldoc
-f system"</a> (e.g: <tt>system { $cmd[0] } @cmd</tt>).
</li>
<li>
Perform frequent code reviews, black box tests, and encourage hackers to
find problems in your code.
</li>
<li>
Use complementary security measures that make sure that even if a problem
occurs, its damage is mitigated. As examples, you can try running the
script under an underprivileged operating system user, or as a database
user that lacks certain database privileges.
</li>
</ol>

<p>
There are probably several measures that I'm forgetting, so feel free to
add them as comments or trackbacks. In any case, be careful when writing
code that may cause code or markup injection because the consequences may be
dire.
</p>
</div>

<div class="entry" id="criticisms-of-perl-page-on-the-wikipedia">

<!-- Tags: criticisms, perl, page, wikipedia, under, work, call, for, contributors, hacktivity, log
-->

<h2>2009-10-24: "Criticisms of Perl" page
under work on the English Wikipedia</h2>

<p>
Due to the fact that the "Criticism" section was removed
<a href="http://en.wikipedia.org/wiki/Perl">from the English wikipedia
article about "Perl"</a>, I've decided to create
<a href="http://en.wikipedia.org/wiki/User:Shlomif/Criticisms_of_Perl">a
"Criticisms of Perl" page on the English Wikipedia</a> under "User:Shlomif"
(which is my user-account). Nevertheless, the page can be edited by other
editors, and interested people can comment on the discussion page.
</p>

<p>
Reading from the page, it aims to be <q>a coverage of the criticisms raised
for the Perl programming language which would be comprehensive, and written
from a Neutral Point of View, but still mostly concise.</q>. The article itself
still lacks many citations, and adding them would be appreciated. Also,
many important criticisms should be better covered. Be bold and edit.
</p>

</div>


<div class="entry" id="perl-bike-shed-colour-when-helping-newbies">

<!-- Tags: perl, chromatic, modern, perl, bike, shed, colour, color, newbies, newcomers, social, social perl, followup
-->

<h2>2009-10-30: Follow-up to chromatic's "On Answers to Smart Questions"</h2>

<p>
On the Modern Perl Books blog,
chromatic wrote
<a href="http://www.modernperlbooks.com/mt/2009/10/from-novice-to-adept-on-answers-to-smart-questions.html">a
post titled "From Novice to Adept: On Answers to Smart Questions"</a>
where he mentions my comment to
<a href="http://www.modernperlbooks.com/mt/2009/10/from-novice-to-adept-embracing-idioms.html">a
previous feature of his there</a>. I am flattered that chromatic decided
to expand upon my comment. Quoting my comment:
</p>

<blockquote>
  <p>
I agree with you about it. However, idioms are nice and dandy, but naturally,
when going on IRC, one can often open the Pandora box of <a
href="http://bikeshed.com/">the colour of the bike shed</a> argument. For
example should it be:
</p>

<pre>

Person-&gt;new(
   first =&gt; "Sophie",
   'last' =&gt; "Cohen",
   birth_year =&gt; 1977,
);
</pre>

<p>Or:</p>

<pre>
Person-&gt;new({
    first =&gt; "Sophie",
    'last' =&gt; "Cohen",
    birth_year =&gt; 1977,
});
</pre>

<p>
(with a hash ref)
</p>

<p>
I tend to think the second option is better because it's probably a bit faster
(not that it matters a lot), and because it will warn about an "odd number of
hash elements" earlier, but there's a lot of code on CPAN out there that uses
the first option, because it involves somewhat less syntax. In one of my
modules, I supported only the second option, and a programmer who was after <a
href="http://web-cpan.berlios.de/offers/o-and-m-2006-08/">my T-shirt offer</a>,
implemented convulted code to have it either with a single hash-ref or
flattened into @_, which I had to reject.

</p>

<p>
Naturally, this is just the tip of the iceberg. Brace indentation, placement of
HTML opening and closing tags, whether HTML should be nicely indented (even if
generated by a server-side language), or instead occupy as little space as
possible, whether you should sub-class sub new {... } or sub _init {....} etc.
etc. are all a matter of much debate, and they are pretty much a bike shed
colour's argument (while they often do have some points for and against).
</p>

<p>
I think it's important for a beginner (in Perl or in any other language) to
distinguish between such minor matters and non-idiomatic code, and that it is
even more important for an expert to see past his own preferences for the bike
shed's colour when helping newcomers.
</p>

</blockquote>

<p>
chromatic discusses it in the page above, and gives some advice for newbies
who want to avoid getting confused from such discussions on personal style
and conventions. Often, matters such as those of indentation and whitespace
or placement of braces have some good and valid arguments either way, but they
are still a bike shed colour argument, and as such should be either enforced
globally by the project or workplace, or alternatively a programmer can do
what they prefer on their personal project.
</p>

</div>


<div class="entry" id="why-upgrade-to-new-perl-versions">

<!-- Tags: perl, upgrade, new, versions, szabgab, broken, window, fallacy, gabor, szabo
-->

<h2>2009-11-01: Why you should Upgrade to New Perl Versions?</h2>

<p>
Gabor Szabo <a href="http://szabgab.com/blog/2009/10/1256905701.html">wrote
about "Why bother upgrading perl?"</a> and
<a href="http://mail.perl.org.il/pipermail/perl/2009-October/010654.html">announced it</a>
on the Israeli Perl Mongers mailing list. guy keren
<a href="http://mail.perl.org.il/pipermail/perl/2009-October/010655.html">replied</a> like so:
</p>

<blockquote>
<p>
i have a different question: why do you care?
</p>

<p>
there are reasons for people to use the older software for any software
X you'll mention - you operating systems, office suites, programming
languages/compilers, external libraries etc. etc. etc.
</p>
<p>
what is the point of pushing people? this sounds like the method of
commercial companies - they want to sell the upgrades. what do you want
to sell - course-grades? [Editor's note: Gabor is giving commercial
training for Perl and other fields.]
</p>
<p>
the basic idea of open source is to give the power to the users -
including the power to stay with an older version of software if and
when they see fit.
</p>
<p>
if there was an assured (QA-wise) upgrade process that never broke
things and was trusted by people - people might have considered these
upgrades with a more favore. as long as this process has its cons -
you'll have people that will simply refuse to upgrade until they have no
choice - and sometimes even then.
</p>
</blockquote>

<p>
Before I republish
<a href="http://mail.perl.org.il/pipermail/perl/2009-October/010656.html">my
reply to guy</a> here, I should note that the "Why do you care?" attitude
is not very beneficial. Essentially, guy is implying that as human beings, we
should "mind our own business", be selfish and/or
<a href="http://en.wikipedia.org/wiki/Egocentrism">self-centered</a> and not
care what happens to other people. However, it's good that we care about
other people, because we are part of a community, and because helping
people we know can bring us a lot of pleasure. As much as I support
<a href="http://en.wikipedia.org/wiki/Objectivism_%28Ayn_Rand%29">Ayn Rand's
"Objectivism"</a> and
<a href="http://en.wikipedia.org/wiki/Rational_egoism">Rational egoism</a>,
I still think that we derive a lot of short-term and long-term pleasure from
helping people we know, and that it is a healthy part of acting out of one's
best self-interest.
<a href="http://www.shlomifish.org/humour/fortunes/shlomif-fav.html#neo-tech-selfishness">Selfishness
(meaning "having a complete disregard for others")</a>,
is a form of undesirable behaviour, and should not be encouraged.
</p>

<p>
Now let's move on to my reply:
</p>

<p>
I think you're missing the point. Gabor is not trying to sell courses or
services for the newer versions of Perl (which as you note are free-of-
charge). Also, companies who want people to upgrade their software usually
have a better motivation than selling upgrades.
</p>

<p>
I blogged about it
<a href="http://community.livejournal.com/shlomif_tech/741.html">in
my blog post - "The Broken Window Fallacy"</a>. Quoting from there:
</p>

<blockquote>
<p>
I talked with a few people on IRC about how I hated the fact that most people
are still using Windows which is quickly getting inflicted with malware, or
Internet Explorer, which is lagging behind Firefox and other browsers in its
support for web standards, and makes the job of the web designer much harder.
So they told me that it is actually a good thing because that way someone has
to fight the malware (a very uphill battle), and they have more work as web
developers.
</p>

<p></p>

<p>
The problem is that tech workers can never run out of things to do. In the
time they have to adapt their web-sites for MSIE, they can better spend on
things like having better functionality, more web-sites, more pages. The time
people spend making sure their Windows systems are free of malware, is better
spent happpily using Linux and getting some actual, productive work done.
</p>
</blockquote>

<p>
Many Perl contractors , consultants, workers and people who volunteer to help
people on online forums need to deal with old Perl versions or "Cannot use
modules from CPAN" constantly. Yes, it provides work, but these people would
and can rather do something else. See
<a href="http://en.wikipedia.org/wiki/Parable_of_the_broken_window">the
"Parable of the broken Window" on Wikipedia.</a>
</p>

<p>
Naturally, this is not only true for Perl, but for all software technologies.
I wouldn't want to support Red Hat Linux 9.0 (or older versions) or a 1996
vintage FreeBSD (which I happily used at the time), or Windows 95 or older.
And I've recently stopped caring about supporting Microsoft Internet Explore
(MSIE) 6 on my sites (which are not commercial, or else it may have
been more of an issue).
</p>

<p>
We are not making any money directly from such people who upgrade their Perls
or whatever to newer versions (unless they hire us to handle the upgrades for
them, which is a bit far-fetched.). But in the long run, we are happier
because we have an easier time supporting their systems and not having to
comply with their irrational whims.
</p>

<hr />

<p>
As a result, we have a genuine, egoist, interest to make sure our customers
use recent versions of their programs and are not stuck on old versions. This
is because it prevents us from doing exciting and cutting-edge work during
the time that is spent in providing support for the old programs. And as I
noted in the original post, supporting old programs (e.g: adapting the sites
for Internet Explorer version 6), is causing a lot of frustrations and
bad feelings, which are also undesirable and have a bad net effect on
our self-esteem and happiness.
</p>

<p>
I hope you agree.
</p>

</div>


<div class="entry" id="new-cpan-package-xml-grammar-fortune">

<!-- Tags: perl, cpan, module, package, distribution xml, grammar, fiction, prose, stories, nanowrimo, november, writing, authoring, screenplay, screenplays, moose, novellas, novels, fun, fwp, fun with perl, creative writing
-->

<h2>2009-11-06: New CPAN Package: XML-Grammar-Fiction</h2>

<p>
Earlier today, I uploaded version 0.0.1 of
<a href="http://www.shlomifish.org/open-source/projects/XML-Grammar/Fiction/">XML-Grammar-Fiction</a> to CPAN. It is a fork of my own
<a href="http://web-cpan.berlios.de/modules/XML-Grammar-Screenplay/">XML-Grammar-Screenplay</a>,
which was heavily modified in the recent days, with quite a lot of coding
on my part (I felt encouraged by all this coding). The code is still pretty
hairy and only the basic functionality was implemented, and there may be
many bugs, but it passes all tests on my system, and I've already used it for
<a href="http://www.shlomifish.org/humour/Pope/">one of my stories</a>, so
I'm happy.
</p>

<p>
So what is it about? XML-Grammar-Fiction provides the so-called Fiction-Text,
a <a href="http://en.wikipedia.org/wiki/Lightweight_markup_language">lightweight
markup language</a> of sorts to write prose (such as short stories, humorous
bits, novellas or novels) in, which in turn gets
converted to Fiction-XML, which is a dedicated XML grammar for representing
fiction, and which can also be used directly. Fiction-XML in turns can be
converted to <a href="http://en.wikipedia.org/wiki/DocBook">DocBook/XML</a> or
directly to XHTML.
</p>

<p>
I needed it because I found it troublesome to work on
<a href="http://www.shlomifish.org/humour/Pope/">one of my stories in
Hebrew ("The Pope Died on Sunday")</a> directly as DocBook/XML, using either
<a href="http://www.vim.org/">gvim</a> or
<a href="http://kate-editor.org/">the KDE 4 Kate Editor</a>, due to the
problem with the XML tags being in Latin whereas most of the text being
in Hebrew, so I sought a more clean text-based format. As a result,
XML-Grammar-Fiction was born, just in time for
<a href="http://www.nanowrimo.org/">NaNoWriMo (= (Inter-)National November
Writing Month)</a>, which I'm planning to spend some time investing
on my stories and screenplays (for which I already have
XML-Grammar-Screenplay).
</p>

<p>
So how does a sample Fiction-Text story <b>look like</b>? Here's the
markup for one straight out of the <tt>t/data</tt> directory of the
XML-Grammar-Fiction CPAN distribution.
</p>

<pre>
&lt;body id=&quot;index&quot;&gt;

&lt;title&gt;David vs. Goliath - Part I&lt;/title&gt;

&lt;s id=&quot;top&quot;&gt;

&lt;title&gt;The Top Section&lt;/title&gt;

David and Goliath were standing by each other.

David said unto Goliath: &quot;I will shoot you. I &lt;b&gt;swear&lt;/b&gt; I will&quot;

&lt;s id=&quot;goliath&quot;&gt;

&lt;title&gt;Goliath&#39;s Response&lt;/title&gt;

Goliath was not amused.

He said to David: &quot;Oh, really. &lt;i&gt;David&lt;/i&gt;, the red-headed!&quot;.

&lt;/s&gt;

&lt;/s&gt;

&lt;/body&gt;
</pre>

<p>
You can see the mixture of some XML-like tags and plain paragraphs.
</p>

<p>
Naturally everything is still subject to change, and I suppose only
tech-savvy users will be able to install it and use it now, but I plan
to work on it some more in the near future.
</p>

<p>
Happy writing!
</p>

</div>

<!--
    - Recent hacktivity:
        + - perl-begin.org:
            - adding mst's article to CPAN.
            - new header image.
                - GIMP
            - CSS tweaks.
        + - Perl-for-Newbies 5.
        + - XML-Grammar-Fortune.
            - XHTML gets output Indented.
                - WTF?
                - Workaround.
        + - some screenplays and stories.
            - Blue Rabbit's Logs ideas
            - ST : We the Living Dead
        + - homepage
            - fixed the breadcrumbs trail.
            - refactored the WML headers.
        + - XML-Grammar-Fiction.
        + - Catalog of Optimizations
        + - mailing lists collector / analyser from Perl 5 wiki.
        + - Getting the homepage build up and running on Debian Testing.
            - local::lib.
            - dh-make-perl vs. CPANPLUD-Dist-Deb.
        + - XML-Grammar-Fortune
            - XSLT transform to be accepted by Opera and Firefox
-->
<div class="entry" id="recent-hacktivity-2009-11-11">

<!-- Tags: recent, hacktivity, log, hacktivity log, recent hacktivity, perl, begin, perl-begin, cpan, mst, gimp, flickr, css, jquery, sass, p4n, newbies, module-build, module-starter, xml, grammar, fortune, fiction, screenplay, stories, xslt, firefox, opera, homepage, homesite, optimisations, optimizations, catalog, catalogue, local-lib
-->

<h2>2009-11-11: Recent Hacktivity Log (11-November-2009)</h2>

<p>
For a while before, I felt like I was under-productive and that I had no
incentive to write a new recent hacktivity log. This has changed some weeks
ago, after a sprout of productivity where I did many small things. So here's
another boring recent hacktivity log, which you are free to skip.
</p>

<p>
In the <b>Perl-Begin front</b>, I've added
<a href="http://www.shadowcat.co.uk/blog/matt-s-trout/but-i-cant-use-cpan/">Matt
S. Trout's essay "But I can't use CPAN!"</a> to
<a href="http://perl-begin.org/topics/cpan/">the
CPAN page of perl-begin.org</a>. Thanks Matt (mst)!
</p>

<p>
After that, I finally
tended to the fact that the header image was too narrow and generally
resulted in a lot of padding in direct green on the side. I took
<a href="http://www.flickr.com/photos/shlomif/3944967701/">a photo I took
and placed on Flickr</a> (under the Public Domain) and tweaked it using
<a href="http://www.gimp.org/">the GIMP</a>.
</p>

<p>
I've also done many CSS tweaks
and the people on <a href="irc://irc.freenode.net/#css">#css</a> were a
lot of help. I discovered that a co-maintainer added some JavaScript to
dynamically modify the CSS and which I've mis-tweaked, and had to fix it,
and convert it to jQuery. The people on #css said it was not necesssary at
all and could be done with pure-CSS, but I didn't like their solutions.
It also sparked a small discussion about our use of
<a href="http://sass-lang.com/">Sass</a>, and whether CSS should be generated
at all.
</p>

<p>
I've made some progress with the 5th part of
<a href="http://www.shlomifish.org/lecture/Perl/Newbies/"><b>Perl for
Newbies</b></a>,
and have started to cover the authoring of a CPAN-like module using
Module-Starter and Module-Build. I've been feeling quite unmotivated to work
on it, but I hope this feeling will pass.
</p>

<p>
I've discovered the
<a href="http://web-cpan.berlios.de/modules/XML-Grammar-Fortune/">XML-Grammar-Fortune</a> tests started failing, and realised it was because XML-LibXSLT
started outputting the XML with indentation. I had to workaround here by
trimming leading whitespace from both the expected and the received outputs.
Le sigh.
</p>

<p>
Later on in the past two days, I decided to make the
<a href="http://www.shlomifish.org/humour/fortunes/">XML sources of the
fortune cookie files</a> be served with a client-side
<a href="http://en.wikipedia.org/wiki/XSL_Transformations">XSLT</a>
stylesheet so
they'll be nicely displayed as XHTML in the browser. This turned out to be
hard because the XSLT I used internally in XML-Grammar-Fortune was not
accepted by either Firefox or Opera, and their errors left a lot to be desired.
Eventually, I was able to understand the Opera errors (which were more specific
than Firefox's) and while referencing the XSLT specification, was able to
fix the brokenness and get what I wanted to work.
</p>

<p>
I've also did some work on some of my screenplays and stories, among them
<a href="http://www.shlomifish.org/humour/Blue-Rabbit-Log/ideas.xhtml">the
ideas page of the Blue Rabbit's logs</a>, and
<a href="http://www.shlomifish.org/humour/Star-Trek/We-the-Living-Dead/">some
added text to "Star Trek: We the Living Dead"</a>.
</p>

<p>
Also in regards to <a href="http://www.shlomifish.org/">my homepage</a>,
I fixed the style of the breadcrumbs' trail at the top, and simplified
what I need to do to over-ride some stuff in the
<a href="http://thewml.org/">Website Meta Language</a> headers.
</p>

<p>
As I <a href="http://community.livejournal.com/shlomif_tech/36515.html">noted
in a previous entry</a>, I also released
<a href="http://www.shlomifish.org/open-source/projects/XML-Grammar/Fiction/">XML-Grammar-Fiction</a>. I have some plans of creating a binary package for
MS-Windows with tools useful for writers based on the XML-Grammar-* work, but
this will require a lot of polishing of the code. Meanwhile, it would be
useful for people who are more tech-savvy.
</p>

<p>
I've done some work on
<a href="http://algorithms.wikia.com/wiki/Catalog_of_optimizations">the
Catalogue of (program) optimisations</a> over at the Algorithms wikia. I
should note that it is my initiative based on my call for that
in my
<a href="http://www.shlomifish.org/philosophy/computers/optimizing-code-for-speed/">Optimizing Code for Speed</a> essay, which I mostly wrote last November
(although published somewhat later).
</p>

<p>
By encouragement from someone,
<a href="http://lists.scsys.co.uk/pipermail/perl-org-patches/2009-November/000099.html">I
did some work on my script to collect mailing lists from the Perl 5 Wiki</a>,
and on normalising the format of the Perl 5 Wiki entries.
</p>

<p>
Recently, in the past day or two, all KDE applications broke on Mandriva
Cooker (Cooker is the Mandriva bleeding edge distribution) due to a Qt
problem. As a result, I had to work on my Debian "testing" partition. I
finally ran "apt-get update ; apt-get dist-upgrade" there again, and wanted to
work on my homepage. In order to do that, I need some CPAN packages. I first
tried to prepare and install a package of
<a href="http://search.cpan.org/dist/CPANPLUS-Dist-Deb/">CPANPLUS-Dist-Deb</a>
using dh-make-perl, but the tests failed, so I did not want to risk installing
it. Furthermore, the "deb" line in the POD only had an entry for Debian
"unstable" - not for Debian "testing" which is what I have.
Then I tried to install
<a href="http://search.cpan.org/dist/local-lib/">local-lib</a> from the
Debian repositories, but it wasn't there, so I followed the bootstrapping
instructions on the POD, and was able to install it on my account and install
some modules using it - enough to build my homepage.
</p>
</div>


<div class="entry" id="events-pdl-perl-mongers-meeting-and-w2foss-what-is-foss">

<!-- Tags: perl, event, hebrew, mongers, pdl, matlab, welcome, foss, w2foss, foss, open, source, free software, rehovot, weizmann institute, ori idan, szabgab
-->

<h2>2009-11-12: :   -17   "   -?"</h2>

<div dir="rtl" align="right">

<p>
         - .
</p>

<p><b>  </b></p>

<p>
 , -17  2009, 
<a href="http://szabgab.com/blog/2009/11/1257443063.html">   Rehovot.pm</a>
   
<a href="http://wiki.perl.org.il/">- </a>.
  
<a href="http://wiki.perl.org.il/index.php/Meeting_on_17_November_2009">
 </a>.
</p>

<p>
 :   , <a href="http://www.weizmann.ac.il/maps/campus3.gif">  (' 30)</a>  101  18:00-22:00
</p>

<p>
 :
</p>

<ul>

<li>
Matlab,      
</li>

<li>
<a href="http://pdl.perl.org/">PDL</a>, The Perl Data Language
</li>

<li>
-      <a href="http://padre.perlide.org/">Padre</a>  (   )
</li>

<li>
 ,   19:00-22:00        PDL   -Matlab ,   
<a href="http://sourceforge.net/apps/mediawiki/pdl/index.php?title=PDL_for_Matlab_users">PDL  Matlab</a>.
</li>

</ul>

<p>
     ,    .  .     
<a href="http://szabgab.com/contact.html"> </a>    .
</p>

<p><b>   : "    -</b></p>

<p>
   22/11/2009  18:00   
<a href="http://www.cs.tau.ac.il/telux/">   -</a>

<a href="http://welcome.foss.org.il/2009/"> "      "</a>
 "    -   ?".                -,  007    .
</p>

<p>
         ,                    .
</p>

<p>
 
<a href="http://www.shlomifish.org/w2foss-temp/w2foss-2009-what-is-foss-ori-idan-poster.odt">
()   </a>
  .
</p>

</div>

</div>


<div class="entry" id="perl-rare-gems-perl.org-revamp-and-tutorials-page">

<!-- Tags: perl, learn.perl.org, learn, begin, perl-begin, tutorials, facelift, new look, css, design, web, irc, gems, funny, humor, humour, mst, apeiron
-->

<h2>2009-11-15: Perl.org facelift , a new learn.perl.org Tutorials Page, and an IRC bit</h2>

<p>
In case you haven't heard
<a href="http://perlbuzz.com/2009/11/perlorg-gets-a-beautiful-upgrade.html">the
central *.perl.org sites got a facelift</a> and are looking much better now.
Moreover, learn.perl.org finally has
<a href="http://learn.perl.org/tutorials/">a page with links to some
high-quality and recommended online tutorials</a>, which is in turn
based on <a href="http://perl-begin.org/tutorials/">the corresponding page
from perl-begin.org</a>. I'd like to thank <a href="http://www.shadowcat.co.uk/blog/matt-s-trout/">Matt S. Trout</a> and
<a href="http://search.cpan.org/~apeiron/">apeiron</a> for giving some
commentary and/or revisions of the initial patch.
</p>

<p>
And finally, a funny IRC conversation that took place on
<a href="http://perl.net.au/wiki/Freenode_Sharp_Perl_FAQ">Freenode's #perl</a>
the other day. Enjoy!
</p>

<blockquote>
<ul>
<li><b>FreakGuard</b> icke, how to start REPL?</li>

<li><b>icke</b> FreakGuard: looked in the docs?</li>

<li><b>FreakGuard</b> icke, no.</li>

<li><b>icke</b> you got to load it from CPAN</li>

<li><b>FreakGuard</b> icke, yeah, I've installed it.</li>

<li><i>* Altreus sells FreakGuard perl docs at a reasonable price only $9.99 each</i></li>
<li><b>icke</b> perldoc Devel::REPL is the direct way to info then</li>

<li><i>* Altreus wrings his hands and cackles</i></li>
<li><b>FreakGuard</b> icke, thanks :P</li>

<li><i>* rindolf bests Altreus' bargain by 1 cent. </i></li>
<li><b>rindolf</b> Reminds me of what I learned in Game Theory.</li>

<li><i>* Altreus offers free delivery</i></li>
<li><i>* rindolf allows free download</i></li>
<li><b>rindolf</b> Of course quality &gt; price.</li>

<li><i>* rindolf offers a deluxe edition of the Perl documentation for 1,000 USD plus shipping and handling.</i></li>
<li><b>huf</b> diamond-encrusted?</li>

<li><b>rindolf</b> See http://perldoc.perl.org/ for a preview.</li>

<li><b>rindolf</b> huf: natural diamonds, too.</li>

<li><b>rindolf</b> huf: Canadian diamonds.</li>

<li><b>huf</b> well, if &lt;&gt; is natural... :)</li>

<li><b>rindolf</b> huf: heh.</li>

<li><b>rindolf</b> huf: not this kind of diamond.</li>

<li><i>* Altreus compresses if () under several million tonnes of rock for a few aeons</i></li>
<li><b>rindolf</b> I also give free spaceships - &lt;=&gt;</li>

<li><b>infrared</b> heh</li>

<li><b>rindolf</b> Diamonds are heresy! We need PEARLs!</li>

<li><b>rindolf</b> /usr/bin/PEARL</li>

<li><b>Altreus</b> f00li5h: Seems like it!</li>

<li><b>FreakGuard</b> I prefer other gems :-)</li>

<li><b>Altreus</b> I suggested to Think Geek that they should do Perl necklaces but they didn't</li>

<li><b>rindolf</b> FreakGuard: Ruby gems?</li>

<li><b>FreakGuard</b> rindolf, correct.</li>

<li><b>Altreus</b> The rare PHP</li>

<li><b>Altreus</b> Darling I got you a PHP wedding ring</li>

<li><b>Altreus</b> oh it broke</li>

<li><b>rindolf</b> Altreus: as PHP tends to.</li>

<li><i>* rindolf laughts maniacally.</i></li>
<li><b>Altreus</b> you maniac!</li>
</ul>
</blockquote>
</div>


<!--
*       (  ) 
5000    ,    (toolbox)    - 400  ,
  
  .

*   .

* -help         .

*   :
-   -perldl repl -    help -apropos   -.
- ,    Matlab killer

*        -NumPy/SciPy.

*           (   ),
       ,    
  .

*     " " ( ),     (szabgab++)  ,    .

* DLL     .

*  :
- Jamendo.
- jQuery.
- vi/vim/gvim vs. Eclipse.
    - speed.
- KDE 4.x vs. XFCE. (Mandriva vs. Ubuntu)
-
-->


<div class="entry" id="report-on-perl-israel-meeting-2009-11-07">

<!-- Tags: perl, mongers, israel, rehovot, weizmann, szabgab, bourekas, burek, open, source, matlab, pdl, perldl, meeting, report

-->

<h2>2009-11-18: "     </h2>

<div dir="rtl" align="right">

<p>
,  
<a href="http://wiki.perl.org.il/index.php/Meeting_on_17_November_2009"> 
   </a>,  MATLAB , PDL (Perl Data Language)  .
  ,    ,     ,
    (   ),    
 ,   ,   ,  , , ,
 .           , 
  . PDL    -  .
</p>

<p>
 ,     -   ,   , 
 
<a href="http://www.rail.co.il/"> </a> (
           -  !),  ,
    .        ()       .        . 
  ,      .  ,     
   .      ,     " "    ( ,  ).    
 ,            (  
  .),   .   ( , ' 30 ) 
         ,    ,       .
</p>

<p>
 <a href="http://www.linkedin.com/in/avishalom"> </a> ( 
)        ,   
  ,     .      , 
    .           
 ,       ,      
 .
</p>

<p>
          -book report  
<a href="http://remix.lessig.org/">remix
  </a>,
        .      .
</p>

<p>
                
,  / PDL.    
<a href="http://wiki.perl.org.il/index.php/Meeting_on_17_November_2009#Attendees"> </a>.   :
             . 
       .       
-5,000  ,     ,     
 -25,000 .     .     
             
   .
</p>

<p>
          (parsing)  
  "   10      .   
     ,      
(<a href="http://en.wikipedia.org/wiki/Digital_signal_processor">Digital signal processors</a>)
    ,    ,    
-C,   . -     Matlab    
          .
</p>

<p>
,      (szabgab++)  , . 
  
<a href="http://haharoni.wordpress.com/"></a>
      ,       ,
           ,   
      , . ,    (
 )        .    
 "",  ()       
 .           
              
    .
</p>

<p>
     
<a href="http://jerusalem.perl.org.il/">  </a>
    ,   .       
  (           ).
</p>

<p>
 ,           , -
       :   ,   (
   (),     .  ,  
      (closures) -  -octave:
</p>

<div dir="ltr" align="left">
<pre>
octave:4] f1 = @(x) @(y) { x+y }
f1 =

@(x) @(y) {x + y};


octave:5] f2 = f1(6)
f2 =

@(y) {x + y}

octave:6] f2(100)
ans =

{
  [1,1] =  106
}

octave:7] f2(50)
ans =

{
  [1,1] =  56
}
</pre>
</div>

<p>
 ,      ,   -REPL (
 -Read-Eval-Print-Loop) 
<a href="http://pdl.perl.org/">PDL</a>
 perldl     (      MATLAB 
  ),       -. -
     -Padre     -PDL       .     
<a href="http://strawberryperl.com/">Strawberry Perl</a>
  Padre  PDL .      Padre         
  "   .     ."     .
</p>

<p>
    20:00    -hacking session,    
 -        .      :
<a href="http://www.perlfoundation.org/perl5/index.cgi?cgi_application">CGI-Application</a>,
<a href="http://search.cpan.org/dist/CGI-Prototype/">CGI-Prototype</a>,
<a href="http://www.catalystframework.org/">The Catalyst Web Framework</a>,
JavaScript, jQuery, KDE 4.x, XFCE,
<a href="http://en.wikipedia.org/wiki/Cognitive_behavioral_therapy"> -</a>  .
</p>

<p>
   -     .      .  
 ,     .      
<a href="http://www.cs.tau.ac.il/telux/">   -</a>  .
</p>

</div>

</div>


<div class="entry" id="perl-numeric-plans-for-tests-and-test-count">

<!-- Tags: perl, tests, qa, automation, testing, alias, adam, kennedy, plan, test::count, test, count, Test-More
-->

<h2>2009-11-22: Numeric Plans for Tests and Test-Count</h2>

<p>
<a href="http://use.perl.org/~Alias/journal/39916">Adam Kennedy (Alias)
writes in use.perl.org about "the unfortunate demise of the plan."</a>. I've
read his post and all of the comments that were posted there up to now. I
agree with Adam that a numeric test plan is usually preferable to a
done_testing() one, because in one of experiences with a failing
test script (in a <a href="http://dbi.perl.org/">DBI</a>-related module), I
noticed that it generated a different number of tests depending on the
version of one of its dependencies. So only a subset of tests run in one of
the cases, and this was enough for me to realise that I should make sure that
an exact number of tests run.
</p>

<p>
Eventually, I came up with
<a href="http://search.cpan.org/dist/Test-Count/">Test-Count</a>, which
allows one to keep track of the number of tests inside a Test::More script
using a domain-specific-language embedded in comments next to the tests. This
way, one can have more faith that they have run the correct number of tests.
</p>

<p>
Personally, I found that some people take some time getting used to writing
the Test-Count annotations, but for me it's been a great boon. I do not
rule out that <tt>done_testing()</tt> has some uses or may be better in
some clear-cut cases, but since many of my tests are data-driven or use
loops or helper functions, then I always prefer to have a numeric plan
and to keep it up-to-date using Test-Count.
</p>

<p>
At the moment, Test-Count is tailored for my own needs and many important
features there may be missing. However, bug reports, feature requests and
especially patches are more than welcome.
</p>

</div>


<div class="entry" id="perl-changing-the-seldon-plan">

<!-- Tags: perl, seldon, plan, asimov, open source, programming, philosophy, essay, essays, reuse, ancient, modern, modernising
-->

<h2>2009-11-27: Changing the Seldon Plan</h2>

<p>
In <a href="http://en.wikipedia.org/wiki/Second_Foundation">Isaac
Asimov's book "Second Foundation"</a>, the second foundation are in charge
of <a href="http://en.wikipedia.org/wiki/Seldon_Plan">the Seldon Plan</a>,
the grand "psychohistory" plan for the advancement of the galaxy,
and one thing that is mentioned there is that it should by no means be
considered holy and that changing it according to the circumstances is
expected and even necessary. This mentality has an affect on us as open-source
programmers, who should do our best to remedy bad open-source code as we
find it.
</p>

<p>
Recently, in the Perl world there has been a continuous trend to shift
from
<a href="http://www.perlfoundation.org/perl5/index.cgi?ancient_perl">Ancient
Perl</a> to <a href="http://modernperlbooks.com/">Modern Perl</a>, and often
people ask for our help on Perl 5 code they found (possibly on CPAN - possibly
elsewhere) with "Ancient Perl" paradigms. That doesn't necessarily mean that
Perl 5 code is very old, because often people who wrote it didn't know
any better, and there are plenty of Perl 5 (or even Perl 4) tutorials or
books still floating around the Net teaching bad practices. As a result,
we normally tell them to either abandon or convert the code completely for
a better trusted and more modern CPAN module, or alternatively to modernise
it.
</p>

<p>
So far, so good. However, some people who've asked for us help said something
like <a
href="http://mail.pm.org/pipermail/chicago-talk/2009-October/005499.html">"I
do not consider myself capable of rewriting his module and [it] has
demonstrated robust stability over the years [so] I have
little reason to."</a>. So essentially, all the comments that we have given
on it were dismissed due to apparent lack of competency on the part of
the code's end-user, and that Ancient Perl code will still linger in use.
The link I gave is not the only place where I saw it - I also saw it in at
least another place (though I think it was on IRC).
</p>

<p>
I think that this spirit stands in opposition to the spirit of open-source
and possibly even
<a href="http://catb.org/~esr/faqs/hacker-howto.html#attitude">the Hacker
Ethos</a>. By all means, if we consider all the millions of lines of
open-source out there as the Seldon Plan which powers all the open-source
programs in use, and empowers us and end-users, then we should not
feel detrimental or afraid to change the code that we use everyday. And
people should not deploy code that they are not confident enough in changing,
modernising and adapting to their needs.
</p>

<p>
One cannot usually expect code to remain the same forever. As time progresses,
we can expect there to be code rot, features that needs to be added, tests
that need to be added, or as is often the case in Perl 5 and other languages,
paradigms that are considered to be bad and that should be changed to newer
and safer paradigms. If you're lucky, the original developer or a co-maintainer
can do that for you, but sometimes an end-user needs to stand up and volunteer
to do that.
</p>

<p>
The <a href="http://en.wikipedia.org/wiki/Open_source">open source</a> nature
of "Free and Open Source Software" permits everybody to create derivative
works of the software and distribute them. So we don't have legal
reservations from improving them and contributing our improvements to the
general public, and should not have any moral or ethical ones, either. "Hacker
sees bug. Hacker doesn't want bug. Hacker fixes bug.".
</p>

</div>


<div class="entry" id="random-stuff-2009-11-30">

<!-- Tags: vim, tip, vim tip, cpan, mirror, minicpan, rsync, perl, mozbot, mozilla, irc, Net-IRC, POE, buu, buubot
-->

<h2>2009-11-30: Random Stuff: Word Count Vim Tip, Mirroring CPAN Using rsync, and Mozbot</h2>

<p>
This is a "random stuff" entry because I'm too lazy to write separate entries
for each of the topics.
</p>

<p>
First of all the vim tip: you can do
<a href="http://vim.wikia.com/wiki/Word_count">word count in Vim</a>, by
selecting a text using "v" and then typing "g" and then "Ctrl+g". This will
display statistics on the text including word count. I always assumed it
existed in a form but didn't had to use it until recently when I wrote a scene
in <a href="http://www.shlomifish.org/humour/Blue-Rabbit-Log/">a
screenplay</a> and wanted to see how long it was. This tip can also be found at
":help word-count".
</p>

<p>
The second tip is that in order to mirror a mini-CPAN that contains only the
most recent releases using
<a href="http://en.wikipedia.org/wiki/Rsync">rsync</a> instead of minicpan's
HTTP or FTP download, one can use
<a href="http://trout.me.uk/perl/">mst's mirror.sh</a> in conjuction with
<a href="http://cpan.perl.org/SITES.html#RSYNC">the list of CPAN
rsync mirrors</a>. I needed to modify mirror.sh slightly in order to mkdir
the "work" directory which it requires. I changed:
</p>

<pre>
cd $LOCAL
</pre>

<p>
to:
</p>

<pre>
cd $LOCAL

if ! test -e "work" ; then
    mkdir "work"
fi
</pre>

<p>
Finally, a little "recent hacktivity log": at one point someone on
irc.mozilla.org asked me if I could help them with
<a href="http://www.psychoticwolf.net/firebot/">their
IRC bot called firebot</a> and yesterday I decided to take a look at its
<a href="http://www.mozilla.org/projects/mozbot/">core called "Mozbot"</a>,
and maybe try to improve it. I took a look and detected many vestiges
of
<a href="http://www.perlfoundation.org/perl5/index.cgi?ancient_perl">"Ancient
Perl"</a> there, and other anti-patterns such as long subroutines or use
of Net::IRC and decided to work on improving it.
</p>

<p>
After reading the
<a href="https://wiki.mozilla.org/Using_Mercurial_locally_with_CVS">"Using
Mercurial locally with CVS" document on the Mozilla site</a> (first hit
in a Google search for "hg cvs") and setting up
<a href="http://bitbucket.org/shlomif/mozbot-shlomif/overview/">a
"mozbot-shlomif" Mercurial repository to work on it</a>,
I submitted <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=531785">my
first patch</a> and have done more changes in the mozbot-shlomif repository.
The code is not perfect, but at least it has "use strict;", the "-w" flag
and the "-T" flag, so it could be much worse. I'd still like to move away
from Net::IRC to
<a href="http://search.cpan.org/dist/POE-Component-IRC/">POE-Component-IRC</a>
and maybe even try to port the entire Mozbot to
<a href="http://www.perlmonks.org/index.pl?node_id=154315">buu</a>'s
buubot. But it will take some time.
</p>

</div>


<div class="entry" id="reading-the-moose-manual">

<!-- Tags: moose, perl, oop, object oriented prorgamming, manual, cpan, xml, grammar, fiction
-->

<h2>2009-12-07: Studying Moose Top-Down</h2>

<p>
This is a post about <a href="http://www.iinteractive.com/moose/">Moose</a>
the post-modern Object-Oriented Programming system for Perl 5. Until a few
days ago, I've learnt most of what I knew about Moose by reading some
presentations about it and experimenting. However, a few days ago, I've decided
that maybe there was a more-Moosey way of doing the following pattern that
I've been doing in my classes:
</p>

<pre>
# Super-base class.
sub new
{
    my $class = shift;

    my $self = {};
    bless $self, $class;

    $self-&gt;_init(@_);

    return $self;
}

# In derived classes:
sub _init
{
    my $self = shift;
    my $args = shift;

    $self-&gt;_init($args);
    # Initialise from $args.

    return;
}
</pre>

<p>
Turns out there was - you can use the <tt>BUILD</tt> method to provide
initialisation for each part of the class hierarchy (it gets calls in
a walk-method style - not only for the most qualified sub-class). Only in
my case in my en-Moosification of
<a href="http://www.shlomifish.org/open-source/projects/XML-Grammar/Fiction/">XML-Grammar-Fiction</a>,
I only needed a <tt>'default'</tt> callback to the class members, and to
make them <tt>'lazy'</tt> by default.
</p>

<p>
This made me conclude that I have to learn Moose top-down to become more
familiar with it. So I started reading the chapters of
<a href="http://search.cpan.org/perldoc?Moose::Manual">Moose::Manual</a>
and have already learned that I could encapsulate <tt>push()</tt> and
<tt>shift()</tt> out of an array ref using
<a href="http://search.cpan.org/perldoc?Moose::Manual::Delegation">its
delegation</a>, which also proved useful in XML-Grammar-Fiction. After I'm
done with the manual, I'm planning to go over the Moose cookbook.
</p>

<p>
Hopefully, this will give me a lot of ways to avoid repetitive code in my
CPAN modules. Of course, now, I'm facing the classic dilemma of whether
to make something a base class or a role decisions, decisions.
</p>

</div>

<!--
    Recent hacktivity:
    + - Test-Run.
        + - Moosification.
        + - KISS
    + - Moose Manual and Cookbook.
    + - Ruby program.
    + - Perl mailing lists list
    + - Mozbot
    + - xUnit Design Patterns.
        + - the failing tests should immediately point the problem.
    - PHP meeting
        - Eclipse.
        - JavaScript vs. PHP.
        -
-->

<div class="entry" id="recent-hacktivity-2009-12-11">

<!-- Tags: perl, freecell, solver, fc-solve, recent, hacktivity, moose, manual, KISS, test, run, qa, ruby, mozbot, mozilla, irc, php, javascript, js
-->

<h2>2009-12-11: Recent Hacktivity</h2>

<p>
Happy Chanukah, everyone! Lately, I've had little energy for blogging, and
have been coding a lot.
I suppose that's a good thing, but I'd like to keep up with my
<a href="http://ironman.enlightenedperl.org/">Planet Perl Iron Man</a>
statistics. So here we go - another recent hacktivity report.
</p>

<p>
As I said, I've went over the
<a href="http://search.cpan.org/perldoc?Moose::Manual">Moose::Manual</a>
and learned many nice new tricks to make my Moose-using Perl modules more
Moosey. I've implemented some of them in XML-Grammar-Fiction and also
on <a href="http://web-cpan.berlios.de/modules/Test-Run/">Test-Run</a>,
which is a much more massive codebase.
</p>

<p>
While I worked on Test-Run I noticed
that some of the Test-Run-CmdLine tests failed, and realised the problem
was a MooseX-Getopt bug which I was able to supply a test for, and which
involved a very short fix. While I was in the neighbourhood, I also contributed
a test for handling the Getopt::Long <tt>no_ignore_case</tt> which I used as
well, and the results were released in MooseX-Getopt-0.26 by
<a href="http://search.cpan.org/~bobtfish/">Tomas Doran</a>.
</p>

<p>
I also ran into an undesirable behaviour with MooseX-StrictConstructor which
I was able to workaround with some help from the
<a href="irc://irc.perl.org/#moose">#moose</a> people: when using it inside
a class which has a base class, one needs to do
<tt>BEGIN { extends ("BaseClass"); }</tt> instead of just
<tt>extends("BaseClass");</tt>. I didn't understand why, but it just works.
</p>

<p>
I'm now reading the chapters from the Moose Cookbook, which will take
me some time.
</p>

<p>
After that, I finally
<a href="http://lists.scsys.co.uk/pipermail/perl-org-patches/2009-December/000126.html">did
the work I promised on the list of Perl mailing lists</a>. There's still a lot
to fill in, but the YAML/DBI foundation is in place.
</p>

<p>
I worked on a Ruby program which I originally started writing in order to
learn Ruby. I've added some tests, and refactored it. I've got bitten by a
case where I overrided a variable called <tt>yx</tt> as a parameter to a
closure and it got clobbered afterwards. This is one reason why I prefer
Perl 5's (and Scheme's)
<a href="http://perl.plover.com/FAQs/Namespaces.html">explicit lexical
scoping using "my"</a>, which provides better protection against such
mishaps.
</p>

<p>
I continued to work on
<a href="http://www.mozilla.org/projects/mozbot/">Mozbot</a>, but
my original patch was not applied yet,
so I don't know if there's any interest in further work on the internals
of the robot.
</p>

<p>
I've made some progress with reading the book
<a href="http://www.amazon.com/xUnit-Test-Patterns-Refactoring-Code/dp/0131495054">xUnit
Test Patterns: Refactoring Test Code</a>. One of the insights I gained so
far was that the failed tests should point what became broken without too much
debugging. The book is off to a slow start with many overviews and
introductions, which is kinda annoying, though.
</p>

<p>
Finally, I attended a meeting of PHP-Israel where there were a lot of
<a href="http://en.wikipedia.org/wiki/B%C3%B6rek">Bourekas</a>,
and were someone gave a presentation about PHP Unit and writing unit tests.
There was a discussion of whether we should only test the external behaviour
of a class, or also its protected/private methods, and if the latter - how
(there was some way to do it in PHP). One thing I noticed was that some
of the PHPers used Eclipse for their development, and there was some discussion
about how to get it to behave properly on Linux.
</p>

<p>
A few of the PHPers also thought that they would love to use JavaScript on
the server. It's funny, but as a Perl 5 programmer (with experience in many
other languages) I look at JavaScript and see many horrible aspects,
and missing features. However, the PHPers seem to think it's better than PHP.
Maybe it's <a href="http://c2.com/cgi/wiki?BlubParadox">the Blub Paradox</a>.
</p>

</div>


<div class="entry" id="sharp-perl-fortune-collection">

<!-- Tags: perl, programming, freenode, irc, channels, fortune, file, xml, html, cookies, humour, funny
-->

<h2>2009-12-16: #perl and ##programming fortune collections</h2>

<p>
I've split
<a href="http://www.shlomifish.org/humour/fortunes/sharp-perl.html">a
separate file</a> for fortune cookies made out of
<a href="irc://irc.freenode.net/#perl">Freenode #perl</a> conversations,
and
<a href="http://www.shlomifish.org/humour/fortunes/sharp-programming.html">
another one for those taken from ##programming</a>. The motivation for them
was to make my "shlomif" collection smaller and more managable, but at
least it's now in the same place. I should note that you can find the XML
version of the file by changing URL's the to <tt>.xml</tt> and the text
version by changing it to a blank one. (Memo to self: link to them from
the HTML page). The
<a href="http://www.shlomifish.org/humour/fortunes/">main page of the
fortunes</a> contains more information.
</p>

<p>
Enjoy!
</p>

</div>


<div class="entry" id="speeding-up-gnu-make-using-the-r-flag">

<!-- Tags: make, gnu, gnu make, gmake, tip, linux, foss, open, source, linux tip, build, compilation, optimisation, optimization, performance
-->

<h2>2009-12-19: GNU Make Tip - Speeding Up By Using the -r / --no-built-rules Flag</h2>

<p>
By default, when <a href="http://www.gnu.org/software/make/">GNU make</a>
runs makefiles it keeps looking for many default targets like ",v" and a
lot of other junk. If your makefile has no default targets (especially if
it's a makefile for a non-C/C++ project), you can speed things up
considerably by saying "make -r $TARGET" or "make --no-built-rules $TARGET"
instead of the default target.
</p>

<p>
Here is a comparison of its performance on my homepage, after it was completely
built:
</p>

<pre>
shlomi[homepage]:$trunk$ time make
make: Nothing to be done for `all'.
2.03user 0.07system 0:02.21elapsed 94%CPU (0avgtext+0avgdata 19344maxresident)k
0inputs+0outputs (0major+2025minor)pagefaults 0swaps
shlomi[homepage]:$trunk$ time make -r
make: Nothing to be done for `all'.
0.13user 0.03system 0:00.18elapsed 89%CPU (0avgtext+0avgdata 12256maxresident)k
0inputs+0outputs (0major+1582minor)pagefaults 0swaps
shlomi[homepage]:$trunk$
</pre>

<p>
Very significant!
</p>

<p>
In order to avoid specifying it times and again you can make it the default
by setting the <tt>MAKEFLAGS</tt> environment variable (which isn't
documented too well) to "-r".
</p>

<p>
How I discovered the tip? Well, I occasionally used "make -d" for debugging
my makefiles, and noticed it was trying to apply a lot of implicit targets.
Having understood that they may be very time consuming, I ran "man make" to
see if there was a way to avoid running them. And lo and behold, they made
running make on my homepage much faster.
</p>

</div>


<div class="entry" id="using-pyc-py-bytecode-for-security">

<!-- Tags: python, perl, bytecode, pyc, py, files, protection, security, obfuscation, java, dot-net, military, obscurity, trust, open, source
-->

<h2>2009-12-21: Why You Should Not Use Python .pyc Files for Hiding Source Code</h2>

<p>
A few months back, I've spoken to a Python programmer (who used to program
in Perl) and among the many things we discussed, he said that one feature
he appreciated about CPython was that you could take the Python .pyc files,
which contains compiled Python bytecode, and ship them without the .py source
files in order to hide the source code from people he's distributing it to,
so it will be harder for them to reverse-engineer and study the code.
</p>

<p>
I told him that with a symbolic language such as Python, such .pyc files
do not provide adequate "protection" as they contain the names of identifiers
and other detailed information on the code. At one point, he even thought
that they are compiled C code, but I told him CPython can work pretty well
on machines without any kind of C compiler.
</p>

<p>
On Freenode's #python, people seemed to have agree with me (I am rindolf):
</p>

<pre>
&lt;rindolf&gt;  Another question: can I depend on compiled python
bytecode (.pyc) for "hiding" code? Doesn't it still contain all the
identifiers verbatim?
&lt;lvh&gt;  rindolf: No. You cannot hide code, stop trying.
&lt;kniht&gt; rindolf: why are you trying to hide code?
&lt;DeadPanda&gt;  rindolf, check the new IEEE Security and Privacy (if you can),
you can't hide Python code
&lt;DeadPanda&gt;     rindolf, unfortunately, there's nothing you can do.
Otoh, you can probably do the bare minimum and make your boss happy.
&lt;kniht&gt; rindolf: because these final users are liars and cheats? if that's the
business plan, not sure what I can say
</pre>

<p>
Python knows the identifiers of the variables at run-time. For example:
</p>

<pre>
shlomi:~$ cat exec-test.py
#!/usr/bin/env python

import sys

a = "I am a"
b = "I'm b"

exec(sys.stdin.readline())
shlomi:~$ python exec-test.py
print a
I am a
shlomi:~$ python exec-test.py
print b
I'm b
$ python exec-test.py
print a.upper(), b
I AM A I'm b
shlomi:~$
</pre>

<p>
Even if you're not using exec(), eval() or friends, python still has to
accomodate for them being potentially used and as a result keeps this
information in the bytecode. My partner said he doesn't use eval and friends
because they are "a bad programming practice" and as a result thought he
was safe. However, that's not the case.
</p>

<p>
He told his clients that Python bytecode was only marginally worse than
Java and .NET bytecode which "are used to protect the code of highly sensitive
IDF and US millitary applications - bytecode is sufficient protection."
However, according to <a href="http://developers.slashdot.org/article.pl?sid=05/06/28/2319213&amp;tid=108">this Slashdot thread</a> "java is [a] cake to
reverse engineer".
</p>

<p>
So it's not adequate protection, and Python is even substantially less than
that.
</p>

<p>
I next suggested he may opt to use obfuscators to obfuscate his code, and he
said that:
</p>

<blockquote>
<p>
They can't sue me, they'll have to sue whoever reverse engineered the code - I
believe it's illegal to reverse engineer commercial compiled bytecode - it
isn't however to reverse engineer obfuscated code far as I know -- it's not a
technical issue, it's a legal/business one.
</p>
</blockquote>

<p>
I don't understand the distinction between obfuscated code and bytecode
in this case. And like I told him "Any sufficiently advanced obfuscation is
indistinguishable from bytecode.".
</p>

<p>
Talking with a different Python programmer, he told me that .pyc were
considered adequate "protection" for them, despite the fact there are
several .pyc disassemblers and decompilers present.
</p>

<p>
In short, depending on .pyc's for protecting your source code, only provides
fig-leaf protection. So it's not a substantial advantage of CPython over
perl 5, which doesn't cache the bytecode in ".pmc" files by default. (even
though it has a bytecode that it uses internally in memory).
</p>

<p>
As a postscript I should note that sometimes after that my conversation partner
said that to me:
</p>

<blockquote>
<p>
BTW, I looked more info python bytcode and you're right - you can get something
almost identical to the original. It still requires some tikering but there are
commercial solutions for decompilation that produce something pretty close to
the original for 5 euro per 5kb for personal code or 100 euros per file for
commercial code
</p>
</blockquote>

<p>

</p>

</div>


<div class="entry" id="perl-file-traversal-c-sharp-and-apeironphone">

<!-- Tags: perl directory, traversal, file-find-object, file, find, object, rosetta code, ffo, c-sharp, dot-net, mono, apeiron phone, irc, joke, humour, humor, funny
-->

<h2>2009-12-26: Directory Tree Traversal In Various Languages, C# and a funny IRC conversation</h2>

<p>
While looking for some sample C#/.NET code (more about it below) and doing a
search I stumbled upon
<a href="http://rosettacode.org/wiki/Walk_Directory_Tree">this
page in Rosetta Code that contains directory tree traversal codes in various
languages</a>. I've been meaning to do a comparative blog post comparing
File::Find, File-Find-Object and File-Next to directory tree walking APIs
in other languages, but now it will be easier. Of course, the page is not
perfect - for Perl, it only gives an example using File::Find (guess I'll have
to add the other ones) and in many cases (such as C) it gives a custom,
recursive solution instead of using an API such as libfts.
</p>

<p>
Still it's a pretty cool page. Now I fear I'll get the feeling that "it'
s already been done and so I shouldn't do it" and so won't write that post.
</p>

<p>
The reason I was looking for C# information was that one of my Perl programs
ran too slowly. It was written to find a good heuristic for
<a href="http://fc-solve.berlios.de/">Freecell Solver</a>, and used
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/1026">a
menial algorithm</a>: check the most optimal solution for the first iteration
with starting quotas between 100 and 1,000; Then using the result, check them
for the second iteration, etc. The Perl program used
<a href="http://pdl.perl.org/">PDL (the Perl Data Language)</a>, but: 1. It
was wrapped in a lot of Perl OO code and 2. it had a lot of pure-Perl
algorithmic code that I did not figure out how to properly PDLise yet. As
a result, I was looking for a faster language to port it to.
</p>

<p>
I originally considered using C, which I know pretty well, but then thought
about trying out C#/.NET using its
<a href="http://www.mono-project.com/">open-source Mono implementation</a>.
At the end I spent a day and a bit of the evening beforehand writing
409 SLOCs of C# code, and 113 SLOCs of testing Perl code for the task
(according
to <a href="http://www.dwheeler.com/sloccount/">SLOCCount by David
A. Wheeler</a>) and that was after being delayed due to many web searches
to find out how to do a lot of stuff. The reason I wrote the testing code
in Perl was because I lacked the energy to learn NUnit, but now that I think
of it it may be useful to test the original Perl version (which is still
of some utility to me) too.
</p>

<p>
At the end of the day, the C# code worked and worked well. Mono programs
start up quickly, and the C# code I wrote ran much more quickly than the
Perl one, which saved me the time of waiting for so long. I think I like C#
so far. It seems much nicer than Java, and with
less protocols and some syntax niceties and useful APIs and it also
starts up much more quickly. I still find that writing Perl 5 code is quicker,
but if your Perl/CPython/CRuby/etc. code is under-performant, then C# and
.NET would be viable choices.
</p>

<p>
(I should note that I've still barely scratched the surface here. A
single-threaded 409-line-strong command-line program is hardly indicative of
any possible advantages or alterantively pitfalls you may run into with
C# and .NET. But so far what I tried worked and nicely.)
</p>

<p>
And finally, a funny IRC conversation. It's been a while since there was
something on Freenode's #perl that I found really funny, but now the wait is
over:
</p>

<ul>
<li><b>Enl</b> apeiron: because I write client side (Provider) which sends push messages to the phone and checks for new mail in perl</li>

<li><b>rindolf</b> Enl: a cellphone?</li>

<li><b>apeiron</b> No, a rotary POTS phone that's capable of receiving email, rindolf.</li>

<li><b>Enl</b> rindolf: iphone, yep</li>

<li><b>rindolf</b> apeiron: :-) apeiron++</li>

<li><b>rindolf</b> apeiron: I want a phone like that!</li>

<li><b>rindolf</b> apeiron: do you sell them?</li>

<li><b>apeiron</b> rindolf, Yes, and I have some oceanfront property for you, too.</li>

<li><b>rindolf</b> apeiron: would you accept some of my copious gold bars in return?</li>

<li><b>apeiron</b> rindolf, No. I only deal in Latinum!</li>

<li><b>rindolf</b> apeiron: Latinum.</li>

<li><b>rindolf</b> apeiron: gold-pressed Latinum?</li>

<li><b>apeiron</b> yes.</li>

<li><b>rindolf</b> apeiron: I only have silver-pressed Latinum.</li>

<li><b>Enl</b> rindolf: get an iPhone, lol</li>

<li><b>rindolf</b> apeiron: would you accept LeoNerd and nanonyme as substitutes ? You can sell them for mucho Latinum.</li>

<li><b>apeiron</b> heh</li>

<li><b>rindolf</b> Enl: iPhones are worthless.</li>

<li><i>* rindolf conspires to steal the ApeironPhones.</i></li>
<li><b>rindolf</b> I didn't say I was honest.</li>

<li><i>* apeiron jealously guards his G1</i></li>
<li><b>Enl</b> rindolf: now really</li>

<li><b>rindolf</b> Enl: you should get an ApeironPhone too.</li>

<li><b>rindolf</b> Enl: chicks love it.</li>

<li><b>apeiron</b> what</li>

<li><b>Enl</b> rindolf: pff, chicks dont matter</li>

<li><b>rindolf</b> I would kill for an ApeironPhone!</li>

<li><b>Su-Shee</b> ahaem?</li>

<li><i>* rindolf kills Su-Shee and takes her ApeironPhone.</i></li>
<li><b>apeiron</b> ...</li>

<li><b>apeiron</b> wtf.</li>

<li><b>go|dfish</b> hahaha</li>

<li><i>* rindolf uses his RindolfMindReading to see who else has an ApeironPhone.</i></li>

<li><b>apeiron</b> Put down the acid, Shlomi. o.o</li>

<li><b>huf</b> like that'll help</li>

<li><b>huf</b> he's still got ~8 hrs on it</li>

<li><b>Su-Shee</b> rindolf: I have an apeiron-phone?</li>

<li><b>Su-Shee</b> where did buu go anyway?</li>

<li><b>rindolf</b> Su-Shee: you had one.</li>

<li><b>rindolf</b> Su-Shee: before you died.</li>
</ul>

<p>
Hope you enjoyed this entry.
</p>

</div>


<div class="entry" id="kde-4-tip-kmail-right-align-text">

<!-- Tags: tip, tech, tech tip, kde, 4, qt, kmail, kopete, right, align, rtl, bidi, hebrew, arabic
-->

<h2>2009-12-29: KDE 4 Tip for KMail, Kopete, etc.: Right-aligning Text</h2>

<p>
For a long time, I've been bothered by the fact that on the Linux/Unix
KDE 4 desktop on applications such as
<a href="http://userbase.kde.org/Kmail">KMail</a>,
and <a href="http://kopete.kde.org/">Kopete</a>, the Hebrew text was
left-aligned. I expected it to be right-aligned when it encounters
a leading right-to-left text, like it was on KDE 3, or now is the case
in Kate (the KDE text editor). However, there is a way to align the text
to the right for display.
</p>

<p>
To do so, press Right-Ctrl and Right-Shift on the keyboard (possibly while
selecting the text). Like in Windows. It's much better in KMail than in Kopete,
where you have to right-align the text this way after every message. But at
least it makes life with KMail much more bearable. And please try to
reproduce and comment on my
<a href="https://bugs.kde.org/show_bug.cgi?id=215397">"Hebrew
Messages are Displayed with Jumpy Margins" bug in KMail</a>.
</p>

<p>
Cheers and a happy new calendar year.
</p>

</div>


<div class="entry" id="vim-tip-find-next-non-matching-line">

<!-- Tags: vim, tip, tech, vim tip, tech tip, perl, find, next, matching, line, regex, regular, expression
-->

<h2>2009-12-30: Vim Tip: Finding the First Non-Matching Line from the Cursor</h2>

<p>
For a long time I've been viewing and editing vim text files, for example
those of the UNIX find output or of archive contents, that contained many
consecutive lines of similar data. What I wanted to do is find the line where
these consecutive data end where they no longer end. Among the workarounds
I tried was jump to the end of the file (using <tt>G</tt>) and then search
backwards for the last matching line (which may not be very reliable). But
a few days ago I decided that I had enough and sought a better way, and
I found one.
</p>

<p>
You can do it using a negated pattern. If for example you enter
<tt>/ home\/shlomi\/\(Arcs\/\)\@!</tt> you will find the first line that
contains "home/shlomi" that is not followed by "home/shlomi/Arcs/".
For information see
<a href="http://vimdoc.sourceforge.net/htmldoc/pattern.html#/\@!"><tt>:help \@!</tt></a>.
</p>

</div>


<div class="entry" id="cygwin-du-for-analysing-the-C-capacity">

<!-- Tags: perl, du, unix, cygwin, windows, disk, capacity, analysis
-->

<h2>2009-12-31: Cygwin and Perl Save the Day!</h2>

<p>
In my house, we have a Windows XP desktop computer that serves the family
(while I'm normally using my Linux desktop machine.). A few days ago my father
complained that drive C:\ there, which contains all the programs is almost
completely occupied, and said we need to remove programs from it. Now this
drive is roughly 45 GB in size, so it seemed unlikely to me that it became
entirely full because of the executables.
</p>

<p>
I decided to investigate. I switched to my account, started a
<a href="http://www.cygwin.com/">cygwin</a> shell,
and ran <tt>\du . &gt; ~/du.txt</tt> from the C:\. What du does is report the
size of every directory starting from the input path recursively. Then I
ran <a
href="http://www.shlomifish.org/open-source/bits.html#du-output-analyser">my
du-output-analyser written in Perl to analyse the results</a>, and eventually
found out that 20,000,000 (20 million) 1 KB blocks are being occupied by a
directory containing photos. Then I sent a report for my father with my
findings.
</p>

<p>
This just goes to show how much people who are not familiar with the UNIX
command line and with programming are missing and are much more helpless
than the more clueful UNIX power-users.
</p>

</div>


<div class="entry" id="two-legal-matters-acta-and-software-patents-in-israel">

<!-- Tags: acta, software, patents, israel, legal, news
-->

<h2>2010-01-01: Legal: ACTA and Software Patents in Israel</h2>

<p>
This post is about two legal matters. The first is about
<a href="http://en.wikipedia.org/wiki/Anti-Counterfeiting_Trade_Agreement">ACTA,
the so-called "Anti-Counterfeiting Trade Agreement"</a>, which is a trade
agreement that aims to criminalise a lot of the openness of the Internet
under the guise of fighting counterfeited goods.
Michael Geist has <a href="http://www.michaelgeist.ca/content/view/4510/125/">an
analysis of the provisions of ACTA</a> and
<a href="http://www.michaelgeist.ca/tags/anti-counterfeiting+trade+agreement">tracks
its progress</a>. This is worrying and one should better take a look.
</p>

<p>
The other issue is <a href="http://hamakor.org.il/pipermail/discussions/2009-December/000907.html">Software patents in Israel</a>
(see <a href="http://en.swpat.org/wiki/Israel">"Fight Software Patents"'s wiki
entry about Israel</a> and <a href="http://www.justice.gov.il/MOJHeb/RashamHaptentim/News/kol+kore.htm">the official call for opinions on the Israel
Justice ministry site</a>). I started preparing
<a href="http://www.shlomifish.org/israeli-soft-patents-temp-j4y8u3/">my
own statement document</a>, which is still incomplete and there's
<a href="http://hamakor.org.il/pipermail/discussions/2009-December/000909.html">a letter that Jonathan Klinger (attorney in law) has prepared)</a>. Hope
we can stop this madness.
</p>

<p>
Happy new civil year!
</p>

</div>

<div class="entry" id="telfoss-meeting-2010-01-17-announcement">

<!-- Tags: telux, telfoss, perl, moose, meeting, announcement, foss, linux, israel, open source, activities, tel aviv, foss, mobile, phones, cellphones
-->

<h2>2010-01-03:
 ---: Moose  -   </h2>

<div dir="rtl" align="right">

<p>
<a href="http://www.cs.tau.ac.il/telux/">   - ()</a>
    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_17_January_2010"> 
  (Sawyer)  "Moose,       ()"</a>.
   , 17  2010,  18:00 (     ),
 , ' 007     (     )   .  ,    ,  
<a href="http://www.cs.tau.ac.il/telux/"></a>
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_17_January_2010"></a>.
       .
</p>

<p>
<a href="http://moose.perl.org/">Moose</a>
   - -   5.  
    ( )    6 
   ,        
   5. Moose    -OOP   
  6, Smalltalk, , , ', OCaml   
   - 5 .
</p>

<p>
      .     ,  ,
   .    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">
       </a>  -.
</p>

<p>
          - .     ,       ,   .
</p>

</div>

</div>


<div class="entry" id="telfoss-meeting-2010-01-17-announcement-eng">

<!-- Tags: telux, telfoss, perl, moose, meeting, announcement, foss, linux, israel, open source, activities, tel aviv
-->

<h2>2010-01-05: Next TelFOSS Meeting: Moose, the Perl OOP System on 17-January-2009</h2>


<p>
The <a href="http://www.cs.tau.ac.il/telux/">Tel Aviv Open Source Club</a>
will host <a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_17_January_2010">the talk "Moose, the Perl OOP System" for beginners</a> by
Yaron Meiry (Sawyer) on
Sunday, 17-January-2009,  at 18:00 (note the change of time since last
year) in Tel Aviv University, Holcblat Hall No. 007 in the corridor of the
exact sciences building (note the change of place from last year). Further
details, maps for arrival, etc. can be found on
<a href="http://www.cs.tau.ac.il/telux/">the web-site</a>
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_17_January_2010">and in the Wiki</a>.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a href="http://www.shlomifish.org/me/contact-me/">contact the organiser</a>.
</p>

<p><b>Abstract</b></p>

<p>
<a href="http://moose.perl.org/">Moose</a> is a post-modern Object-Oriented
Programming system for Perl 5. It was written since its originator (Stevan
Little) was jealous of the capabilities that Perl 6 provided in regards to OOP,
and so instead of switching to Ruby, he worked on developing a similar system
for Perl 5. Moose drew inspiration from the Object Oriented Programming
capabilities of many languages such as Perl 6, Smalltalk, Common Lisp (CLOS),
Ruby, Java, OCaml and other languages, while remaining faithful to its Perl 5
roots.
</p>

<p><b>About the Lecturer</b></p>

<p>
Yaron Meiry is a systems' administrator and a Perl developer. He gives talks
about open source, free software, security and programming standards. Yaron
has previousl given the
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">presentation
    about red flags in programming of very high languages</a> in
the Tel Aviv Club.
</p>

<hr />

<p>
We are always looking for people who will volunteer to give presentations on
various topic that are related to open source code and to computers. In case
you are interested to give a talk, or that you have a suggestion for a talk
that interests you, we'll be happy to hear from you.
</p>

</div>


<div class="entry" id="bzr-is-dog-slow-and-sucks">

<!-- Tags: bzr, rant, slowness, slow, version, control, linux, open, source, dazjorz, sjors, subversion, svn, inkscape, emacs, canonical, ubuntu
-->

<h2>2010-01-07: bzr is Dog-Slow and Generally Sucks</h2>

<p>
<a href="http://en.wikipedia.org/wiki/Bazaar_%28software%29">The
Bzr version control system (Bazaar)</a> is a version control system from
Canonical Ltd. (the parent company behind the Ubuntu Linux distribution). While
being open-source, it sucks royally and this is a blog post about this.
</p>

<p>
First of all it is excruciatingly slow. Branching <a href="http://burtonini.com/bzr/postr/postr.dev">postr.dev</a> (which is a bzr branch of
<a href="http://burtonini.com/blog/computers/postr">the very small
postr project</a> takes 2:48 minutes. And that's not all:
</p>

<pre>
shlomi:~/Download/unpack/net/www/TEMP$ cd postr.dev/
shlomi:~/Download/unpack/net/www/TEMP/postr.dev$ du -cs *
4.0K    AUTHORS
20K     COPYING
80K     data
4.0K    nautilus
20K     po
4.0K    postr
4.0K    postr.doap
4.0K    README
4.0K    setup.py
256K    src
4.0K    TODO
404K    total
shlomi:~/Download/unpack/net/www/TEMP/postr.dev$ echo "Hello" &gt;&gt; postr
shlomi:~/Download/unpack/net/www/TEMP/postr.dev$ time bzr di
=== modified file 'postr'
--- postr       2007-07-19 17:57:09 +0000
+++ postr       2010-01-07 18:00:06 +0000
@@ -42,3 +42,4 @@
     for url in sys.argv[1:]:
         p.add_image_filename(url)
     reactor.run()
+Hello

Command exited with non-zero status 1
1.47user 0.08system 0:01.69elapsed 92%CPU (0avgtext+0avgdata 60080maxresident)k
288inputs+8outputs (0major+5673minor)pagefaults 0swaps
shlomi:~/Download/unpack/net/www/TEMP/postr.dev$ time bzr di
=== modified file 'postr'
--- postr       2007-07-19 17:57:09 +0000
+++ postr       2010-01-07 18:00:06 +0000
@@ -42,3 +42,4 @@
     for url in sys.argv[1:]:
         p.add_image_filename(url)
     reactor.run()
+Hello

Command exited with non-zero status 1
1.47user 0.07system 0:01.61elapsed 95%CPU (0avgtext+0avgdata 60096maxresident)k
0inputs+0outputs (0major+5672minor)pagefaults 0swaps
</pre>

<p>
So a simple "bzr diff" command takes over 1.6 seconds.
</p>

<p>
I reported <a href="https://bugs.launchpad.net/inkscape/+bug/498481">a bug
in inkscape - "bzr branch lp:inkscape is very slow and emits errors and leaves
a broken local repository after exit"</a> It took bzr 3 minutes to try and
checkout the Launchpad's Inkscape branch, and it finished with an error and
left the repository in an unsuable state. I tried it on my Debian Testing
VM and ended up with the same result.
</p>

<p>
To quote <a href="http://dazjorz.com/">Sjors</a>: "Bzr is slower than
Subversion in combination with Sourceforge." (and that says a lot).
</p>

<p>
Recently, <a href="http://news.slashdot.org/story/09/12/28/0057231/GNU-Emacs-Switches-From-CVS-To-Bazaar">GNU
Emacs switched to Bzr</a>. Now the question is how many decades one will have
to wait to "bzr branch" its main repository.
</p>

<p>
Cheers!
</p>

</div>


<div class="entry" id="libtap-1.02-was-released">

<!-- Tags: libtap, tap, perl, testing, qa, test, anything, protocol, new, release, c
-->

<h2>2010-01-08: libtap-1.02 Was Released</h2>

<p>
libtap is a C library to implement the <a href="http://testanything.org/">Test
Anything Protocol (TAP)</a>, which is used by the test suites of perl 5,
CPAN modules and other programs. libtap allows one to write C code that can
be analysed by TAP harnesses such as <a href="http://web-cpan.berlios.de/modules/Test-Run/">Test-Run</a>.
</p>

<p>
I started maintaining Nik Clayton's libtap, which he seems to have abandoned
<a href="http://www.shlomifish.org/open-source/projects/libtap/">on my
homepage</a>.
</p>

<p>
There's also <a href="http://svn.berlios.de/svnroot/repos/web-cpan/libtap/">a
Subversion repository</a>.
</p>

<p>
Reading from the NEWS file:
</p>

<blockquote>
<p><b>tap-1.02:</b></p>

<ol>

<li>
Add the COPYING file.
</li>

<li>
Now disabling the thread-safety by default (in order to have it add
<tt>-DLIBTAP_ENABLE_BROKEN_THREAD_SAFE</tt> .
</li>

<li>
Changed configure.in to configure.ac.
</li>

</ol>

</blockquote>

</div>

<div class="entry" id="black-hole-solver-0.0.1">

<!-- Tags: perl, python, solitaire, patience, game, games, solver, solvers, automated, cards, black, hole, david parlett, pysol, PySolFC, open, source, mitl, fun, fun with perl
-->

<h2>2010-01-11: New Solver for "Black Hole" Solitaire in Perl</h2>

<p>
I wrote
<a href="http://www.shlomifish.org/open-source/projects/black-hole-solitaire-solver/">a
new solver for the solitaire "Black Hole"</a>. Here's the
complete story:
</p>

<p>
Yesterday, I was going to play a game on
<a href="http://www.brainbashers.com/">Brain Bashers</a> when I
remembered the Penguin solitaire variant, which is similar to Freecell and
which I wanted to cover on the Cards Wikia. So I did a Google search for
"penguin solitaire" and saw it had <a href="http://en.wikipedia.org/wiki/Penguin_%28solitaire%29">a page on the wikipedia</a>.
</p>

<p>
There I saw that it was invented by <a href="http://en.wikipedia.org/wiki/David_Parlett">David Parlett</a> and I saw there that he also
invented
<a href="http://en.wikipedia.org/wiki/Black_Hole_%28solitaire%29">a solitaire called "Black Hole"</a>
</p>

<p>
So I looked for it in <a href="http://pysolfc.sourceforge.net/">PySolFC</a>,
read the instructions there and started to play. The game involves putting a
card that is one above or below the foundation (wrapping from kings to aces).
I noticed that there wasn't any over-populated talon or something like that
there, which meant that I could probably build a DFS-based solver for it. So I
set out to see if it was possible.
</p>

<p>
The first thing I did was to adapt my PySol/PySolFC game generator to generate
the initial board of the PySolFC deals. This turned out to be a very
complicated and frustrating task for me, because I had to understand what's
going on with the code. But after a lot of playing with it, I was able to get
it to generate the initial deals. The changes for that are in the Freecell
Solver trunk now.
</p>

<p>
Then I started working on the solver. I decided to write it in Perl 5 because
it's a good prototyping language and I know it well. When writing it, I
heavily optimised for speed and low memory consumption by using bit fields (
see <a href="http://perldoc.perl.org/functions/vec.html">the
vec() function</a> ) and a gigantic hash lookup.
</p>

<p>
Then, after it was written, came the moment of truth: I ran it on the board
and it reported success. Great! But what's the solution? So I added some
solution tracing logic, to output the cards that should be moved. Then I was
able to play it and the game was solved. Yay!
</p>

<p>
I tried it on another game and it also worked. Then I ran it on the first few
games. Game #1 was reported as unsolvable, Game #2 was solved after a while,
and Game #3 consumed over 15% of my RAM and then was solved.
</p>

<p>
So it seemed to be working nicely. Today I wrapped the code inside its own
CPAN package and prepared a nice app-in-a-module and a script for it.
he solver's code is made available under the permissive MIT/X11 licence -
share and enjoy. And as I mentioned before
<a href="http://www.shlomifish.org/open-source/projects/black-hole-solitaire-solver/">here
is its home-page</a>.
</p>

</div>


<div class="entry" id="quest-for-a-good-desktop-env">

<!-- Tags: window, manager, desktop, environment, stacking, tiling, wallpaper, virtual, desktop, workspace, kde, 4, xfce, icewm, x, linux, unix, x11, windows
-->

<h2>2010-01-18: The Quest for a Good Window Manager / Desktop Environment</h2>

<p>
I'm using Linux (Mandriva Cooker) and have been routinely starting many
window managers and desktop environments as the need arises. Lately, I've been
working a lot with KDE 4 and I happen to agree with
<a href="http://www.osnews.com/story/22662/Your_KDE4_Experiences">OSNews.com's
assertion that it is slow, sluggish, and has frequent random crashes</a>. I'd
like to move to something more usable until the KDE 4 programmers get their
act together. Now, I've traditionally used
<a href="http://www.icewm.org/">IceWM</a> but it no longer cuts it for me
because it does not have a different wallpaper
for every virtual desktop. XFCE fails on the same premise. Enlightenment 17
has a different wallpaper per virtual desktop, but its task bar is
dysfunctional, if not completely non-existent, and it has many other very
annoying quirks. GNOME is just plain annoying (and doesn't have a
different-wallpaper-per-virtual-desktop either), and KDE 3 is no longer present
on Mandriva. LXDE does not have it either.
</p>

<p>
Now I dislike the concept of
<a href="http://en.wikipedia.org/wiki/Tiling_window_manager">tiling
window manangers</a>, of which there has been an inflation, recently, and I am
looking for a window manager that has stacking. And like I said, it also needs
to have a usable task bar, a different wallpaper per virtual desktop
and be responsive and stable.
</p>

<p>
Do you have any recommendations?
</p>

</div>


<div class="entry" id="telfoss-moose-for-beginners-report">

<!-- Tags: telfoss, perl, moose, meeting, report, sawyer, open, source, telux, tel aviv, club
-->

<h2>2010-01-20: Report on the TelFOSS "Moose for Beginners" Meeting</h2>

<p>
Last Sunday, <a href="http://tel.foss.org.il/">Tel Aviv Open Source club
(TelFOSS)</a> met to listen to Sawyer's presentation about "Moose for
Beginners". Despite the fact that the meeting was well-publicised, very
few people came. Sawyer did not prepare a lot of slides and since there were
not many questions he finished quickly. After all that, he went to demonstrate
how to implement several use cases that the audience has proposed as Moose
programs, and despite that we still finished early.
</p>

<p>
I asked about implementing an "XML parser", but in fact I wanted to implement
a processor for a certain XML grammar. In any case, he misunderstood and told
me to use Parse-RecDescent for that. I've grown to dislike P-RD for most stuff
though.
</p>

<p>
In any case, I'm getting tired of the low attendance in TelFOSS meetings. We
do so much work in organising and publicising the meetings, and most people
don't bother to come. Are the people too busy? Did they run out of steam? Why
don't they come? This makes me frustrating and unwilling to further organise
the TelFOSS meetings.
</p>

</div>


<div class="entry" id="">

<!-- Tags: perl, vim, tip, vim tip, snipmate, local, test, builder, slurp, snippets
-->

<h2>2010-01-21: Perl: Using Vim's snipMate for Perl 5 snippets</h2>

<p>
I noticed that there was some Perl 5 code that I had to type or copy-and-paste
again and again on many occasions. So I decided to find a way to put it in
one place and then recall it. I thought of writing it myself, but then recalled
the <a href="http://www.vim.org/scripts/script.php?script_id=2540">snipMate
snippets extension for Vim</a> (which
<a href="http://www.catonmat.net/blog/vim-plugins-snipmate-vim/">Peteris
Krumins covered in a blog post</a>), which allows that. After a little reading,
I was able to prepare the snippets.
</p>

<p>
I placed the following under <tt>~/.vim/snippets/perl/_slurp.snippet</tt> :
</p>

<pre>
sub _slurp
{
	my $filename = shift;

	open my $in, "&lt;", $filename
		or die "Cannot open '$filename' for slurping - $!";

	local $/;
	my $contents = &lt;$in&gt;;

	close($in);

	return $contents;
}
</pre>

<p>
And now I can type "_slurp&lt;TAB&gt;" to recall it. The existing "slurp"
snippet in <tt>~/.vim/snippets/perl.snippets</tt> is quite evil, with an
ugly inline line, typeglobs, and a two args open without a die statement.
Thanks, but no thanks.
</p>

<p>
Afterwards I added the following in
<tt>~/.vim/snippets/perl/_ltestb.snippet</tt>
</p>

<pre>
	local $Test::Builder::Level = $Test::Builder::Level + 1;
</pre>

<p>
And now I can type "_ltestb" (short for "local Test::Builder") and put this
line there to create my own custom Test::More/Test::Builder tests.
</p>

<p>
Thus, using snipMate, you can create your own short-hands for commonly-used
snippets like that.
</p>

</div>


<div class="entry" id="cpan-dependencies-of-website-meta-language">

<!-- Tags: perl, wml, website, meta, language, cmake, gnu, autohell, eumm, cpan, firefox
-->

<h2>2010-01-22: The CPAN Dependencies of Website Meta Language</h2>

<p>
In the past few days I resumed work on converting
the <a href="http://thewml.org/">Website Meta Language</a> (WML) build-system
from the GNU Autotools (also known as "GNU Autohell") to
<a href="http://www.cmake.org/">CMake</a>. This involved implementing a lot
of the existing makefile and autoconf logic in CMake and Perl.
</p>

<p>
Yesterday, I converted the "wml_common" sub-directory which turned out to
contain some ancient versions of CPAN distributions with a forced-upon way
to install under the WML prefix. I decided to forego installing all of them
and just check for their existence in the perl version that wml uses using
some WML and "perl -MMyModule" code.
</p>

<p>
I was able to find all the needed modules in the Mandriva repository, except
one -
<a href="http://search.cpan.org/dist/File-PathConvert/">File-PathConvert</a>
, which I've never heard about.
I checked it on CPAN, and saw that it was deprecated and superseded by
File::Spec and Cwd. So I grepped the tree for its use and found it was used
only in one Perl program which I quickly converted to File::Spec and Cwd.
</p>

<p>
Now, the future build system of Website Meta Language will be simpler
and it won't use deprecated modules.
</p>

<p>
Oh! And
<a href="http://blog.mozilla.com/blog/2010/01/21/firefox-3-6-release/">Firefox
3.6 (Gamma) is out</a>! I've been using the betas and RCs on Mandriva Cooker
for some time now, and now I've upgraded to the stable version and it's
still great.
</p>

</div>


<div class="entry" id="XML-Grammar-Fortune-0.0200">

<!-- Tags: xml, grammar, fortune, text, fortunes, unix, perl, cpan, xml-grammar-fortune, release, hacktivity
-->

<h2>2010-01-25: XML-Grammar-Fortune version 0.0200 Was Released</h2>

<p>
I recently released version 0.0200 of the Perl 5 CPAN Module
<a href="http://web-cpan.berlios.de/modules/XML-Grammar-Fortune/">XML-Grammar-Fortune</a>.
XML-Grammar-Fortune is a module to maintain a collection of Unix-like
fortune cookies as XML and convert them to XHTML and plain-text.
</p>

<p>
New in this release are a heavily fixed and enhanced code for rendering the XML
to plaintext and a more enhanced META.yml file. XML-Grammar-Fortune was
successfully utilised for
<a href="http://www.shlomifish.org/humour/fortunes/">my collection of Fortune
Cookies</a>.
</p>

</div>


<div class="entry" id="project-euler-problem-10-in-haskell-and-Perl-and-C">

<!-- Tags: project, euler, problem, 10, haskell, perl, c, speed, optimisation, optimization, optimise, optimize, primes, sum
-->

<h2>2010-01-30: Project Euler Problem #10 in Haskell, Perl and C</h2>

<p>
zerothorder told
<a href="http://zerothorder.blogspot.com/2009/11/after-drinking-functional-immutable-and.html">how
he found a solution for Project Euler's Problem 10 in Haskell</a>. The
problem is "Find the sum of all primes less than 2,000,000". It is given
here below:
</p>

<pre>
primes :: [Integer]
primes = 2 : filter isPrime [3, 5 ..]
    where
        -- only check divisibility of the numbers less than the square root of n
        isPrime n = all (not . divides n) $ takeWhile (\p -&gt; p*p &lt;= n) primes
        divides n p = n `mod` p == 0

result = sum $ takeWhile (&lt; 2000000) primes

main = do putStrLn( show result )
</pre>

<p>
He says "If this doesn't give you a nerdgasm, I don't know what will.". The
problem is that this nerdgasm will last a long time. Benchmarking this
program gives that 20 iterations of it run at 310 seconds - less
than - about 15 seconds each (on my Pentium 4 2.4GHz machine running
Mandriva Linux Cooker). So next I tried a better Haskell
implmenetation that I recalled from a thread I started in the Haskell Caf
mailing list about implementing
<a href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">a sieve of
Eratosthenes in Haskell</a>:
</p>

<pre>
import Data.Int

primes :: Int64 -&gt; [Int64]

primes how_much = sieve [2..how_much] where
         sieve (p:x) =
             p : (if p &lt;= mybound
                 then sieve (remove (p*p) x)
                 else x) where
             remove what (a:as) | what &gt; how_much = (a:as)
                                | a &lt; what = a:(remove what as)
                                | a == what = (remove (what+step) as)
                                | a &gt; what = a:(remove (what+step) as)
             remove what [] = []
             step = (if (p == 2) then p else (2*p))
         sieve [] = []
         mybound = ceiling(sqrt(fromIntegral how_much))

--main = print (length (primes 1000000))
main = print (sum (primes 2000000))
</pre>

<p>
This does not involve costly operations such as modulo or division
and 20 iterations of it run at 135 wallclocks seconds - over two times faster
than zeroth's Haskell version.
</p>

<p>
Now how about Perl? Since Perl has assignment, we have the advantage that
we can create a vector of bits that we will mark with the primes by iterating
over all numbers up to the root of the limit. Here is the code:
</p>

<pre>
#!/usr/bin/perl

use strict;
use warnings;

use Math::BigInt lib =&gt; &#39;GMP&#39;;

my $limit = 2_000_000;

my $primes_bitmask = &quot;&quot;;

my $loop_to = int(sqrt($limit));
my $sum = 0;
my $total_sum = Math::BigInt-&gt;new(&#39;0&#39;);

for my $p (2 .. $loop_to)
{
    if (vec($primes_bitmask, $p, 1) == 0)
    {
        $sum += $p;

        my $i = $p * $p;

        while ($i &lt; $limit)
        {
            vec($primes_bitmask, $i, 1) = 1;
        }
        continue
        {
            $i += $p;
        }

    }
}

for my $p ($loop_to .. $limit)
{
    if (vec($primes_bitmask, $p, 1) == 0)
    {
        if (($sum += $p) &gt; (1 &lt;&lt; 30))
        {
            $total_sum += $sum;
            $sum = 0;
        }
    }
}

$total_sum += $sum;
print &quot;$total_sum\n&quot;;
</pre>

<p>
20 runs of it run at 95 walclock seconds - even faster than the Haskell
version. But it gets better. Since all the primes we encounter greater than
2 are not even, we can create a map of their pseduo-halves and conserve on
memory and iterations. This is the Perl version:
</p>

<pre>
#!/usr/bin/perl

use strict;
use warnings;

use Math::BigInt lib =&gt; &#39;GMP&#39;;

my $limit = 2_000_000;

my $primes_bitmask = &quot;&quot;;

my $loop_to = (int(sqrt($limit)))&gt;&gt;1;
my $half_limit = ($limit-1)&gt;&gt;1;

my $sum = 0+2;
my $total_sum = Math::BigInt-&gt;new(&#39;0&#39;);

for my $half (1 .. $loop_to)
{
    if (vec($primes_bitmask, $half, 1) == 0)
    {
        my $p = (($half&lt;&lt;1)+1);
        $sum += $p;

        my $i = ($p * $p)&gt;&gt;1;

        while ($i &lt; $limit)
        {
            vec($primes_bitmask, $i, 1) = 1;
        }
        continue
        {
            $i += $p;
        }

    }
}


for my $half ($loop_to .. $half_limit)
{
    if (vec($primes_bitmask, $half, 1) == 0)
    {
        if (($sum += (($half&lt;&lt;1)+1)) &gt; (1 &lt;&lt; 30))
        {
            $total_sum += $sum;
            $sum = 0;
        }
    }
}

$total_sum += $sum;
print &quot;$total_sum\n&quot;;
</pre>

<p>
Running this 20 times takes 73 wallclock seconds, close to half that of my
Haskell version.
</p>

<p>
Then I wondered how long C will take. Here is a C implementation without
the halving:
</p>

<pre>
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;

#define limit 2000000
int8_t bitmask[(limit+1)/8];

int main(int argc, char * argv[])
{
    int p, i;
    int mark_limit;
    long long sum = 0;

    memset(bitmask, &#39;\0&#39;, sizeof(bitmask));
    mark_limit = (int)sqrt(limit);

    for (p=2 ; p &lt;= mark_limit ; p++)
    {
        if (! ( bitmask[p&gt;&gt;3]&amp;(1 &lt;&lt; (p&amp;(8-1))) ) )
        {
            /* It is a prime. */
            sum += p;
            for (i=p*p;i&lt;=limit;i+=p)
            {
                bitmask[i&gt;&gt;3] |= (1 &lt;&lt; (i&amp;(8-1)));
            }
        }
    }
    for (; p &lt;= limit; p++)
    {
        if (! ( bitmask[p&gt;&gt;3]&amp;(1 &lt;&lt; (p&amp;(8-1))) ) )
        {
            sum += p;
        }
    }

    printf(&quot;%lli\n&quot;, sum);

    return 0;
}
</pre>

<p>
This was too fast to measure with 20 runs alone, so 500 runs of it took 15
seconds, two or three orders of magnitude faster than the fastest Haskell
or Perl versions. But naturally, we can apply the halving paradigm there too:
</p>

<pre>
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;

#define limit 2000000
int8_t bitmask[(limit+1)/8/2];

int main(int argc, char * argv[])
{
    int half, p, i;
    int half_limit;
    int loop_to;
    long long sum = 0 + 2;

    memset(bitmask, &#39;\0&#39;, sizeof(bitmask));

    loop_to=(((int)(sqrt(limit)))&gt;&gt;1);
    half_limit = (limit-1)&gt;&gt;1;

    for (half=1 ; half &lt;= loop_to ; half++)
    {
        if (! ( bitmask[half&gt;&gt;3]&amp;(1 &lt;&lt; (half&amp;(8-1))) ) )
        {
            /* It is a prime. */
            p = (half &lt;&lt; 1)+1;
            sum += p;
            for (i = ((p*p)&gt;&gt;1) ; i &lt; half_limit ; i+=p )
            {
                bitmask[i&gt;&gt;3] |= (1 &lt;&lt; (i&amp;(8-1)));
            }
        }
    }

    for( ; half &lt; half_limit ; half++)
    {
        if (! ( bitmask[half&gt;&gt;3]&amp;(1 &lt;&lt; (half&amp;(8-1))) ) )
        {
            sum += (half&lt;&lt;1)+1;
        }
    }

    printf(&quot;%lli\n&quot;, sum);

    return 0;
}
</pre>

<p>
500 runs of it take 10 wallclock seconds - 54.35 times per second,
and 50% better than the previous C version. And I still haven't applied
platform-specific gcc optimisations.
</p>

<p>
I should also note that the executables generated by ghc are extremely
large in comparison to their C ones:
</p>

<pre>
$ ls -l c_* haskell_*
-rwxr-xr-x 1 shlomi shlomi   6082 2009-12-04 07:46 c_mine
-rwxr-xr-x 1 shlomi shlomi   6103 2009-12-04 07:46 c_mine_half
-rwxr-xr-x 1 shlomi shlomi   6092 2009-12-04 07:46 c_mine_micro_opt
-rwxr-xr-x 1 shlomi shlomi 796825 2009-12-04 07:56 haskell_mine
-rwxr-xr-x 1 shlomi shlomi 571717 2009-12-04 07:46 haskell_zeroth
</pre>

<p>
<tt>c_mine_half</tt> is less than 1% the size of <tt>haskell_mine</tt> (and
runs faster). When talking about this to other people, they said that Haskell
has a very optimised primes sequence generator, which I can try using (which
should be over 3 times as fast), and that it has two kinds of integers, which
the other type is faster, and that it has a better way to emulate assignment.
But the bottom line is that the nave and intuitive way to write such
programs in Haskell is under-performant, even in comparison to Perl, and 100
or 1,000 times as much in comparison to C.
</p>

<p>
I've written this as a separate post and not as a comment to the original
blog post because I'm very limited with the markup in the commenting there
(I'm going to post a comment there with a link to this blog post, though).
I should note that you can find all the code I mentioned inside
<a href="http://github.com/shlomif/Project-Euler-Problem-10-Comparison">a
dedicated Github repository</a>, and you can experiment with it further.
</p>

</div>


<div class="entry" id="escape-from-gnu-autohell">

<!-- Tags: escape, gnu, autohell, autotools, autoconf, automake, libtool, make, build, systems, cmake, scons, rants, rant, hell
-->

<h2>2010-01-31: Escape from GNU Autohell!</h2>

<p>
I've set up <a href="http://www.shlomifish.org/open-source/anti/autohell/">a
page on my web-site titled "Escape from GNU Autohell!"</a> about the evils
of the GNU Autotools (GNU Autoconf/Automake/Libtool and other GNU
auto-brain-damages) and why you should convert to a good alternative such as
<a href="http://www.cmake.org/">CMake</a>. The page converts a list of
the many disadvantages of the GNU Autotools, some refutation of common
arguments against CMake, and some links.
</p>

<p>
And lo and behold, some time after writing the page I spent hours dealing
with yet another Autohell problem:
<a href="https://qa.mandriva.com/show_bug.cgi?id=57319">"Mandriva's
libtool causes "make install" of xine-lib-1.1-hg to fail"</a>. I actually
had to build the Mandriva libtool several times to find the offending
downstream patch, and libtool's "./bootstrap" script was so slow that
I could finish running "make" and "make install" in xine-lib while waiting
for it to finish. And it says a lot because xine uses GNU Autohell
which slows down the build process considerably. Eventually, I found the
offending patch after several hours, and I wouldn't have finished on time if I
didn't cancel the "make check" test in the .rpm.
</p>

<p>
Autohell must die!
</p>

</div>


<div class="entry" id="telfoss-vtiger-crm-meeting-2010-02-14">

<!-- Tags: vtiger, crm, telux, telfoss, club, linux, open, source, foss, events, announcements
-->

<h2>2010-02-02:    -: 14  - vtiger CRM</h2>

<div dir="rtl" align="right">

<p>
<a href="http://tel.foss.org.il/">   - ()</a>
    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_14_February_2010"> 
   "   
vtigerCRM</a>.
   , 14  2010,  18:00,  , ' 007     (      )   .  ,    ,  
<a href="http://tel.foss.org.il/"></a>
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_14_February_2010"></a>.
       .
</p>

<p>
<a href="http://www.vtiger.com/">vtiger CRM</a>
        Web  .
          :   
     .     , ,
 , ,  .    - 
     .      .
</p>

<p>
   "    ,    vtiger CRM.
</p>

<p>
          - .     ,       ,   .
</p>

</div>

</div>


<div class="entry" id="new-page-about-editors-and-IDEs">

<!-- Tags: perl, IDEs, programming, editors, development, software, vim, emacs, jedit, eclipse, kate, gedit, geany, padre
-->

<h2>2010-02-02: New Page about Text Editors and IDEs for Programmers</h2>

<p>
After answering the questions "Can anyone recommend a good text editor?" and
"What is a good IDE?" a few times in the past, I set up
<a href="http://www.shlomifish.org/open-source/resources/editors-and-IDEs/">a
page listing some prominent text editors and Integrated Development
Environments (IDEs)</a> for development on my homepage. Currently it includes
only cross-platform open-source text editors and cross-platform open-source
IDEs, but I'm planning to expand it as time and interest permits. Additions
would be welcome.
</p>

<p>
<a href="http://www.vim.org/">Vim</a> is there and so are XEmacs and
<a href="http://www.eclipse.org/">Eclipse</a>, and also
<a href="http://padre.perlide.org/">Padre, the Perl IDE</a> and more
specialised IDEs such as <a href="http://eric-ide.python-projects.org/">the
"Eric" Python IDE</a>.
</p>

</div>


<div class="entry" id="nytprof-3">

<!-- Tags: perl, nytprof, profiler, profiling, 3, version, release, released, devel
-->

<h2>2010-02-05: NYTProf-3 is Out!</h2>

<p>
<a href="http://blog.timbunce.org/2009/12/24/nytprof-v3-worth-the-wait/">Tim
Bunce writes on his blog about the new features in
Devel-NYTProf version 3</a>. Devel-NYTProf is a profiler for the
<a href="http://perl-begin.org/">Perl programming language</a>, which has
put all the previous attempts in profiling in the dust, and now it's even
better than before. Enjoy! (Thanks to
<a href="http://mail.pm.org/pipermail/sanfrancisco-pm/2010-February/002704.html">Fred
Moyer's post</a> on the San-Fransisco Perl Mongers mailing list).
</p>

</div>


<div class="entry" id="article-recommendation-what-every-computer-scientist-should-know-about-floating-point">

<!-- Tags: article, recommendation, paper, floating, point, perl, ieee
-->

<h2>2010-02-11: Article Recommendation: "What Every CSer Should Know about Floating-Point Arithmetic"</h2>

<p>
I've read the paper
<a href="http://docs.sun.com/source/806-3568/ncg_goldberg.html">"What
Every Computer Scientist Should Know About Floating-Point Arithmetic"</a> and
can recommend it as it has many interesting insights. I had received quite a
lot of reports for bugs in
<a href="http://search.cpan.org/dist/Statistics-Descriptive/">the
"Statistics-Descriptive" CPAN distribution</a> that were caused by expected
floating-point behaviour. Some of them I was able to resolve using some
trickery, and some others possibly can be somewhat mitigated using the insights
I've learnt in the article.
</p>

</div>


<div class="entry" id="gaal-circuit-riddle">

<!-- Tags: perl, riddles, fun
-->

<h2>2010-02-19: Solving gaal's Circuit Riddle Using Perl</h2>

<p>
<a href="http://gaal.livejournal.com/234795.html">gaal (= Gaal Yahas)
mentions a riddle</a> on his blog:
</p>

<blockquote>
<p>
Theres a box with three input signals: A, B, C. It has three output signals:
~A, ~B, ~C (that is, the negation of each input).
</p>

<p>
Design a circuit satisfying the above description. You have two NOT gates, and
as many AND and OR gates as you like.
</p>

<p>
(If you solve this, dont tell me the answer  I havent solved it yet; I just
want to share the misery.)
</p>
</blockquote>

<p>
I decided that I will try to solve this riddle on my own
and then attempt to write a solution using a Perl 5 program, which I've
also thought about how to write. As it turned out, I ended up exploring
and eventually completely solving the riddle using a series of Perl programs.
I won't mention the final solution here, but I'll tell which programs
I wrote to solve them and how I wrote them. The code can be found in
<a href="http://bitbucket.org/shlomif/riddle-not-a-not-b-not-c/src/">its
Mercurial repository</a> under the MIT/X11 licence, as I mentioned
in <a href="http://gaal.livejournal.com/234795.html?thread=936235#t936235">a
comment</a> to gaal's post.
</p>

<p>
Well, first of all I decided to write a program that will take two negated
expressions of AND and OR gates and see if one can arrive to the final solution
using them and the given inputs (A, B and C). To do this I represented every
such possible expression as its components of (A + ~A)  (B + ~B)  (C + ~C) -
8 in total which fit in an 8-bit datum, and which I indexed using an array
of 256 items to see which ones exist in the population. After doing the coding
I realised none of the expressions I tried worked.
</p>

<p>
Then I decided to see if I there are any two possible expressions that when
added to A, B an C will yield all the necessary outputs. I ran it and indeed
found a single pair (and only a single pair) of such expressions (given as
numbers) which I was able to analyse. I should note that the programs as
I've written it using some functions and closures was too slow, so I ended
up writing another Perl script to preprocess the code, and inline the
functions, which has made everything much faster. (You can find this
preprocessor in the repository).
</p>

<p>
Then I wanted to see if I can indeed construct these expressions from A
, B, and C using two negations. When I had thought about this, I believed
I needed to maintain a collection of expressions' populations, and to
keep how many negations were in each. But when I got to code it I thought
of a simpler way: marry all the inputs using AND and OR until no more can
be married, then go over the existing ones and negate each one in turn, then
add the negated vector to the population and marry it with all the rest, and
then do it again for all the existing inputs. Using this I was able to
find a single solution.
</p>

<p>
Then I had to output the solution. For that, I wrote a recursive expression
dumper, which ended up outputting with many parentheses, so I had to post-
process it a bit.
</p>

<p>
The solution I got to was very complicated and I believe it would have taken
me a long time to reach it without resorting to programming. But at least
it saved me a lot of time and head-scratching.
</p>

</div>


<div class="entry" id="perl-qotw-2010-02-22-short-freecell-solutions">

<!-- Tags: perl, riddles, qotw, freecell, fc-solve
-->

<h2>2010-02-22: New Perl Quiz-of-the-Whatever: Short Freecell Solutions</h2>

<p>
I published a new
<a href="http://article.gmane.org/gmane.comp.lang.perl.qotw.discuss/2655">Perl
Quiz-of-the-Whatever about finding short Freecell solutions</a>. Hope you enjoy
thinking about it. Here is the <a href="http://perl.plover.com/qotw/">Perl
Quiz-of-the-Whatever (formerly "Quiz of the Week") information.</a>.
</p>

</div>

<div class="entry" id="alternative-to-firefox-linux-browsers">

<!-- Tags: firefox, web browser, open source
-->

<h2>2010-02-25: Review: Alternative (to Firefox) Linux Web Browsers</h2>

<p>
Since I've been blogging about <a href="http://perl-begin.org/">Perl</a>
a lot lately (trying to maintain and advance my
<a href="http://ironman.enlightenedperl.org/">Planet Perl Iron Man</a>
status), I've been neglecting to blog about other things. So here's a
new entry not about Perl, not even about programming - but about web-browsers.
</p>

<p>
I've been using Firefox (now at version 3.6) as my primary browser on my
Mandriva Linux Cooker system for a while now, and have been mostly happy
with it. Today I wanted to edit
<a href="http://en.wikibooks.org/wiki/How_to_Write_a_Program">this wikibook
titled "How to Write a Program"</a>. It had been written awfully
(see <a href="http://en.wikibooks.org/wiki/Talk:How_to_Write_a_Program">the
discussion page</a>), but I was introduced to it after it was made
<a href="http://en.wikibooks.org/wiki/Optimizing_Code_for_Speed">a
prerquisite of a different wikibook which I've written</a>, and decided
that the dependency should be kept (assuming "How to Write a Program" would be
written better). Now, I could either throw away "How to Write a Program"
and start from scratch, or revamp it to submission. Right now, it seems like
it would be a combination of both.
</p>

<p>
In any case, after editing it, I've ran into a long-term
<a href="https://qa.mandriva.com/show_bug.cgi?id=57864">bug in Mandriva, or
in my Mandriva setup</a> (which is exhibited in any Firefox that is running
directly on it.), which I've finally reported there (though I believe I had
reported it in the Firefox bugzilla too) and so had been unable to use Firefox
for it.
</p>

<p>
So I've been looking for an alternative browser. I ruled out
<a href="http://en.wikipedia.org/wiki/Konqueror">Konqueror</a> because
KHTML has been suffering from a lot of bug report, and Konqueror is just
plain annoying. (WebKit has been forked from KHTML, and it proved to be
more popular.). I initially ruled out
<a href="http://www.opera.com/">Opera</a> because it's not open-source. So
that left me only with WebKit-based browsers. I asked for recommendations
and people on <a href="irc://irc.freenode.net/#ubnutu-uk">#ubuntu-uk (great
channel, BTW)</a> recommended <a
href="http://en.wikipedia.org/wiki/Chromium_%28web_browser%29">Chromium</a> and
<a href="http://en.wikipedia.org/wiki/Epiphany_%28web_browser%29">GNOME's
Epiphany</a>, and some other more obscure browsers. I've decided to check them
out.
</p>

<p>
I decided to go with
<a href="http://en.wikipedia.org/wiki/SRWare_Iron">SRWare Iron</a> as
my Chromium browser. The first thing I noticed was that the Linux download
link led to a web forum post - very unprofessional. After downloading and
unpacking the archive, it refused to run -
<tt>/home/shlomi/apps/iron-linux/iron: error while loading shared libraries:
libbz2.so.1.0: cannot open shared object file: No such file or directory</tt>.
A symbolic link to libbz2.so.1.0.0 (done by root) fixed that problem, and
then it crashed with an X error. However, it started the second time and seemed
to run fine (don't know what the problem was). I noticed Chromium
was indeed very fast, but then I ran into a few glitches:
</p>

<ul>

<li>
No menu bar. WTF? All desktop applications, including web browsers had menu
bars for generations. And I'm used to invoke the File menu and select
"New Window" and "New Tab". But Chromium does not have any menus, and it appears
to be by intentional design (but probably a crappy one).
</li>

<li>
If this wasn't enough, there was another more minor but still irritating
annoyance: after clicking on the URL bar and pressing double click, only
the current word is selected as opposed to the Firefox behaviour of selecting
the entire URL.
</li>

</ul>

<p>
So I decided to look at Epiphany. Slower than Chromium, but maybe it will
work. Or maybe it won't. The first thing I noticed was that it looked
ugly - very unaesthetic and several widgets in the main window were slightly
out-of-place. Its URL bar also behaved unlike Firefox in the double click
respect, which was also annoying.
</p>

<p>
So what can I do? I eventually decided to use Opera for editing Wikimedia
wikis until the Firefox-influencing bug is resolved. It is fast, it has a
menu bar, and double click in the URL bar selects the entire URL. Very nice.
It's not open-source, so I'm trying not to get myself used to it, but seems
like I'll need to use it.
</p>

<p>
If you haven't done so already, I suggest you read
<a href="http://www.joelonsoftware.com/navLinks/fog0000000262.html">the
"Joel on Software" "must-read" books recommendations page</a>. I haven't read
all the books there, but the page itself is also good. Quoting from it from
our context:
</p>

<blockquote>

<p>
A few months ago when we released CityDesk, I got an email from a customer
complaining that he was used to doing Alt+F, Alt+S to save files. Unfortunately
due to a tiny, unnoticed bug, that keyboard shortcut saved the file and then
closed it, irritatingly. I had never noticed because I'm in the habit of doing
Alt+F,S to save files, not Alt+F,Alt+S -- a tiny difference -- and Alt+F,S
worked fine.
</p>

<p>
Once you get into the habit of doing Alt+F,Alt+S to save, it becomes so
automatic you don't think of it as Alt+F,Alt+S. You think of it as save. And
when you push the "save" button in your brain and the file you were working on
goes away, it makes you feel like you're not in control of your environment.
It's a small thing, but about the fourth time that it happens, you're going to
be seriously unhappy. That's why I spent several hours tracking down this bug
and fixing it. In a bizarre application of Murphy's Law, this fix led to a
cascade of events that caused us to waste something like a week, but that's
neither here nor there. It was worth the time spent. This is what it means to
be concerned about usability. If you still think that something as small as how
long you hold down the Alt key when you activate a menu command doesn't matter,
well, your software is going to make people unhappy. These tiny inconsistencies
are what makes Swing applications so unbearably annoying to use, and in my
opinion it's why there are virtually no commercially successful Java GUI
applications.
</p>
</blockquote>

<p>
If I can't go to "File  New Tab" in the menubar to start a new tab then I'm
going to be unhappy. If I have to triple click the URL bar in order to select
the entire URL, then I'm going to be unhappy. These tiny things are why I can't
use either Chromium or Epiphany. (And frankly, a lack of a menubar is a huge
UI screw-up, not a tiny one).
</p>

<p>
At the moment, I'm just ranting, but I am planning on reporting these bugs
to the bug trackers of the appropriate projects. I just hope Google won't
think the lack of menu-bar in Chromium is a feature. "Welcome to Google UIs".
(Welcome to Google Hell).
</p>

</div>


<div class="entry" id="perl-universal-with">

<!-- Tags: perl, fun, development
-->

<h2>2010-03-01: A Perl-based with(...) method</h2>

<p>
Lately, I've been writing some <a href="http://pdl.perl.org/">PDL (Perl Data
Language)</a> code and noticed that I've been doing the following:
</p>

<pre>
my $temp_pdl = $pdl-&gt;-&gt;final_expr();
my $result_pdl = $temp_pdl-&gt;where($temp_pdl &lt; 0);
</pre>

<p>
I've been thinking if I could somehow write it like that:
</p>

<pre>
my $result_pdl = $pdl-&gt;-&gt;final_expr()-&gt;with(sub { $_-&gt;where($_ &gt; 0)});
</pre>

<p>
Which seems cleaner and more elegant. I went on IRC asking about it and someone
suggested
<tt>rindolf: (sub { local $_ = shift; $_ * $_ * $_})-gt;( $obj-&gt;... );</tt>
(up to an episolon, but naturally this reverses the order and messes with
the flow of the code). Eventually
<a href="http://www.shadowcat.co.uk/blog/matt-s-trout/">Matt S.
Trout (mst)</a> proposed the following solutions:
</p>

<pre>
sub UNIVERSAL::with
{
    local $_ = shift;
    my $sub = shift;
    return $sub-&gt;($_,@_);
}

my $_with = sub {
    local $_ = shift;
    my $sub = shift;
    return $sub-&gt;($_,@_);
};

</pre>

<p>
(I had figured something like that was possible previously, but I was beating
around the bush.)
</p>

<p>
The $_with approach is covered in <a href="http://www.shadowcat.co.uk/blog/matt-s-trout/madness-with-methods/">one of Matt's blog posts titled "Madness with
Methods"</a>.
</p>

<p>
I wondered if it will work with
<a href="http://search.cpan.org/dist/autobox/">autobox</a> and mst said that
<q>I don't know and I hope not since the UNIVERSAL approach is evil.</q>. But
it does, out-of-the-box:
</p>

<pre>
#!/usr/bin/perl

use strict;
use warnings;

use autobox;

sub UNIVERSAL::with
{
    local $_ = shift;
    my $sub = shift;
    return $sub-&gt;($_,@_);
}

my $_with = sub {
    local $_ = shift;
    my $sub = shift;
    return $sub-&gt;($_,@_);
};

print +(10+1)-&gt;with(sub { $_ * $_; }), &quot;\n&quot;;
print +(10+1)-&gt;$_with(sub { $_ * $_; }), &quot;\n&quot;;
</pre>

<p>
This prints 121 twice.
</p>

<p>
I now wonder what to do with this knowledge. I have some aspirations of
releasing it to the cpan as a mini-module. Still, it's really cool.
</p>

<p>
Finally, I should note that it seems like I'm going to lose my current
Planet Perl Iron Man karma due to inadequate blogging. Oh well.
</p>

</div>


<div class="entry" id="perl-begin-update-2010-03-16">

<!-- Tags: perl, begin, perl-begin, open, source, open-source
-->

<h2>2010-03-16: New Topical Pages and Pages for Perl Uses on Perl-Begin</h2>

<p>
This summarises the changes to <a href="http://perl-begin.org/">the Perl
Beginners' Site</a> since the last update.
</p>

<p>
We added a <a href="http://perl-begin.org/uses/email/">a page about using Perl for E-mail
processing</a>, <a href="http://perl-begin.org/uses/multitasking/">a page about Perl for
multitasking and networking</a>, a some topical pages:
</p>
<ul>
<li>
<a href="http://perl-begin.org/topics/date-and-time/">Date and Time</a>.
</li>
<li>
<a href="http://perl-begin.org/topics/references/">References in Perl</a>.
</li>
<li>
<a href="http://perl-begin.org/topics/regular-expressions/">Regular Expressions</a>.
</li>
<li>
<a href="http://perl-begin.org/topics/hashes/">Hashes</a>.
</li>
</ul>
<p>
<a href="http://perl-begin.org/IDEs-and-tools/">The IDEs and Tools page</a> now contains
screenshots.
</p>
<p>
Many new links have been added and many typos have been corrected. Enjoy!
</p>

<p>
Perl-Begin continues to be the most comprehensive first-stop for Perl Beginners.
Moreover , its content is distributed under the Creative Commons Attribution
License (CC-by), and <a href="http://perl-begin.org/source/">its source
code is available</a> to facilitate contributions.
</p>

</div>


<div class="entry" id="tech-tip-getting-aac-to-play-in-gstreamer">

<!-- Tags: tech, tip, tech tip, linux, multimedia
-->

<h2>2010-03-21: Tech Tip: Getting AAC to Play in gstreamer</h2>

<p>
If you're getting a message like the following when playing a video or an
audio file with AAC sound in a
<a href="http://www.gstreamer.net/">gstreamer</a>-based and no sound is played:
</p>

<blockquote>
<p>
** Message: Missing plugin: gstreamer|0.10|totem|MPEG-4 AAC decoder|decoder-audio/mpeg, mpegversion=(int)4, framed=(boolean)true (MPEG-4 AAC decoder)
</p>
</blockquote>

<p>
Then you need to install the 'faad' gstreamer element from gst-plugins-bad or as
a separate pacakge. Thanks to "__tim" from Freenode for the insight.
</p>

</div>


<div class="entry" id="haifa-perl-mongers-meeting-2010-03-21">

<!-- Tags: perl, open, source, foss, report, clubs, meeting
-->

<h2>2010-03-22: Report on the recent Haifa Perl Mongers Meeting</h2>

<p>
This is a report and some notes from the Haifa Perl Mongers meeting a
while ago.
</p>

<p>
I arrived there by train from Tel Aviv with
<a href="http://blogs.perl.org/users/sawyer_x/">Sawyer</a>, who was going to
give the presentation about Moose. We met in the Arolozerov train station, and
I was a  little late since I noticed I had dressed too lightly for the cool
weather. We bought tickets and went on the train to Haifa.
</p>

<p>
On the way we talked about Perl, C, C#, bugs in CPAN modules, Chuck Norris
facts, and other stuff. We arrived at Haifa well ahead of time, and I led the
way to the meeting at Qualcomm. As it turned out, the road I took was
relatively sub-optimal because there was a way with more pavements going
there. But we got there.
</p>

<p>
We entered Qualcomm, and saw Shmuel there and we were given tags for entrance
(in exchange for our I.D. cards). We wanted to drink something and the cooler
was broken, so we ended up using the tap. We waited for everyone else to
arrive and in the meanwhile I munched on a croissant and a Rogalach.
</p>

<p>
Then the presentations started. Erez gave a good presentation about how to
talk to newbies, where he said that a lot of the things we say are irrelevant.
Asking people to add "use strict" will cause their scripts to stop running
completely whereas they previously only had a bug, so it's not always the best
strategy. The old "RTFM" mantra or "You can't just make shit up and expect the
computer to know what you mean, retardo!" were also mentioned.
</p>

<p>
He then gave a few links where people can visit to help newcomers. He
mentioned <a href="http://learn.perl.org/">learn.perl.org</a> but I was
disappointed that he didn't mention <a href="http://perl-begin.org/">Perl-Begin
- the Perl Beginners Site</a>.

<hr />

<p>
In any case, then Sawyer gave his presentation introducing Moose. It was a
good presentation and the audience spent more time discussing it than last
time he has given it in Tel Aviv. We spent a lot of time discussing the
clearing methods which turned out to be equivalent to
<tt>delete($self-&gt;{'myfield'})</tt> or so. Then we discussed the
compilation-time
overhead of Moose where someone said it was unacceptable because it would mean
his test suite composed of many scripts would run much slower. We then
discussed about whether most people use all of the features in Moose, and
whether it indicates code bloat and is worth the extra overhead.
</p>

<hr />

<p>
Then the meeting ended and we walked to the train station and returned home.
Erez took the train with us and on the way home we discussed Java, Matt S.
Trout and Planet Iron Man, Lambda Calculus, the earlier discussions about
Moose and other stuff. I tried to explain to them about Lambda Calculus and
not sure I was successful, but you can read what I had written about it
<a href="http://www.shlomifish.org/lecture/lc/">in my "Scheme and
Lambda Calculus Lecture"</a> and what Mark Jason Dominus wrote about it
in <a href="http://perl.plover.com/lambda/">Perl and Lambda Calculus</a>.
</p>

<hr />

<p>
So it was a very nice meeting and I greatly enjoyed it. Also see what
<a href="http://blogs.perl.org/users/sawyer_x/2010/03/two-perl-mongers-meetings-three-talks-two-reviews.html">Sawyer
wrote about it</a>,
and what <a href="http://blogs.perl.org/users/erez_schatz/2010/03/post-haifapm.html">Erez
wrote about the meeting</a>.
</p>

</div>


<div class="entry" id="mojolicious-and-kiokudb-story">

<!-- Tags: perl, cpan, modules, web, frameworks, testing, qa
-->

<h2>2010-03-27: My Mojolicious and KiokuDB Story</h2>

<p>
I was hired by Insurgent Software (one of whose directors is an old IRC/IM
friend of mine) to write
<a href="http://github.com/insurgentsoftware/socialmap/tree/master/dev/mojo-user-auth/">a Mojolicious and KiokuDB-based user authentication system</a>.
I was naturally getting paid for it and the resultant code was going to be
open-source so it seems nice. I did not have any previous experience with
either <a href="http://mojolicious.org/">Mojolicious</a> (a web-development
framework) or
<a href="http://www.iinteractive.com/kiokudb/">KiokuDB</a> (an
object-based persistence system), both of which
are recent <a href="http://perl-begin.org/">Perl 5</a>-based technologies,
so I believed had quite a lot to learn. Which indeed was the case.
</p>

<p>
The first thing I noticed when starting to work on the Mojolicious project
was that it lacked a good testing module, as Test::Mojo hardly provided
anything I was used to from
<a href="http://search.cpan.org/dist/Test-WWW-Mechanize-Catalyst/">Test-WWW-Mechanize-Catalyst</a>.
So after some thought, I decided to create
<a href="http://search.cpan.org/dist/Test-WWW-Mechanize-Mojo/">Test-WWW-Mechanize-Mojo</a>
based on it. This took a day of work to hack the first version,
and required some subsequent updates due to misunderstanding the dependencies'
APIs, or doing other things. Afterwards, I also added some XPath-related methods
in <a href="http://github.com/insurgentsoftware/socialmap/blob/master/dev/mojo-user-auth/t/login.t">the
test program</a> and then implemented some application-specific logic using
Moose in a further sub-class (this time Moose-based).
</p>

<p>
This eventually turned out to work pretty well for some needs, though
Test-WWW-Mechanize-Mojo still emits some warnings, and I needed to fix some
bugs in it.
</p>

<p>
Our Mojolicous::Lite code was very succinct, which I could appreciate, but
due to its design philosophy, Mojo/Mojolicious ended up re-implementing
a lot of CPAN in slightly different ways, which required learning and studying.
</p>

<p>
In regards to KiokuDB - it worked pretty well. When trying to deploy it on
my Mandriva 2010.0 laptop, I discovered that it gave me a lot of problems
with the Perl debugger (<tt>perl -d</tt>), which were resolved by upgrading
<a href="http://search.cpan.org/dist/namespace-clean/">namespace-clean</a>
(thanks to nothingmuch on IRC for that.)
</p>

<p>
I misunderstood the KiokuDB API a little, which resulted in some things I
needed to fix. I also eventually used the Moose "around" method-modifier
to abstract the new_scope() functionality (which
someone told me he did something similar with "before" which I'm not sure will
work because it will go out of scope, before the function call).
</p>

<p>
I've also written yet another form handler/generator because I was too lazy
to look at one of those on CPAN, and because mine kinda evolved.
</p>

<p>
The end of the story was that despite everything, the project was completed
successfully to the satisfaction of Insurgent Software, and that I was mailed
the cheque with the second half of the payment. However, this project tended
to have irritated me, and also consumed me and left me able to do very little
other FOSS-related activities. Still, I'm happy that I took it, and now that
it's over, I resumed my open-source activities and among other
things <a href="http://fc-solve.blogspot.com/2010/03/freecell-solver-2420-was-released.html">have released a new version of Freecell Solver</a>.
</p>

</div>


<div class="entry" id="freecell-solver-enterprise-edition">

<!-- Tags: freecell, solver, gpl, open source
-->

<h2>2010-04-01: Announcing Freecell Solver Enterprise Edition</h2>

<p>
There's an exciting development today for
<a href="http://fc-solve.berlios.de/">one of my programs</a>. Reading from the
publicity:
</p>

<blockquote>

<p>
Freecell Solver Enterprises, Inc., on behalf of the
Freecell Solver development
team, is glad to announce the upcoming availability of
<a href="http://fc-solve.blogspot.com/2010/03/01-april-2010-freecell-solver.html">Freecell Solver
Enterprise Edition</a>. In its Enterprise Edition, Freecell Solver will be
enhanced to solve generalised Freecell, in which there can be an arbitrary
number of card ranks. Since generalised Freecell is <a
href="http://en.wikipedia.org/wiki/NP-complete">NP-complete</a>. This will
allow using Freecell Solver's ingenious, cutting-edge algorithms to
solve the previously hard, provably NP-Complete problems of
<a href="http://en.wikipedia.org/wiki/Travelling_salesman_problem">the
Travelling Salesman problem</a>,
<a href="http://en.wikipedia.org/wiki/Subset_sum_problem">Subset sum</a>,
<a href="http://en.wikipedia.org/wiki/Sudoku">Sudoku</a> and
<a href="http://en.wikipedia.org/wiki/Enterprise_content_management">Enterprise
content management</a>.
</p>

<p>
<a href="http://fc-solve.blogspot.com/2010/03/01-april-2010-freecell-solver.html">Read more on the announcement</a> to learn more about this and
upcoming exciting developments.
</p>

</blockquote>

</div>


<div class="entry" id="how-to-improve-planet-perl-iron-man">

<!-- Tags: perl, social, social perl
-->

<h2>2010-04-03: Why I Wanted to Quit Planet Perl Iron Man and How to Improve it</h2>

<p>
<b>Note:</b> I discovered that the Planet Iron Man/Woman people are already
planning some changes to the Planet, and will deal with my complaints here
as part of this. So I'm not going to quit blogging on the Planet eventually,
at least not yet. I'm still posting it as a general insight for people
who wish to set up successful online communities.
</p>

<hr />

<p>
I decided to quit <a href="http://ironman.enlightenedperl.org/">Planet
Perl Iron Man</a> and I'd like to tell you why and how I think it should be
improved. The reason I quit is because of the fact that if one doesn't blog
frequently enough, their status gets demoted (possibly back to Paper Man
always). Now, while if I blog frequently enough I will increase my status
which is motivating, demoting or even resetting the karma is
<b>demotivating</b>. This is
<a href="http://en.wikipedia.org/wiki/Carrot_and_stick">the Carrot and stick
method</a>.
</p>

<p>
Now, I don't want to feel obliged to blog in order to prevent my karma from
being gone. I used to blog about Perl and other topics because it was fun, not
because I felt I had to. As a result, the "stick" in this place is out-of-place.
I request that assuming the current system remains, my status be either kept
as "unknown" or even that my blog be currently taken out of the Iron Man/Iron
Woman aggregator. Everyone should feel free to aggregate my Perl feed (
or <a href="http://www.shlomifish.org/me/blogs/">any of my other feeds</a>
as you see fit), without asking me, but I don't wish to play the carrot and
stick status game.
</p>

<p>
So how to improve it? Simple - avoid the stick. Make the Planet Iron Man be
a game of infinite karma, similar to <a href="http://stackoverflow.com/">Stack
Overflow</a> or <a href="http://www.perlmonks.org/">Perl Monks</a>. On
Stack Overflow for example, your karma never decreases. If 2 people upvoted
your comment or post and 6 people downvoted it (for a total score of -4),
you'll still get 2 points. Furthermore, your karma can grow indefinitely, and
you also get other motivations like badges etc. Perl Monks has a similar
system with its Experience Points. (I should note that I'm not fanatically
trying to improve my karma on either site, and my current status on both
is very low, because I'm not into being competitive in them, though I found
both useful at times when I was seeking help.)
</p>

<p>
Perhaps we can make a similar program for a competitive planet, where people
get points for every posts, every link from someone else's post on the planet,
every upvote on Reddit, Stumble Upon and other social bookmarking sites, get
extra points for making, say, 3 posts in 7 days, earn badges etc. without ever
needing to fear their karma being reduced.
</p>

<p>
I should note that I've noticed other social sites being undermined (at least
temporarily) by such "sticks". For example
<a href="http://www.advogato.org/">Advogato</a> used to allow people to rate
other people's blogs' quality from 0 to 10. Naturally, some people gave bad
marks for some blogs which was demotivating. Luckily, it was removed during
an update. On
<a href="http://use.perl.org/">use.perl.org</a> you could specify people you
dislike as "foes" in your user page, which ended up showing in them as
"freaks" (= haters). Again, that's demotivating.
</p>

<p>
There's probably still a lot to be learnt about designing successful web
communities, but I think that if you want people to do things because they
enjoy it (and/or you don't intend to pay them), you should not demotivate them
by threatening the use of "sticks".
</p>

</div>


<div class="entry" id="telfoss-meeting-2010-04-21-eng-announcement">

<!-- Tags: perl, telux, telfoss, social, vcs, rcs, version control, scm
-->

<h2>2010-04-10: TelFOSS Meeting on Wednesday 21-April-2010 - "Version Control Sytems"</h2>

<p>
The <a href="http://tel.foss.org.il/">Tel Aviv Open Source Club</a>
will host
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_April_2010">the
    talk "Version Control Systems - What, Why and How"</a> by
Yaron Meiry (Sawyer) on Wednesday, 21-April-2010, at 19:00 in
<a href="http://www.shenkar.ac.il/">Shenkar College in Ramat Gan (12 Ann
    Frank St.)</a> room 300 (<b>note</b> the change of time and place from the
previous meetings - we are now meeting in Shenkar college and on 19:00.).
There's
<a href="http://www.shenkar.ac.il/template/default.aspx?maincat=5&amp;catid=32">a
    map with directions on the Shenkar college's site</a>.
Further details, maps for arrival, etc. can be found
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_April_2010">on the Wiki</a>.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a href="http://www.shlomifish.org/me/contact-me/">contact the organiser</a>.
</p>

<p><b>Abstract</b></p>

<p>
<a href="http://en.wikipedia.org/wiki/Revision_control">Version
    control systems</a> allow us to keep track of an unlimited amount of
changes across any number of files. They are an essential tool for any
developer.
</p>

<p>
Using version control systems can help you restore lost data, examine
the differences between between multiple versions of your data, tag versions
and access them quickly, simplify cooperation with your peers, easily merge
changes, and maintain several branches of your data at once.
</p>

<p>
This presentation will explain what version control systems are, why you should
use them (even if you think you shouldn't) and how you should use them. Most
examples will be given using the
<a href="http://en.wikipedia.org/wiki/Git_%28software%29">open-source version
    control system Git</a>.
</p>

<p><b>About the Lecturer</b></p>

<p>
Yaron Meiry is a systems' administrator and a Perl developer. He gives talks
about open source, free software, security and programming standards. Yaron
has previously given the
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">presentation
    about red flags in programming of very high languages</a> in
the Tel Aviv Club and a presentation about
<a href="http://moose.perl.org/">Moose, the modern Perl 5 Object System</a>
to TelFOSS and several other clubs.
</p>

<hr />

<p>
We are always looking for people who will volunteer to give presentations on
various topics that are related to open source code and to computers. In case
you are interested to give a talk, or that you have a suggestion for a talk
that interests you, we'll be happy to hear from you.
</p>

</div>


<div class="entry" id="telfoss-meeting-2010-04-21-heb-announcement">

<!-- Tags: perl, telux, telfoss, social, vcs, rcs, version control, scm
-->

<h2>2010-04-15:  : "  " -21 </h2>

<p>
<a href="http://tel.foss.org.il/">   - ()</a>
    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_April_2010">
"   - , , "</a>
   (Sawyer)  , 21  2010 -19:00
<a href="http://www.shenkar.ac.il/">    ('   12)</a>
 300 (<b> </b>      -      19:00)
 
<a href="http://www.shenkar.ac.il/template/default.aspx?maincat=5&amp;catid=32">
      </a>.
 ,  ,   
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_April_2010"></a>.
</p>

<p>
       .
</p>

<p>
  ,  
<a href="http://www.shlomifish.org/me/contact-me/">   </a>.
</p>

<p><b> </b></p>

<p>
<a href="http://en.wikipedia.org/wiki/Revision_control">  </a>
            .    
  .
</p>

<p>
         ,       
,      ,       , 
 ,        .
</p>

<p>
       ,     (     )
    .    
<a href="http://en.wikipedia.org/wiki/Git_%28software%29">   - "".</a>
</p>

<p><b> </b></p>


<p>
      .     ,  ,
   .    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_28_June_2009">
       </a>  - 

<a href="http://moose.perl.org/">Moose,     5</a>
     .
</p>

<hr />

<p>
          - .     ,       ,   .
</p>

</div>


<div class="entry" id="telfoss-meeting-sawyer-about-VCSes">

<!-- Tags: perl, telfoss, python, linux, israel, open, source, foss
-->

<h2>2010-04-26: TelFOSS Meeting Report: Sawyer about Version Control Systems</h2>

<p>
Here are some notes from
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_21_April_2010">the
Tel Aviv Open Source Club's meeting last week</a>, in no particular order.
They are not exactly a report, but are probably better than nothing. I
originally
<a href="http://hamakor.org.il/pipermail/telux/2010-April/000305.html">posted
them</a> to the club's mailing list
and <a href="http://mail.perl.org.il/pipermail/perl/2010-April/010925.html">forwarded
them to to the Perl-IL mailing list</a>, where it sparked a small (but funny)
discussion. I hope to expand upon them in this blog post.
</p>

<ol>
<li>
<p>
About 20-30 people came in my approximation, some of them a little late, so
it was pretty successful. So hopefully it was a good decision to find a venue
which can afford starting at a later hour. We'll see if the trend of
successful presentations can continue.
</p>

<p>
I think I recognised most of the attendees, but there were some new faces,
which is a good thing.
</p>
</li>

<li>
<p>
Sawyer gave a very good presentation in my opinion, and I've learnt some
new stuff about git there. There was some good involvement from the audience.
Next time, I'll try to pass the baton to a different lecturer, because I think
Sawyer has been giving too many presentations lately, and we need to see some
fresh blood.
</p>

<p>
At the moment we only have one proposed presentation for June (by cool-RR /
Ram Rachum ) and he still noted he may need to cancel. I've been considering
to prepare a presentation/demo about jQuery and also proposed to give a
"Bottom Up Subversion" presentation/tutorial. I'm not a good speaker so I'd
prefer if
someone can give it instead. We can also have a session of short, volunteered
presentations on the spot
(<a href="http://perl.plover.com/lightning-talks.html">lightning
talks</a> or somewhat longer.).
</p>

<p>
Nevertheless, it would be preferable if someone will volunteer to give a
presentation.
</p>

</li>

<li>
Some logistics about the room - there is a keyboard and a projector, but no
screen. One can connect a laptop. The computer runs Windows , and we're not
sure if it has OpenOffice.org. There's an Ethernet connection and also some
Wifi networks.
</li>

<li>
Sawyer mentioned the fact that from his experience creating a branch in
Subversion (using svn copy) was time-consuming for him ("I went to prepare
coffee"). This sounds strange to me, because branching and tagging in
Subversion are reportedly cheap, constant-time ( O(1) ) operations, and
I've verified it from what I've read about the Subversion internals. I often
branched the Freecell Solver's trunk which is 26M in size and it didn't take
more than a few seconds. svn.kde.org has many branches and each of them keeps
the entire KDE source code and is positively huge with 100s of megabytes of
files.
</li>

<li>
<p>
I mentioned the <b>mini-repository</b> Subversion pattern - each with its own
trunk, tags and branches which can be seen in action <a href="http://svn.berlios.de/svnroot/repos/web-cpan/">in the Web-CPAN repository</a>. This is a single
subversion repository with several mini repositories - one  for each project.
It can be done in git too by keeping each project in its own
sub-directory, out of the top-level sub-directory.
</p>
<p>
I should note that I also eventually decided against putting the files of the
program directly on the trunk, but rather always put them under a
sub-directory of the trunk, so if I need to add something else, they won't
clobber the trunk.
</p>
</li>

<li>
<p>
There was a short discussion about whether version control systems are <b>using
databases as their repositories' back-ends</b>. Someone said he wouldn't trust
a VCS that uses an off-the-shelf database, and I'd like to comment about that.
The first thing that one should note is that like
<a href="http://modperlbook.org/html/Chapter-17-Databases-Overview.html">"Practical
mod_perl" notes</a> many data storages are in fact databases without us really
thinking about them. Even the file-system is a database that maps filenames
to the file contents. Furthermore, Subversion requires a transactional database
for its use: it started from Berkeley DB (which is a database with some
<a href="http://www.oracle.com/technology/documentation/berkeley-db/db/programmer_reference/intro_dbisnot.html">accepted
and deliberate philosophical limitations</a>), and then got the ability
to use a backend called FSFS, which is a specialised, ad-hoc, database coded
specifically for use by Subversion; and the Subversion development team
have a distant goal of also creating an SQL-based backend for the
repository.
</p>

<p>
That's not all: <a href="http://www.monotone.ca/">Monotone</a> has been using
SQLite since its inception as its local storage backend, and reportedly
<a href="http://en.wikipedia.org/wiki/IBM_Rational_ClearCase">ClearCase</a>
is using a database called
<a href="http://en.wikipedia.org/wiki/Raima">"Raima"</a>. And naturally,
I expect that even git, Bazaar, Mercurial and similar version control systems
implement a database storage of some sort internally.
</p>
</li>

<li>
<p>
We discussed the
<a href="http://en.wikipedia.org/wiki/Simple_Simon_%28solitaire%29">Simple
Simon solitaire</a>, which I've introduced Ido (ik) to and to which he became
addicted to lately. I've ranted a
bit about how "Solitaire" (or what the British call "Patience games") is
actually a generic name for single-player card games, and that what Windows
calls "Solitaire" is actually just some variants of Klondike Solitaire.
</p>

<p>
We compared and contrasted both <a href="http://pysolfc.sourceforge.net/">PySolFC</a> and KDE 4's KPatience.
</p>

<p>
The one who introduced me to Simple Simon was
<a href="http://www.behindkde.org/people/stephan/">Stephan Kulow</a> of KDE
fame, who when I told him that I'd like to adapt Freecell Solver to solve
Klondike said that "I don't think the world is ready for that." and then
added that he could really use a solver for Simple Simon. After playing
a few games of Simple Simon, and experimenting a little with the
fc-solve C code, I was able to create a satisfactory solver, but then I also
started to like Simple Simon and played a lot. And it was contagious as my
mother and my sisters also started to play it.
</p>

<p>
Right now, the KPatience's Simple Simon demo ends up in many practically
infinite loops of no apparent objective. I hope to work on converting it
to use my solver instead (which does not exhibit this problem), but it
will take some work.
</p>

</li>

<li>
About 5 of us went to eat at Spaghetim (an Italian restaurant in Ramat-Gan)
after the meeting. Besides me, there
were two Perl programmers ( http://szabgab.com/ and Sawyer, who was the
presenter) and two Python programmers and I was appointed as the referee. We
were able to explain some stuff from both languages to the other party.
</li>

<li>
Szabgab mentioned that when he asked some people he gave training to if
they know Perl, they said "No, I can only read it.", which to him seemed to
imply that maybe Perl's reputation as a write-only language was unfounded.
</li>

<li>
When we discussed Ram's Garlicsim ( http://garlicsim.org/ ) he mentioned
that he is mostly a web contractor, but that he would prefer to be hired for
writing simulations. Then Sawyer mentioned that often an invention brings a
necessity, which reminded us of
<a href="http://www.shlomifish.org/philosophy/books-recommends/#guns_germs_and_steel">the
book "Guns, Germs and Steal"</a>. It is highly recommended. Then we discussed
some other books by the same author and I
ended up saying that I've also read
<a href="http://www.shlomifish.org/philosophy/books-recommends/#bicameral_mind">the
book "The Origins of Conciousness In the Breakdown of the Bicameral Mind" by
Julian Jaynes</a>, which I enjoyed and found of a
similar interest to "Guns, Germs and Steel" because of its philosophy of
taking a bird eye's view of human history.
</li>

<li>
Also in the after-meeting, we discussed automated tests and test coverage,
and someone said that it may not be indicative of how well all the edge
cases were dealt with. For example we can test that the tests cover
the expression "z = x / y", but it won't warn us that we dealt with the
case that "y" is zero, which we should. Someone noted he likes the green
indication that he has 100% test coverage. On Perlsphere
<a href="http://blogs.perl.org/users/ovid/2010/03/100-test-coverage.html">Ovid
recently wrote that a general piece of advice is that one should not strive
for 100% test coverage</a>.
</li>

<li>
We saw a demo of <a href="http://garlicsim.org/">GarlicSim</a> (which is
LGPLed), and its Wx-interface (which is at the moment not open source,
but has the source available for download under restrictive terms). Ram
showed us how he started a simulation where the simulator calculated a line,
and then it was possible to branch it into a different line of execution
and continue from there. He intends to continue working on GarlicSim into the
near future and then hopefully be able to give some presentations about it
to the local open-source clubs.
</li>

</ol>

<p>
To sum up, it was a great meeting, and I hope this trend will continue.
</p>

</div>


<div class="entry" id="list-of-foss-for-windows">

<!-- Tags: open, source, windows, foss, www, perl
-->

<h2>2010-05-03: The Quest for a List of Open Source Software for Windows</h2>

<p>
As I was editing
<a href="http://teachingopensource.org/index.php/How_to_start_contributing_to_or_using_Open_Source_Software">the wiki document I've started writing called
"How to start contributing to or using Open Source Software"</a> on the
Tecaching Open Source wiki, I've reached the part where I instruct people
to try and use open source applications for Microsoft Windows, and was
looking for lists of FOSS for Windows. I remembered
<a href="http://www.opensourcewindows.org/">the "Open Source Windows" site</a>,
which is nice and aesthetic, but not very comprehensive, and noticed
they got rid of the second page, which contained some other programs. So I
had to find another list.
</p>

<p>
A google search yielded many lists that were either not maintained,
disorganised, not open for easy editing, or all of them. Eventually, I decided
to look for something in the wikipedia and got to
<a href="http://en.wikipedia.org/wiki/List_of_free_and_open_source_software_packages">the List of free and open source software packages</a>, which I was
familiar with, but was not Windows-specific. However, on its bottom
I found a link to
<a href="https://help.ubuntu.com/community/ListOfOpenSourcePrograms#preview">the
List of Open Source Programs (LOOP) for Windows</a> on one of the Ubuntu
wikis, and this seemed like the best of breed and what I was looking for.
I was already able to login to the wiki, add some programs I was familiar
with, and do some comsetic fixes. I also added it to the document,
favourited it on StumbleUpon, and linked to it from my homepage. Now I'm
blogging about it here to publicise it.
</p>

</div>


<div class="entry" id="recent-hacktivity-log-2010-05-09">

<!-- Tags: recent, hacktivity, log, perl, freecell, solver
-->

<h2>2010-05-09: Recent Hacktivity Log</h2>

<p>
Here is another boring recent hacktivity log, feel free to skip it. It was
motivated by <a href="http://perlbuzz.com/2010/04/what-are-you-working-on-in-perl.html">Perlbuzz's question: "What are you working on in Perl?"</a> and the
comment I've posted there in reply, though it's not restricted to Perl alone.
So thanks to Andy Lester from Perlbuzz for inspiring this post.
</p>

<p>
First of all, a note about my general status recently: I've been lacking
physical energy, and feel like I often cannot exercise a lot, and would rather
not travel too much outside my neighbourhood (including not to many FOSS
events). I don't know the exact reason why. I am still motivated to work
on the computer. I also have been working primarily on code and a small amount
of humour stuff, and not too many essays, articles and blog posts, which may
not be a bad thing, because essays and philosophical stuff may be considered
"schema-driven" (as my psychologist had put it). Besides coding, I've been
playing Fillomino and other games on <a href="http://brainbashers.com/">Brain
Bashers</a>, playing some PySol (Freecell and Simple Simon primarily), dealing
with bug and problems in my Mandriva system as I run into them, chatting on
IRC and Instant Messaging, writing some E-mails, including some to answer the
questions of random people on various mailing lists, and doing some job
hunting.
</p>

<p>
I turned 33 (or 21h like the <a href="http://en.wikipedia.org/wiki/DOS">DOS
interrupt</a>) on 5-May, and also attended my cousin's birthday party on
Friday, and had a lot of fun playing ball with a different cousin's son
at the party, and also enjoyed the food there. But on to the hacktivity:
</p>

<p><b>Recent Hacktivity - for real this time.</b></p>

<p>
I've worked on <a href="http://www.shlomifish.org/open-source/projects/XML-Grammar/Fiction/">XML-Grammar-Fiction/Screenplay</a> a lot recently. I've decided
to merge the two modules because XML-Grammar-Fiction started as a fork
of XML-Grammar-Screenplay, which was then improved, and I've started forward
porting its changes to X-G-Screenplay. Forward-porting the changes to
X-G-Screenplay proved to be very not straightforward due to the fact that I
converted the X-G-Screenplay parser from being procedurally recursive to being
more stateful and incremental with O(1) function call stack.
</p>

<p>
Then I had to merge the two codebases into a few base classes and two
specialised sub-classes. Then I merged different parts. While there were still
some things I wanted to do in my ongoing clean-ups, I decided to upload
version 0.1.0 to CPAN as it is, in order to get some CPAN testing, to
"release early, release often" and because perfect is the enemy of good. I
indeed got some CPAN testers failures indicative of bugs which I have since
hopefully resolved.
</p>

<p>
A bit off-topic from the question of this post, but I took a break from working
on Perl code per-ce and started working on incorporating a new feature, which I
nicknamed "flares" to <a href="http://fc-solve.berlios.de/">Freecell
Solver</a>. I was able to split the code into many commits, each one passing
all the existing and possibly new tests (some of which are written in Perl 5).
Back in the early Freecell Solver 2.8.x-or-below-days, when I was less careful
and methodical, I would have just written it in one swoop and then spend many
fun hours with gdb trying to isolate and correct many bugs. But now I know
better than to do that. I still had to use gdb and other debug mechanisms, but
this time I was able to detect the source of the bug and correct it relatively
quickly. Having automated tests rule!
</p>

<p>
I've had to write some text analysis logic in ANSI C, while using only mostly
standard libc/libm functions and really wished I could have done it in Perl. I
wrote and refactored some testing code in Python/PyTAP, because I needed ctypes
to interface with the binary shared library. In the course, I've written some
pretty complex <a href="http://search.cpan.org/dist/Test-Count/">Test-Count (=
a CPAN module to keep track of TAP tests' counts)</a> code (and enjoyed the
fact that I can source variable calculations from common modules, which I've
added for a previous project (which I don't recall what it is now.)) I also
made use of a <a href="http://en.wikipedia.org/wiki/Radix_tree">radix tree</a>
building and compiling Perl 5 program that I wrote for managing Freecell
Solver's command line arguments.
</p>

<p>
Finally, I prepared
<a href="http://www.shlomifish.org/lecture/Perl/Lightning/Mojolicious/">a
short presentation about the Mojolicious web-development framework</a>,
which I've
<a href="http://community.livejournal.com/shlomif_tech/47160.html">blogged
about previously</a>, and I end up explaining why I dislike it at the
bottom.
</p>

<p>
Not exactly my hacktivity but I'm glad that chromatic's suggesting of
porting Python's ctypes to Perl
<a href="http://socghop.appspot.com/gsoc/student_project/show/google/gsoc2010/tpf/t127230763807">has
materialised as a Google Summer of Code project</a>. I hope to assist
Ryan Jendoubi in doing this (without being intrusive.), because it
would be very cool to have something like ctypes in Perl 5.
</p>

<p>
So that's it, I guess. Happy upcoming
<a href="http://en.wikipedia.org/wiki/Shavuot">Shavouth</a> everyone!
</p>

</div>


<div class="entry" id="perl-5-anti-abstraction-with_curr_line_ref">

<!-- Tags: perl, anti, pattern, lisp
-->

<h2>2010-05-20: Perl 5 Anti-abstraction: _with_curr_line</h2>

<p>
In the old XML-Grammar-Screenplay code, I created a small _with_curr_line
method (unrelated to my previous post about
<a href="http://community.livejournal.com/shlomif_tech/46303.html">with()</a>) that read like that:
</p>

<pre>
sub _with_curr_line
{
    my ($self, $sub_ref) = @_;

    return $sub_ref-&gt;($self-&gt;curr_line_ref());
}
</pre>

<p>
What it does is evaluate a closure and passing it the reference to the current
line to "avoid" duplicate code. In one of my comments I also wrote
"# Now Lisp got nothing on us.", which as it turned out was completely untrue.
Furthermore, this abstraction, which was meant to get rid of explicitly
assigning the "curr_line_ref()" to a variable in many places made my code
much more messy. Some notable examples are:
</p>

<pre>
    # Skip the [
    $self-&gt;_with_curr_line(
        sub {
            my $l = shift;

            $$l =~ m{\G\[}g;
        }
    );
</pre>

<p>
Instead of:
</p>

<pre>
# Skip the opening square bracket - '['
${$self-&gt;curr_line_ref()} =~ m{\G\[}g;
</pre>

<p>
And:
</p>

<pre>
my $which_tag;
# We need this to avoid appending the rest of the first line
$self-&gt;_with_curr_line(
    sub {
        my $l = shift;

        # Apparently, perl does not always returns true in this
        # case, so we need the defined($1) ? $1 : "" workaround.
        $$l =~ m{\G([^\&t;\[\]\&amp;]*)}cgms;

        $curr_text .= (defined($1) ? $1 : "");

        if ($$l =~ m{\G\[})
        {
            $which_tag = "open_desc";
        }
        elsif ($$l =~ m{\G\&amp;})
        {
            $which_tag = "entity";
        }
        elsif ($$l =~ m{\G(?:&lt;/|\])})
        {
            $which_tag = "close";
        }
        elsif ($$l =~ m{\G<})
        {
            $which_tag = "open_tag";
        }
    }
);
</pre>

<p>
(As you can see, I assign to $which_tag inside the closure and have to declare
it beforehand).
</p>

<pre>
my ($sayer, $what);

($sayer) = $self-&gt;_with_curr_line(
    sub {
        my $l = shift;

        if ($$l !~ /\G([^:\n\+]+): /cgms)
        {
            Carp::confess(&quot;Cannot match addressing at line &quot; . $self-&gt;line_num());
        }
        my $sayer = $1;

        if ($sayer =~ m{[\[\]]})
        {
            Carp::confess(&quot;Tried to put an inner-desc inside an addressing at line &quot; . $self-&gt;line_num());
        }

        return ($sayer);
    }
);
</pre>

<p>
Regex fun and declaring the two variable twice.
</p>

<p>
As a result, I decided to get rid of this anti-abstraction and do
a simple "my $l = $self-&gt;curr_line_ref". Now what about Lisp? In Common
Lisp, one can declare a macro to define methods that will already
have the "<tt>l</tt>" for the current line reference variable pre-declared
and pre-assigned. Or maybe one can also temporarily rewrite the method
definition macros or add hooks for the duration of the class. So I guess this
could have been much better there, and Perl 5 is not as good as Lisp is in
this respect.
</p>

<p>
And I want to hear mst give a talk called
<a href="http://shadowcat.co.uk/blog/matt-s-trout/iron-man-lost?colour=natural_hair_colour&title=Patches+Welcome">Patches Welcome</a>
(might as well pool my votes to a good cause - I hope the talk will be recorded
and there will be slides available.)
</p>
</div>


<div class="entry" id="quirky-abstractions">

<!-- Tags: abstractions, perl, joel, joel on software, leaky
-->

<h2>2010-05-31: Quirky Abstractions</h2>

<p>
Joel Spolsky had written an essay titled
<a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">"The
Law of Leaky Abstractions"</a> where he discusses the fact that sometimes
one needs to be aware of details of the abstraction's implementation to know
how to properly make use of it. Today, I'd like to talk about an analogous
phenomenon which I came to call a <b>"quirky" abstraction</b>, in which
an abstraction over several technologies (probably two or more) fails to
expose certain features in one of the technologies that it abstracts.
</p>

<p>
I first noticed this concept in
<a href="http://stackoverflow.com/questions/2571620/encrypt-decrypt-sqlite-database-and-use-it-on-the-fly">a
Stack Overflow question of how to encrypt/decrtypt an SQLite database from
within Qt</a>. Now, the Qt SQLite backend module links against the vanilla
SQLite and not its encrypted implementations, so in order to make use of them
one will have to recompile Qt and possibly expose some extra functionality in
the abstraction.
</p>

<p>
At the moment, I've also volunteered to help maintain
<a href="http://search.cpan.org/dist/Graph-Easy/">the Graph-Easy
CPAN module</a> and the reason was that one of the features of GraphViz was
not exposed in its Graph-Easy backend, which brought the need to hack
something as a workaround.
</p>

<p>
Can quirky abstractions be avoided? I don't know. As the abstraced
technologies progress and gain more features, the abstraction
needs to keep up with them, which makes a situation of a quirky abstraction
more likely to occur.
</p>

<p>
I'm not sure quirky abstractions are as bad as leaky abstractions, but it's
still an phenomenon that we need to be aware of.
</p>

</div>


<div class="entry" id="next-meetings-2010-06-14">

<!-- Tags: perl, meeting, hamakor, israel, mongers
-->

<h2>2010-06-14: Rehovot Perl Mongers meeting on 15-June and Hamakor Assembly on 17-June</h2>

<p>
Here are some upcoming open-source-related meetings in Israel:
</p>

<p>
The next meeting of the <a href="http://rehovot.pm.org/">Rehovot
Perl Mongers</a> will take place on 15th June
(tomorrow) between 18:00-22:00 in the Weizmann Institute in Rehovot
in Room 101 in the Levine Building. See <a href="http://rehovot.pm.org/meetings.html"></a>the details and map.</a>. The talk ("Introduction to Perl 6"
by Gabor Szabo) starts at 18:30.
</p>

<blockquote>
<p>
Content:  Introduction to Perl 6
</p>

<p>
I've just written and gave this talk 2 days ago at the LinuxTag in Berlin.
</p>

<p>
After a short background and a few words on Perl 5 vs. Perl 6 I'll go over
a number of examples that is part of the imminent Rakudo Star release.
</p>

<p>
People who bring a notebook and will have enough network bandwidth will be
helped to install Rakudo on their machine. It is quite easy to install so
you could do it ahead of the meeting by following the instructions on
http://www.rakudo.org/
</p>
</blockquote>

<p>
On Thursday (17-June-2010), Hamakor, the Israeli NPO for free and open
source software will have a general assembly in Shenkar college, Frink
building, room 306 in 18:30.
</p>

<p>
<a href="http://www.shenkar.ac.il/template/default.aspx?maincat=5&amp;catid=32">Arrival instructions are available on Shenkar's site</a>
</p>

<p>
Thanks to Yoram Gnat for the help in organising a place.
</p>

</div>


<div class="entry" id="fsf-declaration-against-acta">

<!-- Tags: acta, legal, news, petition, fsf
-->

<h2>2010-06-24: Declaration against ACTA</h2>

<p>
<a href="http://en.wikipedia.org/wiki/Anti-Counterfeiting_Trade_Agreement">ACTA,
the so-called "Anti-Counterfeiting Trade Agreement"</a>, which is a trade
agreement that aims to criminalise a lot of the openness of the Internet
under the guise of fighting counterfeited goods. The Free Software Foundation
has <a href="http://www.fsf.org/campaigns/acta/acta-declaration">started
a declaration against ACTA</a>, which everyone should sign.
</p>

<p>
Also please help spread the word.
</p>

</div>


<div class="entry" id="automatically-restoring-wifi-connection-on-linux">

<!-- Tags: tip, tech, tech tip, linux, mandriva
-->

<h2>2010-07-11: Tech Tip: Automatically Restoring the Wifi Connection on Linux</h2>

<p>
Having bought a new laptop and after installing Mandriva Linux on it, I noticed
that the wifi (wireless networking) connection tends to get disconnected after
a while. Eventually I wrote this script to automatically restore it. Feel free
to re use it under the terms of the
<a href="http://en.wikipedia.org/wiki/MIT_License">MIT X11 License</a>. You
may need to adjust some parameters. Run this script as root in the background
(using <a href="http://tmux.sourceforge.net/">tmux</a> or GNU screen or
whatever).
</p>

<pre>
#!/bin/bash
while true ; do
	if ! ping -c 1 10.0.0.1 ; then
		/etc/init.d/network restart
	fi
	sleep 5;
done
</pre>

<p>
Hope it helps.
</p>

</div>


<div class="entry" id="telfoss-meeting-cool-RR-about-GarlicSim">

<!-- Tags: telux, telfoss, meeting, announcement, python
-->

<h2>2010-07-15: Tel Aviv Open Source Club Presentation: "GarlicSim" by Ram Rachum</h2>

<div dir="rtl" align="right">
<p>
<a href="http://tel.foss.org.il/">   - ()</a>
    
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_22_July_2010">
    GarlicSim</a>
 , 22 , 2010 -19:00
<a href="http://www.shenkar.ac.il/">    ('   12)</a>
 300 (<b> </b>      -
   ,  ,  19:00).  
<a href="http://www.shenkar.ac.il/template/default.aspx?maincat=5&amp;catid=32">
      </a>.
 ,  ,   
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_22_July_2010"></a>.
</p>

<p>
       .
</p>

<p>
  ,  
<a href="http://www.shlomifish.org/me/contact-me/">   </a>.
</p>

<p><b> </b></p>

<p>
<a href="http://garlicsim.org/">GarlicSim</a>
    ()   .  
      ,     .
          , 
      .
</p>

<p>
GarlicSim
  , ,  .   
      : ,  ,  ,
, .        .
      .      
-GarlicSim      .
</p>

<p><b> </b></p>

<p>
<a href="http://cool-rr.com/"> </a>
  .     GarlicSim,      
<a href="http://pythonturtle.org/">PythonTurtle</a>,
         .
</p>

<hr />

<p>
        
 - .     ,
      ,   .
</p>

</div>

</div>


<div class="entry" id="git-status-tip">

<!-- Tags: tip, tech tip, tech, git, vcs, scm
-->

<h2>2010-07-30: Git Tip: git status</h2>

<p>
I've had to work with
<a href="http://en.wikipedia.org/wiki/Git_%28software%29">the
git version control system</a> extensively in the past few weeks (due to
the proliferation of projects I'm involved in that use it.). I
found the standard "git status" output to be far too wordy and annoying,
and sought a way to improve it and make it more subversion like.
"man git-status" helped with this: one can write <tt>git status -s</tt> to
get an output similar to <tt>svn status</tt> (or <tt>svn st</tt> for
short) and <tt>git status -s .</tt> to restrict the output only to files
below the current directory (and not get the <tt>../</tt> files). Enjoy!
</p>

</div>


<div class="entry" id="recent-hacktivity-2010-07-31">

<!-- Tags: recent, hacktivity, perl, cpan
-->

<h2>2010-07-31: Recent Hacktivity Log</h2>

<p>
Another boring recenty hacktivity log. First of all, in case you have not
heard <a href="http://rakudo.org/announce/rakudo-star/2010.07">Rakudo Star,
a usable implelmentation of Perl 6</a> has been released after a lot of work.
Now on to the hacktivity.
</p>

<p><b>File-Format-CRD</b></p>

<p>
I released the first version of
<a href="http://search.cpan.org/dist/File-Format-CRD/">File-Format-CRD</a>
to CPAN. This is a CPAN distribution that processes
<a href="http://filext.com/file-extension/CRD">Windows Cardile (.CRD)
files</a> (does anybody still remember those?) and allows to convert
them to other formats. I wrote it because the only program with source that
I found for them was written in C and converted them to invalid HTML. I based
my efforts on it.
</p>

<p>
After I wrote the program I was able to extract the contents of an old
CRD file I had with riddles, but then was appalled from the immaturity there
(as I wrote it during high school). Still, the module may prove useful. It
seems like the second CPAN distribution in the File-Format-* namespace after
File-Format-RIFF, but I could not find any place better to put it.
</p>

<p><b>Test-WWW-Mechanize-LibXML</b></p>

<p>
<a href="http://search.cpan.org/dist/Test-WWW-Mechanize-LibXML/">Test-WWW-Mechanize-LibXML</a>
is another off-shoot of my project for Insurgent Software, that provides
some primitives to test web pages' content using
<a href="http://search.cpan.org/dist/HTML-TreeBuilder-LibXML/">HTML-TreeBuilder-LibXML</a>.
Right now, it requires some funky multiple-inheritance to work together with
Test-WWW-Mechanize-Catalyst because they both override the same function. But
it's there.
</p>

<p><b>libfilefind</b></p>

<p>
I've continued working on libfilefind, which is a translation of
<a href="http://www.shlomifish.org/open-source/projects/File-Find-Object/">File-Find-Object</a> to C using glib. Translating the Perl code to C is very
tedious, and since I have a lot of Perl code, I decided to translate it all at
once, pray, and then test it. After that, I hope to create Perl bindings to
this library, and put them on CPAN in order to increase File-Find-Object's
speed.
</p>

<p><b>catable</b></p>

<p>
I've done a little work on
<a href="http://www.ohloh.net/p/catable">Catable</a>, which is our
Catalyst-based blog engine.
</p>

<p><b>Homepage</b></p>

<p>
I've done some work on the homepage, adding yet-unannounced pages,
and also adding some more "&lt;meta /&gt;" keywords to existing pages.
</p>

<p><b>Project Euler</b></p>

<p>
This weekend, I've made
<a href="http://bitbucket.org/shlomif/project-euler">a lot of progress with
solving Project Euler problems</a>. One problem which took me a long time
to get right was eventually solved using
<a href="http://en.wikipedia.org/wiki/Test-driven_development">Test-driven
development (TDD)</a> and then I made more progress including solving one
problem by hand.
</p>

<p><b>Games-Solitaire-Verify</b></p>

<p>
I released a new version of
<a href="http://fc-solve.berlios.de/verify-code/">Games-Solitaire-Verify</a>
and this time took
<a href="http://blogs.perl.org/users/sawyer_x/2010/03/modules-vs-applications.html">Sawyer
X's advice</a> and included a small command-line application inside, which
proved useful for me as well in my Solitaire research.
</p>

</div>


<div class="entry" id="telfoss-meeting-zohar-babin-about-kaltura">

<!-- Tags: telux, telfoss, meeting, announcement
-->

<h2>2010-08-07: TelFOSS Meeting: Kaltura, the Open Source Video Platform</h2>

<p>The <a href="http://tel.foss.org.il/"
>Tel Aviv Open Source Club</a>
will host <a
href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_12_August_2010"


rel="nofollow">a presentation about Kaltura, the Open Source Video Platform</a>
by Zohar Babin on Thursday, 12-August-2010, at 19:00 in <a
href="http://www.shenkar.ac.il/"
>Shenkar College in Ramat Gan
(12 Ann Frank St.)</a> room 300 (<b>note</b> the change of time and place from
the previous meetings - we are now meeting in Shenkar College, on a Thursday
and on 19:00.). There's <a
href="http://www.shenkar.ac.il/template/default.aspx?maincat=5&amp;catid=32"
rel="nofollow">a map with directions on the Shenkar College's site</a>. Further
details, maps for arrival, etc. can be found <a
href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_22_July_2010"
rel="nofollow">on the Wiki</a>.
</p>

<p>
Attendance is free, it is not necessary to RSVP and everyone are welcome.
</p>

<p>
With any other problems, feel free to <a
href="http://www.shlomifish.org/me/contact-me/"
>contact the
organiser</a>.
</p>

<p><b>Abstract</b></p>

<p><a href="http://corp.kaltura.com" class="external
text" >Kaltura</a> (also see <a
href="http://en.wikipedia.org/wiki/Kaltura"
>its Wikipedia entry</a>) allows publishers of all sizes to easily, quickly, and cost
effectively enhance their web site with video and interactive rich-media
functionalities, including video management, searching, uploading, importing,
editing, annotating, remixing, sharing, and advertising.

</p><p>Unlike the alternative proprietary solutions, Kalturas platform is
completely flexible, extensible and free! Web publishers,
value-added-resellers, and integrators use our software development kit to
customise a unique rich media experience that fits their specific purposes, and
seamlessly integrates with many popular content management systems. Moreover,
Kalturas reference implementations and growing library of applications,
extensions and plug-ins allow publishers to select off the shelf solutions for
rapid self-serve deployments that can be fully enabled within minutes.
</p><p>Visit <a href="http://www.kaltura.org"
>Kaltura.org</a> for the community
site, forums and all the open source projects that are part of the Kaltura
Platform.  </p>

<p><b>In the lecture</b></p>

<ul><li> We will cover all
major aspects of online video and why a platform to handle the various tasks is
required.  </li><li> We will learn about ways to install the <a
href="http://www.kaltura.org/project/community_edition_video_platform"
rel="nofollow">Kaltura CE v2.x</a>, and use it to deploy your own video
website/RIA.

</li><li> There will be an open discussion about using and extending Kaltura
for personal use, academic use and enterprise solutions for rich-media
knowledge management.  </li></ul>

<p>This lecture is an open invitation to
learn more, try out and become a part of this fast growing and exciting open
source solution.  </p>

<p><b>About the Lecturer </b></p>

<p>Passionate about
people, ideas, technology and video; Always ready to chat about innovative
ideas or creative solutions, Zohar is a community technology activist and
programmer. Among his interests are the study of communities, collaboration,
open source, digital art, Video and 3D.  </p><p>Zohar works at Kaltura where he
heads Developer Relations &amp; Community.  </p><p>He is a fellow manager of
flashoo.co.il, the Israeli Flash Platform developer community, founder of
WebiTalks the Israeli web developer community and frequently speaks at web
events worldwide.

</p><p>Twitter: <a href="http://twitter.com/zohar"
>@zohar</a> And his <a
href="http://www.zoharbabin.com/"
>fresh new Blog</a> </p><p>A
video artist by heart, developer by night.&nbsp;:) </p> <hr /> <p>We are always
looking for people who will volunteer to give presentations on various topics
that are related to open source code and to computers. In case you are
interested to give a talk, or that you have a suggestion for a talk that
interests you, we'll be happy to hear from you.  </p>

</div>


<div class="entry" id="report-on-august-penguin-2010">

<!-- Tags: perl, linux, israel, august, penguin, report, foss, open, source, software
-->

<h2>2010-08-09: Report on August Penguin 2010</h2>

<p>
Hi all. This is a report on the
<a href="http://august.penguin.org.il/">August Penguin 2010</a> conference,
which I've attended and enjoyed. I decided to write it in English due to the
proliferation of Hebrew reports, out of convenience, and in order to publicise
the Israeli open source activity abroad. So here goes nothing.
</p>

<p>
First of all, an apology: I wanted to publicise the conference more
intensively, but I got distracted by the fact that the opening paragraph
in the site was supposed to be fixed (and I did not know how to fix it because
I'm not a Drupal expert and there was no edit button there), and that I started
working intensively on a for-pay project (and a Perl and
<a href="http://www.catalystframework.org/">Catalyst</a> one at that) shortly
before the conference, which turned out to be time-consuming and
also distracted me. So I apologise if it resulted in fewer people attending
the conference, and I'll try to keep it in mind for next year.
</p>

<p>
In any case, I posted an E-mail to the mailing list asking for a ride,
and <a href="http://www.zak.co.il/">Omer Zak (a.k.a "TDDPirate")</a>
volunteered to give me a ride. After negotiating an hour, I realised I needed
to wake up at 06:00 AM, in order to catch the ride. The alarm woke up me
up and I had relatively little trouble to get up. I made some preparations,
ate something, and started playing a deal of Freecell in
<a href="http://pysolfc.sourceforge.net/">PySolFC</a> (which later on during
the day motivated me to
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/1067">find a performant scan for Freecell Solver</a> to solve it), and didn't finish
in time. Then I went to meet Omer.
</p>

<p>
He picked me up on Keren Kayemet Boulevard a long stretch before the
designated meeting place. Apparently he was early (or I was a bit late),
and had to diverge from the main road. So we drove all the way to
Weizmann Institute where the August Penguin conference took place. The ride
was relatively uneventful, there were no substantial traffic jams, but we saw
another car with some FOSS-related stickers on the way (probably going to the
conference as well). We arrived early before the doors of the hall were open,
but other people got there too and I've talked with them a little and also
posed for a photograph with my name.
</p>

<p>
After they opened the doors, I helped carry some food and stuff from the cars,
and then ate some of the pastries that were brought and drank some assorted
juices - all of which were good. (I think I had eaten too much during the
conference, because later on, I didn't have too much appetite for the midday
meal).
</p>

<p>
In any case, I met a few old and new people during the conference. One of
them told me he met me on <a href="irc://irc.freenode.net/#perl">Freenode's
#perl</a>, where I guided him a bit and that he was on Freenode often. He
brought an Archlinux-based laptop, and also said he's been writing some Perl
scripts for various tasks. I've also met
<a href="http://ddorda.useopensource.net/">Dor</a> for the first time as
he was volunteering in the Ubuntu-Israel stand.
</p>

<p>
I should note that I had volunteered to guide a blind attendee and she
eventually arrived and I showed her where everything was in the hall. During
one of the breaks, I also showed her where
<a href="http://blog.oriidan.info/">Ori</a> was. She asked me to escort her
to the bus station in order, but eventually someone else volunteered
to escort her a short time before I went out of the hall to do so.
</p>

<p>
I enjoyed several of the presentations there especially the ones about
<a href="http://wildfiregames.com/0ad/">the 0AD game</a> (which looked great
based on the screenshots and screencasts), and
<a href="http://oknesset.org/">the Open Knesset
(= the Israeli parliament)</a> project. I stayed up to the giving of
the Hamakor prize, where I was invited to the stage to receive the third
place for the communal prize for <a href="http://perl.org.il/">the Israeli
Perl Mongers</a>.
</p>

<p>
Omer eventually gave me a ride back home after wrapping up the transcripting
business there.
</p>

<p>
So the conference was very nice and I enjoyed it a lot. Here's to next
year's conference, and hope to see you in
<a href="http://wiki.osdc.org.il/index.php/Tel_Aviv_Meeting_on_12_August_2010">the upcoming Tel Aviv Open Source Club meeting this Thursday</a>.
</p>

</div>


<div class="entry" id="perl-debugger-tip-session-startup-file">

<!-- Tags: perl, debugger, tip, tech, tip, tech
-->

<h2>2010-08-25: Perl Debugger Tip: A Session Startup File</h2>

<p>
Here's a small Perl debugger tip: in order to have a file whose commands
will be executed at the start of the debugging session (for example in order
to get to a certain point in the code) - a session startup file, similar
to gdb's <tt>--command=cmds.gdb</tt> flag - one can do the following:
</p>

<p>
First of all write a file with the debugger commands you want (let's call it
<tt>cmds.perldb</tt>) and then when inside the perl debugger say:
</p>

<pre>
source cmds.perldb
</pre>

<p>
This will execute all the commands.
</p>

<p>
I noticed that after a while the perl debugger stores it inside the history
(assuming you're using Term-ReadLine-Gnu), so you can recall it with
<tt>s</tt> and then pressing the <tt>history-search-forward</tt>
and <tt>history-search-backward</tt> that were set up (Mandriva assigns
them to Page Up and Page Down).
</p>

<p>
Enjoy and I'm sorry for having neglected this blog for a long while!
</p>

</div>


<div class="entry" id="">

<!-- Tags: web, html 5, firefox
-->

<h2>2010-08-31: Is the web becoming fragmented?</h2>

<p>
<a href="http://www.catonmat.net/">Peteris Krumins</a>
<a href="http://www.catonmat.net/blog/node-js-knockout-competition">writes:</a>
</p>

<blockquote>
<p>
So I participated in the 48 hour Node.js Knockout competition together with
James Halliday and Joshua Holbrook. Our team was called Dark Knights and we
created an online chess application called Node Chess.
</p>

<p>

</p>

<p>
Oh, and it <b>works only [on] Chrome. Ancient-browsers-please-be-gone!</b>
</p>

</blockquote>

<p>
My question is: how can you call Firefox, whose
<a href="https://developer.mozilla.org/devnews/index.php/2010/07/23/firefox-3-6-8-now-available-for-download/">latest stable release was on the 23 of July
this year</a> and which has perfectly usable and nightly builds <b>ancient</b>?
</p>

<p>
It is highly possible that due to the recent hype surrounding HTML 5 and its
mutually partial implementation by the different browsers, that we are entering
a situation where many sites or demos will only work on particular browsers.
This didn't start with Peteris' post - naturally. Previously, someone from
<a href="http://www.isoc.org.il/">the Israeli Internet Society</a>
referred me to some demos that said required a WebKit-based browser, and during
a presentation about HTML 5 in an "Alphageeks" meeting, the presenter had
to use three different browsers, because all the features he wanted to
demonstrate did not work on all of them. And this is without taking
the account
<a href="http://arstechnica.com/open-source/news/2010/06/mozilla-evangelist-criticizes-apple-html5-showcase.ars">Apple's
block of non-"Apple Safari" browsers from its HTML 5 demos</a>
and the fact that <a href="http://www.spice-space.org/">www.spice-space.org</a>
obnoxiously redirects you to
<a href="http://www.spice-space.org/noscript.html">"This site requires JavaScript" page</a> if JavaScript is disabled, and many other sites do not function
properly without JavaScript enabled.
</p>

<p>
And as a commenter on Reddit for a web demo said, while the
<a href="http://en.wikipedia.org/wiki/Demoscene">demoscene</a> people have
been trying to produce demos that utilise the most out of the computer's
resources, the web demos have come to waste a lot of resources in creating
anachronistic demos, whose only selling point is that they run inside
a browser. As <a href="http://www.joelonsoftware.com/articles/FB4.5.html">Joel
on Software notes</a>: <q>Combined with the speed and responsiveness from Ajax,
FogBugz has <i>almost</i> reached the level of speed and fluidity of my dry
cleaner's DOS 2.0 character mode database application. And that's pretty darn
responsive for a web app.</q>
</p>

<p>
Are we headed into another "Best viewed with Netscape 2.0", "Best viewed with
Internet Explorer 4.0", etc. era of web fragmentation, because we opened
the Pandora box of HTML 5? As for me, if I were a judge on that competition
that Peteris took part of, I would fail his project due to not being capable
of running on my ancient browser.
</p>

</div>


<div class="entry" id="perl-debugger-tip">

<!-- Tags: perl, debugger, tip, tech, tech tip
-->

<h2>2010-09-12: Perl Debugger Tip: Viewing Using The Pager</h2>

<p>
Here's another Perl 5 debugger tip: if the output of a command is too long,
one can prefix it with "|" (a vertical bar / pipe) to display it using the
pager. So, for example
<tt>|x $my_object</tt> will display $my_object using the shell's pager (
<a href="http://www.gnu.org/software/less/">GNU less</a> or more or
whatever). Enjoy!
</p>

</div>


<div class="entry" id="copying-ubuntu-bug-no-1">

<!-- Tags: ubuntu, linux, open source, humour
-->

<h2>2010-09-23: Copying Ubuntu Bug No. 1</h2>

<p>
<b>Tel Aviv, Israel:</b> "Ubuntu can't have all the fun only for itself",
open source distributors are saying as they rush to copy its
<a href="https://launchpad.net/bugs/1">Bug No. 1</a> titled "Microsoft has
a majority market share".
</p>

<p>
Debian, Ubuntu's parent distribution, has set up
<b>Debian Bug No. 1</b> which also reads "Microsoft has a majority market
share". Mandriva,
another competing distribution has set up
<a href="https://qa.mandriva.com/show_bug.cgi?id=1">Mandriva
Bug No. 1: "Microsoft has a majority market share and Ubuntu has a majority
market share on the Linux desktop"</a>. Fedora, Gentoo, Archlinux, Slackware
and other distributions are expected to follow suit.
</p>

<img src="http://www.shlomifish.org/humour/bits/Copying-Ubuntu-Bug-No-1/mdv-bug-1.png" alt="Mandriva Bug No. 1 Thumbnail" />
<p>
Mandriva's Bug No. 1.
</p>

<p>
In the meanwhile, Microsoft Corporation (MSFT) have decided that they won't
stay out of the game, and have unveiled their brand new web-based bug-trackers,
with "Microsoft Windows Bug No. 1: Windows does not have a 100% market-share",
and "Microsoft Internet Explorer Bug No. 1: We are losing market-share to
Firefox and other browsers.". Among the enthusiastic responses from
commentators on the bugs one can find "Why is this a bug, FFS???" by
"MS-must-Die" and "If this is a bug then I'm a Jackalope, though you should
fix many of the f***ing bug dependencies." by "Slashdot Anonymous Coward".
</p>

<p>
Some prominent open-source projects such as
<a href="http://bitbucket.org/rg3/youtube-dl/">youtube-dl</a>,
<a href="http://lly.org/~rcw/abcde/page/">abcde (A Better CD Encoder)</a>
and <a href="http://bashdb.sourceforge.net/">bashdb (the Bash Debugger)</a>
have decided to duplicate Ubuntu bug No. 1 with all of its comments as their
own "Bug No. 1"s noting that "Microsoft's dominance of the market
threatens the very fabric of our existence, and it is our utmost priority to
fight it".
</p>


<img src="http://www.shlomifish.org/humour/bits/Copying-Ubuntu-Bug-No-1/youtube-dl-bug-1.png" alt="youtube-dl's Bug No. 1 Thumbnail" />
<p>
youtube-dl's Bug No. 1.
</p>

<p>
Ubuntu's Bug No.1 proved to be a good publicity stunt for Ubuntu and a
focus of active (and often tangential) disucssion. However, now it seems that
Ubuntu are not alone in this, and it remains to be seen how their competitors
will benefit from copying it.
</p>

<p>
Ubuntu's former CEO Mark Shuttleworth is pleased with the ongoing popularity
of the "bug No. 1" meme. "We believe that Ubuntu's bug No. 1 was the key
differentiating factor in the success of Ubuntu, and we are glad other open
source projects finally realise that. Hopefully, we will soon open more bug
No. 1s (different bugs with the same number) for 'Ubuntu has an equal
marketshare to distribution X'".
</p>

<p>
Meanwhile, some voices on Ubuntu bug No. 1 have called for converting
its status from "critical" to "release critical", which will make it block
a new Ubuntu release until the bug is resolved. "I am positive that we should
not release a new version of Ubuntu while Microsoft still has a majority
market-share", said an anonymous commenter, "it certainly must block new
releases, and Ubuntu releasing new versions with such a grave bug still
open only amplifies the problem."
</p>

<h2 id="licence">Licence</h2>

<p>
<!--Creative Commons License-->
<a rel="license"
href="http://creativecommons.org/licenses/by-sa/2.5/"><img
    alt="Creative Commons License" class="bless"
    src="$(ROOT)/images/somerights20.png" /></a><br />This
work is licensed under the
<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative
Commons Attribution-ShareAlike 2.5 (Unported) License</a> (or at your option
any greater version of this license). Copyright holder is Shlomi Fish and year
of copyright is 2010.
<!--/Creative Commons License-->
</p>

<p>
To attribute, please mention my name, and link to this page and
<a href="http://www.shlomifish.org/">to my homepage</a>.
</p>

</div>


<div class="entry" id="estimating-the-size-of-mojomojo">

<!-- Tags: perl, lines, code, hacking, CPAN, testing, qa
-->

<h2>2010-10-02: Estimating the Size of the Perl 5 MojoMojo Wiki</h2>

<p>
There was an myth going on that
<a href="http://tech.groups.yahoo.com/group/hackers-il/message/4104">"you
cannot write large-scale programs in Perl"</a>. It's been a while since
I've heard it but it's possible that Perl just went out of the hackers' radar.
In any case, today I wanted to address it by estimating the size of
<a href="http://mojomojo.org/">MojoMojo</a>, a wiki written in Perl. MojoMojo
stands at the top of <a href="http://ali.as/top100/">the CPAN Top "Heavy"
100</a> with dependencies on 330 direct and indirect CPAN distributions.
</p>

<p>
Here's the <b>executive summary</b>: MojoMojo and its dependencies contain
approximately 631,222 source lines of production code (what is under
the distributions' <tt>lib/</tt> directory) - all of it Perl - and
approximately 272,027 lines of testing code (what is under the <tt>t/</tt>'s)
, about 265,833 out of which are Perl. The total is 897,055 SLOCs of Perl.
</p>

<p>
Here is the <tt>lib/</tt> report by
<a href="http://www.dwheeler.com/sloccount/">SLOCCount</a>:
</p>

<pre>
Totals grouped by language (dominant language first):
perl:        631222 (100.00%)




Total Physical Source Lines of Code (SLOC)                = 631,222
Development Effort Estimate, Person-Years (Person-Months) = 174.27 (2,091.23)
 (Basic COCOMO model, Person-Months = 2.4 * (KSLOC**1.05))
Schedule Estimate, Years (Months)                         = 3.81 (45.68)
 (Basic COCOMO model, Months = 2.5 * (person-months**0.38))
Estimated Average Number of Developers (Effort/Schedule)  = 45.78
Total Estimated Cost to Develop                           = $ 23,541,431
 (average salary = $56,286/year, overhead = 2.40).
SLOCCount, Copyright (C) 2001-2004 David A. Wheeler
SLOCCount is Open Source Software/Free Software, licensed under the GNU GPL.
SLOCCount comes with ABSOLUTELY NO WARRANTY, and you are welcome to
redistribute it under certain conditions as specified by the GNU GPL license;
see the documentation for details.
Please credit this data as "generated using David A. Wheeler's 'SLOCCount'."
</pre>

<p>
And here is the <tt>t/</tt> report:
</p>

<pre>
Totals grouped by language (dominant language first):
perl:        265833 (97.72%)
pascal:        5888 (2.16%)
java:           168 (0.06%)
ansic:           96 (0.04%)
cpp:             30 (0.01%)
sh:              12 (0.00%)




Total Physical Source Lines of Code (SLOC)                = 272,027
Development Effort Estimate, Person-Years (Person-Months) = 72.01 (864.08)
 (Basic COCOMO model, Person-Months = 2.4 * (KSLOC**1.05))
</pre>

<p>
Now for a longer story of how I collected these statistics. At first I wanted
to download all the dependencies. For that I needed to list them. I looked at
<a href="http://search.cpan.org/dist/CPANDB/">CPANDB</a>, but could not figure
out how to do it properly using it, because its API still has many
SQLisms, and really needs a convenient high-level API. My SQL skills were
also too low to hack on the SQL directly. However, someone on
<a href="irc://irc.perl.org/#toolchain">#toolchain</a> referred me to
<a href="http://search.cpan.org/dist/CPAN-FindDependencies/">CPAN-FindDependencies</a>, whose synopsis did exactly what I needed. I ran it and it generated
a file with all the dependent modules and their CPAN distributions. This
was filtered using this shell one-liner:
</p>

<pre>
cat ~/mojomojo-deps.txt | ruby -ne 'puts $1 if / \(([^\)]+)\)/' |
    sort | uniq &gt; dep-dists.txt
</pre>

<p>
(Note - I've used ruby instead of perl here, not because I don't like Perl,
but because I've been trying to learn Ruby lately and could use the practice.
I can do the same with Perl, too, by adding -l and replacing "puts" with
"print".)
</p>

<p>
Then I got a list of paths like
<tt>A/AB/ABIGAIL/Regexp-Common-2010010201.tar.gz</tt> ,
<tt>A/AB/ABW/AppConfig-1.66.tar.gz</tt> etc. After trying to get the CPAN
client to download them to the current directory, I've given up and instead
used the following script:
</p>

<pre>
#!/bin/bash
cat ../dep-dists.txt |
    (while read T ; do
        echo "Doing $T" 1&gt;&amp;2
        L="$(basename "$T")"
        if [ ! -e "$L" ] ; then
            lwp-mirror http://biocourse.weizmann.ac.il/CPAN/authors/id/"$T" "$L"
        fi
    done)
</pre>

<p>
If you're using it, please replace the biocourse.weizmann mirror with a nearer
mirror - I used one suitable for Israel. Then I had a list of tarballs. I
cded to a different directory and ran a loop to unpack them all:
</p>

<pre>
for I in ../dists/*.tar.* ; do tar -xvf "$I" ; done
</pre>

<p>
Then I used the following loop for extracting only their lib directories:
</p>

<pre>
ls -d ../unpacked/*/lib |
    perl -lne '$x = $_; s{\A../unpacked/}{}; s{/}{-}; print "cp -a $x $_"' |
    bash
</pre>

<p>
(Note: it's not safe for <a href="http://community.livejournal.com/shlomif_tech/35301.html">paths containing special characters</a>, but I didn't
have to worry about it here.)</p>

<p>
I used a similar loop for t and  then ran SLOCCount (which is written in Perl)
on the directory structures yielding the final statistics.
</p>

<p>
Some <b>conclusions</b> are:
</p>

<ol>

<li>
Perl code can scale to large code-bases (over 600K lines of code). On the
original link I've pointed, the one who made that statement said after I
pointed him to some data disputing his claim that it was possible but it
was not easy. However, writing all this code was not extremely difficult
and I didn't hear that the maintainers of these CPAN distributions have
quit in despair because maintaining the distributions was too hard. So it's
possible and not too difficult.
</li>

<li>
It's probably a bit worrying that there is a relatively small percentage
of testing code out of the production code. I expected it to be higher.
</li>

</ol>

<p>
Finally, I should note that having discovered that MojoMojo can also be
used as a blog engine, I'm considering to abandon my
<a href="http://www.ohloh.net/p/catable">Catable project</a>, which aimed
to create a Perl and Catalyst-based blog engine (and
which still only has basic functionality) and simply use MojoMojo. Thanks
to EdwardIII from
<a href="http://perl.net.au/wiki/Freenode_Sharp_Perl_FAQ">#perl</a> for
pointing me to that.
</p>

<p>
Cheers!
</p>

<hr />

<p>
I should note that
<a href="http://community.livejournal.com/shlomif_tech/52689.html">my
previous post</a> (which was a joke) took an ugly turn when many of the
commenters there thought I was serious and flamed me. I don't usually
receive so many comments, but their tone depressed me a little. This post
is serious, I promise.
</p>

</div>


<div class="entry" id="shell-tip-writing-numbers-with-commas">

<!-- Tags: shell, perl, tip, syntax, bash
-->

<h2>2010-10-10: Bash Tip: Writing Numbers with Commas</h2>

<p>
One thing that vexes me a lot about computing conventions is that numbers
in most computer programs cannot be written with commas. Quick, is
60000000, six million or sixty million? Isn't 60,000,000 much better? Now in
Perl, one can use underscores in to separate the digits of numeric constants:
</p>

<pre>
my $one_milliard = 1_000_000_000;
</pre>

<p>
Here's how to achieve a similar effect in <a href="http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29">Bash</a>:
</p>

<pre>
MAX_DEAL='32,000'

freecell-solver-range-parallel-solve 1 "${MAX_DEAL//,/}" 500 -l by
</pre>

<p>
We've declared the number constant MAX_DEAL with commas, and we got rid
of the commas before passing it to the program using the <tt>//,/</tt>
trick. The latter is part of
<a href="http://tldp.org/LDP/abs/html/parameter-substitution.html">Bash's
parameter subtitution</a>. Search for "${var//Pattern/Replacement}" for the
specific use, which does global replacement of a pattern - in our case - a
comma, with a replacement - in our case - an empty string.
</p>

<p>
Death to the unreadable numbers!
</p>

</div>


<div class="entry" id="rehovot-pm-meetup-at-2010-11-09-mojo-and-poe">

<!-- Tags: perl, meeting, hamakor, israel, mongers
-->

<h2>2010-10-27: Rehovot.pm Meeting on 9-November-2010</h2>

<p>
The Hebrew text will be followed by an English one.
</p>

<div dir="rtl" align="right">

<p>
<a href="http://rehovot.pm.org/">    </a>
    -9  2010,  ,     :
</p>

<ol>

<li>
Mojolicious -    HTML 5. (    )
  .
</li>

<li>
POE -  -    .    ()
</li>
</ol>

<p>
   -18:00   -9 ,  101     .
</p>

<p>
   
<a href="http://rehovot.pm.org/">     </a>.
</p>

</div>

<p>
The <a href="http://rehovot.pm.org/">Rehovot Perl Mongers</a> will meet
on 9th November 2010 (a week earlier than expected) between 18:00 and 22:00
in thethe Weizmann Institute in Rehovot
in the Levine Building. See <a href="http://rehovot.pm.org/meetings.html"></a>the details and map.</a>.
</p>

<p>
The planned presentations are:
</p>

<ul>

<li>

<p><a href="http://corky.net/dotan/">Dotan Dimet</a>: <b>Mojolicious - duct tape for the HTML5 web</b>
</p>

<p>
<a href="http://mojolicio.us/">Mojolicious</a> is a new web development framework optimized to be "easy and fun", from Sebastian Riedel, the creator of Catalyst. I'll introduce the shiny pieces in the
Mojolicious tool chest and show how they fit together to make an application, and then we'll try to write a simple program and see how to test it using Mojolicious' built-in web client and XML parser.
</p>

<p>
Estimated time: 40 minutes talk, another hour to try things out.
</p>

</li>

<li>
<p><a href="http://blogs.perl.org/users/sawyer_x/">Sawyer</a>:
<b>POE - Event-based, multi-tasking framework for Perl</b>
</p>

<p>
Most programmers will eventually reach a point that will require or help them
to know event-based programming, such as writing a server that accepts multiple
connections (sockets, web, etc.), a file/diretory handling daemon or any system
background service.
</p>

<p>
POE has been the de facto standard in event-based programming in Perl for a
while now, thanks to its flexibility and incredible modularity. It might seem
intimidating but it's actually pretty simple and fun to work with.
</p>

<p>
I'll be giving an introduction to it with usage examples, helping those that
heard of it but were too scared, those who tried without success, those who
might be doing it wrong and lastly, those who don't even know what it is.
</p>

<p>
<tt>$rehovot_pm-&gt;on_event( poe_talk =&gt; \&amp;attend() );</tt>
</p>
</li>
</ul>

<p>
Hope to see you there.
</p>

</div>


<div class="entry" id="tech-tip-single-click-on-URL-on-Linux-DTRT">

<!-- Tags: tip, tech, tech tip, linux, mandriva, kde, firefox
-->

<h2>2010-10-28: Tech Tip: Making Single Click on a URL Do the Right Thing on Linux</h2>

<p>
I had a long-time problem on my Mandriva Linux system where, after I set
Firefox as the default browser on KDE, it either made KDE first download
the page to the hard-disk and redirect Firefox to access it from
<tt>/var/tmp</tt> - or, if I set the default browser to "firefox %u", it
opened the link in a new window twice.
</p>

<p>
Today I decided to go to the bottom of it, after seeing that an upgrade of
KDE on Mandriva Cooker did not fix the problem (which I was told would). After
consulting some people on IRC, I realised that I could not reproduce the bug
on a new UNIX user account, so it was a configuration problem here. Then I
realised that <tt>/usr/bin/www-browser</tt> which is what the
<tt>BROWSER</tt> environment variable points to also opens it this way. After
looking through the source code of <tt>www-browser</tt>, and testing some
command-line invocation of capture-shells there, I suspected the problem was
with a stray <tt>firefox.desktop</tt> file.
</p>

<p>
Running locate found two such files inside my home directory:
<tt>/home/shlomif/.gnome2/panel2.d/default/launchers/firefox.desktop</tt> and
<tt>/home/shlomif/.local/share/applications/firefox.desktop</tt>. Moving away
them both resolved the problem and now if the default browser is set to
"firefox", the Firefox opens a link in a single new tab after a single click.
</p>

<p>
Cheers, and hope it helps.
</p>

</div>


<div class="entry" id="perl-begin-update-2010-11-12">

<!-- Tags: perl, begin, perl-begin, open, source, open-source
-->

<h2>2010-11-12: Recents Enhancements to Perl-Begin.org</h2>

<p>
This post summarises the recent enhancements to
<a href="http://perl-begin.org/">the Perl
Beginners' Site</a>.
</p>

<ul>

<li>
<p>
We've added a comprehensive and growing
<a href="http://perl-begin.org//tutorials/bad-elements/">"Perl Elements
to Avoid"</a> page with many Perl paradigms that you should know better than to
incorporate into your code.
</p>
</li>

<li>
<p>
<a href="http://perl-begin.org/tutorials/impatient-perl/">"Impatient
Perl"</a> was updated to the latest version.
</p>
</li>

<li>
<p>
There's a new topical page about
<a href="http://perl-begin.org//uses/remote-login-and-commands/">SSH and Telnet</a>.
</p>
</li>

<li>
<p>
There's a new topical page
about <a href="http://perl-begin.org//topics/optimising-and-profiling/">optimising
and profiling Perl code</a>, in order to make it run faster.
</p>
</li>

<li>
<p>
There's a new page <a href="http://perl-begin.org//learn/perl6/">"What about Perl 6?"</a>.
</p>
</li>

<li>
<p>
The <a href="http://perl-begin.org//uses/text-generation/">page about text generation</a> was
greatly enhanced.
</p>
</li>


<li>
<p>
<a href="http://perl-begin.org//contribute/">The how-to contribute to the site section</a> now
includes the TODO and DONE files, which previously only existed in the
Subversion repository.
</p>
</li>

<li>
<p>
The headers at the top of the page were styled better after applying some
input from "tm604".
</p>
</li>

<li>
<p>
There are many other small improvments to the site both user-visible ones
and ones that were done to its internals.
</p>
</li>

</ul>

<p>
Perl-Begin continues to be the most comprehensive first-stop for Perl Beginners.
Moreover , its content is distributed under the Creative Commons Attribution
License (CC-by), and <a href="http://perl-begin.org/source/">its source
code is available</a> to facilitate contributions.
</p>

</div>

<div class="entry" id="recent-hacktivity-2010-11-13">

<!-- Tags: recent, hacktivity, perl, cpan, foss
-->

<h2>2010-11-13: Recent Hacktivity Log</h2>

<p>
This is another recent hacktivity log. First of all, I should note that my
new day job (working from home for a Tel Aviv-based startup doing Perl
and <a href="http://www.catalystframework.org/">Catalyst (a web-devel
framework for Perl)</a>) has been consuming a lot of time and energy, which
has taken its toll on my pro-bono open-source work. But I still have a lot
to tell.
</p>

<p><b>Freecell Solver</b></p>

<p>
I've done
<a href="http://tech.groups.yahoo.com/group/fc-solve-discuss/message/1075">a lot of work</a> on the <a href="http://fc-solve.berlios.de/">Freecell Solver</a>
trunk, including the long-planned RCS-like state storage of keeping only
the moves and the previous state in the states collection. Right now, what
I'm struggling with is constructing a good meta-scan that will yield short
solutions, based on the new scans I found recently, and fixing a nasty crash
after enabling some recent run-time command line flags. I've quite neglected
working on it recently due to being distracted with other things.
</p>

<p><b>libfilefind</b></p>

<p>
libfilefind, the C port of the File-Find-Object CPAN module is now passing
an initial test. It's much faster than the FFO Perl-based program, but still
slower than an equivalent Perl program written using File::Find. So I now need
to profile and optimise it further.
</p>

<p><b>Perl-Begin</b></p>

<p>
I did <a href="http://community.livejournal.com/shlomif_tech/53882.html">a lot
of work</a> on <a href="http://perl-begin.org/">the
Perl Beginners' Site</a>. Today I completed adding all the items in the
TODO list that I wanted to incoroporate into the
<a href="http://perl-begin.org//tutorials/bad-elements/">"Perl
elements to avoid page"</a>, so now I have time to blog instead. :-)
</p>

<p><b>Project Euler</b></p>

<p>
I made a lot of progress with solving
<a href="http://projecteuler.net/">Project Euler</a> challenges, and in the
process discovered a bug in the "primes" program from the bsd-games package.
Reading from a bug report I sent to its maintainer and the Debian maintainer:
</p>

<blockquote>
<p>
I discovered a bug in bsd-games' primes:
</p>

<p>
after downloading
http://ftp.de.debian.org/debian/pool/main/b/bsdgames/bsdgames_2.17.orig.tar.gz
and doing <tt>yes "" | ./configure</tt> (the interactive configure script
is very annoying, BTW) and "make primes/primes" on my x86-64 laptop
running Mandriva Cooker I'm getting the following:
</p>

<pre>
{{{
[shlomif@lap primes]$ ./primes 7757777777 7757777778
7757777777
}}}
</pre>

<p>
However, 7,757,777,777 is not prime:
</p>

<pre>
{{{
$ factor 7757777777
7757777777: 65827 117851
}}}
</pre>

<p>
This tripped me on this Project Euler challenge:
</p>

<p>
<a href="http://projecteuler.net/index.php?section=problems&amp;id=111">http://projecteuler.net/index.php?section=problems&amp;id=111</a>
</p>
</blockquote>

<p><b>KDE's Konsole</b></p>

<p>
Konsole is KDE's console window. I recenty reported
<a href="https://bugs.kde.org/show_bug.cgi?id=256353">a long time bug</a>
in Konsole and after I was done, I triaged some bugs. I discovered
<a href="https://bugs.kde.org/show_bug.cgi?id=256357">a crash bug</a> when
triaging a different crash, and also tried to reproduce many other crashes.
</p>

<p><b>perlipc</b></p>

<p>
I sent a series of patches to
<a href="http://perldoc.perl.org/perlipc.html">perlipc - the
Perl Interprocess Communication document</a> in an attempt to modernise it.
This started a dicussion on perl5-porters, and eventually Tom Christiansen
<a href="http://www.nntp.perl.org/group/perl.perl5.porters/2010/11/msg165771.html">posted an
"authorial perlipc edit"</a>, which was applied immediately. Some of my changes
were not incorporated there and now I'll need to start over, but I guess that's
life.
</p>

<p><b>Kakurasu Solver</b></p>

<p>
I've written a solver for
<a href="http://www.brainbashers.com/kakurasu.asp">Kakurasu</a>
using <a href="http://lpsolve.sourceforge.net/">lp_solve</a> and its Python
bindings. I
<a href="http://www.mail-archive.com/python-il@hamakor.org.il/msg01093.html">asked
for a code review</a> on the Python-Israel mailing list, and got many comments,
which I've incorporated, and I think it's now ready for release.
</p>

<p><b>CPAN Smoking</b></p>

<p>
I've worked on setting a CPAN smoking environment on my Acer x86-64
laptop. I followed the instructions on
<a href="http://wiki.cpantesters.org/">the CPAN Testers Wiki</a> and
it went pretty straightforwardly. Then I started the smoking, but noticed
that Perl/Tk got stuck for a long time on its JP.t test. I'd like to find a
way to avoid it.
</p>

<p>
In the process, I tested the installation of my HTML-Widgets-NavMenu and noticed
it was still using Class-Accessor, so I converted it to
<a href="http://search.cpan.org/dist/Class-XSAccessor/">Class-XSAccessor</a>,
which should make it faster.
</p>

<p>
I also received and applied a patch for
<a href="http://search.cpan.org/dist/Config-IniFiles/">Config-IniFiles</a>,
which I've incorporated into its 2.59 release. I had to quickly release a
2.60 release because the patch caused one of the test files to fail if
IO::Scalar was not installed.
</p>

</div>



<div class="entry" id="tech-tips-kde-konqueror-detailed-and-dpi">

<!-- Tags: tech tip, tip, tech, kde, gnome, linux, open source, foss
-->

<h2>2010-11-20: Tech Tips: Fixing KDE and GNOME problems</h2>

<p>
These are a few assorted tech tips in my tech tips column. The first one is
about how to make sure KDE's
<a href="http://www.konqueror.org/">Konqueror</a> in file manager (or
Doplhin for that matter) will remember the state of its "Detailed" vs.
"Icons" view for particular folders. While there are many variables for
this equation, my problem in a particular place, was that I tried to do
it on a <a href="http://www.samba.org/">Samba SMB/CIFS share (a Windows-like
share)</a> that was mounted with permissions of 755 and under my UNIX
user-ID/group-ID (but still read-only) which fooled konqueror and dolphin to
believe it could write its settings there. Reconfiguring samba solved the
problem, though it seems like I found two bugs - one in Samba and the
other in KDE.
</p>

<p>
The second issue also required a lot of experimentation on my part to
solve. My problem was that some X.Org applications such as KDE's Konsole, XFCE's
Terminal and the IRC client <a href="http://xchat.org/">XChat</a> had
larger fonts on XFCE and IceWM, than on GNOME and KDE. After a lot of trial
and error with stracing the sessions, and moving away dot-directories and
dot-files, I realised the GNOME problem was caused by a stray problem
in ~/.gconf/ which moving that directory away solved it (one can solve it
more hermetically by getting rid of the offending configuration problem, but
I did not bother with it yet). The KDE problem persisted afterwards, but
was easier to fix: I <a href="http://betterthangrep.com/">ack</a>ed
~/.kde4/share/config for "dpi" and found <tt>share/config/kcmfonts</tt>
and a line in another file that set the dpi to a different value which I
fixed, and that made both the GNOME and KDE font size and DPIs (dots-per-inches)
to be the same as those of IceWM and XFCE. Now the relief has made me very
happy.
</p>

<p>
If you find these tips helpful, drop me a note at the comments below.
</p>

</div>


<div class="entry" id="module-format-initial-release">

<!-- Tags: perl, cpan, open, source, software, mandriva, linux
-->

<h2>2010-11-28: Introducing Module-Format</h2>

<p>
This weekend I worked on
<a href="http://www.shlomifish.org/open-source/projects/Module-Format/">Module-Format</a>,
a new CPAN distribution, and yesterday released version 0.0.1 of it to the
CPAN. In a nutshell, Module-Format allows one to convert strings representing
Perl modules (and their encapsulating distributions) to representation-netural
objects, and to render them into other formats of modules. To better
explain the motivation, let's start with a few use cases for this.
</p>

<p>
If you're working on Debian, Ubuntu or a derivative and would like to install
Perl distributions using apt-get, you can define the following shell function:
</p>

<pre>
up()
{
    apt-get -y install $(perlmf as_deb "$@")
}
</pre>

<p>
And then inovke it like <tt>up XML::RSS XML-LibXML DBIx/Class.pm</tt> (note
the inconsistency - perlmf handles all those formats for you), and it
will install them.
</p>

<p>
Similarly in Mandriva using urpmi you can use:
</p>

<pre>
up()
{
    urpmi --auto $(perlmf as_rpm_colon "$@")
}
</pre>

<p>
And then type the same command. (It will actually be better because urpmi
will fetch individual rpm provides modules such as <tt>perl(XML::RSS)</tt>
that may be contained in larger distributions).
</p>

<p>
Similarly to install stuff using cpan2dist, one can say something like:
</p>

<pre>
function c()
{
    cpan2dist --verbose --format=CPANPLUS::Dist::Mdv \
        --install --timeout 0 $(perlmf as_colon "$@")
}
</pre>

<p>
So this is what perlmf, which is the command-line program that ships with
Module-Format can do. Module-Format provides a more generic Perl-based
API for that, and replaces some ugly and ad-hoc shell functions that I defined
for that.
</p>

<p>
Module-Format is: 1. Free and open source software distributed under the
permissive MIT/X11 licence. and 2. Only dependent on core modules and
List::MoreUtils (a dependency which I'm planning to remove in a future
release). The source code is maintained in
<a href="http://bitbucket.org/shlomif/web-cpan">the web-cpan Mercurial
repository</a>, so feel free to contribute.
</p>

<p>
Happy module formatting.
</p>

</div>


<div class="entry" id="telaviv-pm-meeting-29-december-2010">

<!-- Tags: perl, events, israel, announcement
-->

<h2>2010-12-16: Tel Aviv Perl Mongers Meeting on 29-December-2010</h2>

<p>
The Tel Aviv Perl Mongers (part of
<a href="http://www.perl.org.il/">the Israeli Perl Mongers</a>) will meet on
29-December-2010 at
<a href="http://www.shenkar.ac.il/home/">Shenkar College</a>,
Anna Frank 12, Ramat Gan, room 323. The gathering is going to be at 18:30 and
the talks will start at 19:00.
</p>

<p>We are going to hear these talks:</p>

<p>
<b>Why Perl? (<a href="http://blogs.perl.org/users/sawyer_x/">Sawyer X</a>)</b>
</p>

<p>
A short talk on what makes Perl such a compelling language to learn and work
with, while focusing on Modern Perl and innovative technologies.
</p>

<p>
<b>What's new in Perl 5.10 and 5.12 (<a href="http://szabgab.com/">Gabor Szabo</a>)</b>
</p>

<p>
Find out what exciting features new versions of Perl offer.
</p>

<p><b>Read only state for fun and profit (<a href="http://blog.woobling.org/">Yuval Kogman)</a></b></p>

<p>
Even though Perl is highly optimised for modifying data in place, using read
only state can be very rewarding. What is immutability and when it should be
applied.
</p>

</div>


<div class="entry" id="accentuate-us">

<!-- Tags: perl, python, foss
-->

<h2>2010-12-17: Accentuate.us - a service for helping save human languages</h2>

<p>
I was requested to publicise this announcement.
</p>

<p>
<b>Are You the Right Type?</b>
</p>

<p>
As of today, about 7,000 languages are spoken in the world. More than 90% of
these are expected to disappear before year 2100, leaving a best case of only
700 languages. Language death is an irrevocable loss akin to animal or plant
extinctionit is the loss of a repository of culture, tradition, and world
view.
</p>

<p>
Nineteen-year-old entrepreneur Michael Schade, of Spearhead Development, has
teamed up with Dr. Kevin Scannell, of Saint Louis University, to revolutionize
computer input and help save endangered languages.
</p>

<p>
Due to inadequate keyboards, or clumsy input methods, speakers of hundreds of
languages often simply leave out the accents and other special characters when
typing, which leads to ambiguities and confusion. We believe strongly that
speakers of all languages have the right to type their languages quickly,
easily, and correctly.
</p>

<p>
We are proud to announce the free and open-source
<a href="http://accentuate.us/">Accentuate.us</a>, a new method
of input for over 100 languages that uses statistical reasoning so that users
can type effortlessly in plain ASCII while ultimately producing accurate text.
This allows Vietnamese users, for example, to simply type Moi nguoi deu co
quyen tu do ngon luan va bay to quan diem, which will be automatically
corrected to Mi ngi u c quyn t do ngn lun v by t quan im after
Accentuation.
</p>

<p>
To date, we support four clients: Mozilla Firefox, Perl, Python, and Vim, with
more to be added shortly.
</p>

<p>
Mozilla Firefox - Available today at <a href="http://accentuate.us/get/firefox">http://accentuate.us/get/firefox</a> through
Mozilla AMO, the Firefox add-on brings the power of the Accentuate.us service
to anywhere on the web: blogs, web mail, social networking, and anywhere else
where users input text. Please check out the short demonstration video at
<a href="http://accentuate.us/help">http://accentuate.us/help</a>.
</p>

<p>
Perl and Python - The Perl and Python clients available on
http://accentuate.us/
are command-line utilities that work either with argument flags or through
stdin. This versatility has proven powerful, allowing Accentuate.us to be
easily integrated into any program that can operate through such inputs, such
as vim.
</p>

<p>
Vim Provided by Bill Odom, co-founder of vim-geeks and previous President of
The Perl Foundation, and available today on http://accentuate.us/, the vim
plugin implements user-customizable maps to Accentuate over visual, motions,
and ranges. It harnesses the Perl or Python clients, exemplifying just how easy
it is to plug in to the Accentuate.us API.
</p>

<p>
Plans are currently underway for extending the Accentuate.us service, including
enhancements to the Firefox add-on and support for all 114 languages.  Support
is needed especially for African languages, many of which use special
characters. There are, for example, over a million words of Lingla on the web:
blogs, news articles, Wikipedia entries, etc., but well over 95% of this
content is typed in plain ASCII, despite the fact that the standard spelling
system makes heavy use of diacritics to mark tone and special open vowels
such as  and .
</p>

<p>
We appreciate any assistance that we receive to improve service and keep it
free, including translating the interface, hosting a server, or donating to
help us maintain existing servers. Find out how to help at
<a href="http://accentuate.us/contributing">http://accentuate.us/contributing</a>.
</p>

</div>


<div class="entry" id="reminder-telaviv-pm-meeting-29-december-2010">

<h2>2010-12-26: Reminder: Tel Aviv Perl Mongers Meeting This Wednesday</h2>

<!-- Tags: perl, events, israel, announcement
-->

<p>
This is a reminder that the Tel Aviv Perl Mongers will meet this Wednesday
(29-Decebmer-2010).
</p>

<p>
The Tel Aviv Perl Mongers (part of
<a href="http://www.perl.org.il/">the Israeli Perl Mongers</a>) will meet on
29-December-2010 at
<a href="http://www.shenkar.ac.il/home/">Shenkar College</a>,
Anna Frank 12, Ramat Gan, room 323. The gathering is going to be at 18:30 and
the talks will start at 19:00.
</p>

<p>We are going to hear these talks:</p>

<p>
<b>Why Perl? (<a href="http://blogs.perl.org/users/sawyer_x/">Sawyer X</a>)</b>
</p>

<p>
A short talk on what makes Perl such a compelling language to learn and work
with, while focusing on Modern Perl and innovative technologies.
</p>

<p>
<b>What's new in Perl 5.10 and 5.12 (<a href="http://szabgab.com/">Gabor Szabo</a>)</b>
</p>

<p>
Find out what exciting features new versions of Perl offer.
</p>

<p><b>Read only state for fun and profit (<a href="http://blog.woobling.org/">Yuval Kogman)</a></b></p>

<p>
Even though Perl is highly optimised for modifying data in place, using read
only state can be very rewarding. What is immutability and when it should be
applied.
</p>

</div>


<div class="entry" id="fcs-c-pointer-comparison-gotcha">

<!-- Tags: c, programming, tip, tech, tech tip
-->

<h2>2010-12-29: C Pointer Comparison Gotcha</h2>

<p>
Some days ago I integrated a new BSD-licensed balanced binary tree, based
on <a href="http://www.kylheku.com/~kaz/kazlib.html">the red-black
tree of kazlib</a> into <a
href="http://fc-solve.berlios.de/">Freecell Solver</a> (fc-solve) and ported two
of its collections to it. I've written a comparator function for it and
asked my IRC pal Amadiro to test the new fc-solve with some memory
optimisations on one of his University's HPC machines which he had access to.
However, it crashed pretty quickly.
</p>

<p>
I was able to reproduce a similar crash on my x86-64 laptop, and tried to
investigate it. Then it hit me, because the comparator callback was this:
</p>

<pre>
extern int fc_solve_compare_lru_cache_keys(
    const void * void_a, const void * void_b, void * context
)
{
#define GET_PARAM(p) ((unsigned long) \
    ((const fcs_cache_key_info_t *)(p))-&gt;val_ptr)
    return GET_PARAM(void_a) - GET_PARAM(void_b);
}
</pre>

<p>
Do you see the problem? Subtracting two <b>unsigned</b> longs will always yield
a non-negative value, which will yield the comparison void. I considered
several alternatives to this including using longs instead of unsigned longs
(which will still be a problems on platforms where long is less than the
pointer size), or subtracting <tt>const char *</tt> (which may overflow
the <tt>int</tt> return) and eventually opted for
the safest version of:
</p>

<pre>
typedef const char * fcs_lru_side_t;

extern int fc_solve_compare_lru_cache_keys(
    const void * void_a, const void * void_b, void * context
)
{
#define GET_PARAM(p) ((fcs_lru_side_t) \
    (((const fcs_cache_key_info_t *)(p))-&gt;val_ptr))
    fcs_lru_side_t a, b;

    a = GET_PARAM(void_a);
    b = GET_PARAM(void_b);

    return ((a &gt; b) ? 1 : (a &gt; b) ? (-1) : 0);
#undef GET_PARAM
}

</pre>

<p>
This way I'm sure that the comparison works correctly, and indeed after that
Freecell Solver ran fine on the HPC machine, and would have appeared to
scale to up to 600 million positions within 64 GigaBytes instead of the previous
400 million positions.
</p>

<p>
If you're a sucker for pretty graphs, you may wish to inspect
<a href="http://svn.berlios.de/svnroot/repos/fc-solve/trunk/fc-solve/docs/fc-solve-rcs-mem-consumption.ods">the
OpenDocument spreadsheet (.ods)</a> of the memory consumption of the solver,
though the data is quite estimative.
</p>

</div>


<div class="entry" id="report-on-telaviv.pm-meeting-of-29-Dec-2010">

<!-- Tags: perl, programming, events, israel
-->

<h2>2011-01-02: Report on the Tel Aviv Perl Mongers Meeting</h2>

<p>
This is a report on the latest <a href="http://telaviv.pm.org/">Tel Aviv
Perl Mongers</a> meeting. During that day, I woke up relatively early (07:00
or so as far as I can recall), and did not go to bed before night time so I was
a little tired later on. Before the meeting, I spent some time trying to get
<a href="http://www.bit-blot.com/aquaria/">the game Aquaria</a>, which
I got as part of the 2nd Humble Indie Bundle  to work properly on my Linux
system, unsuccessfully. (A more recent update is that
<a href="http://bugzilla.icculus.org/show_bug.cgi?id=4865">someone
eventually helped me after I filed a bug report</a>, and now I am able to
play the game nicely.). This delayed me a little, and I left relatively late
to the meeting.
</p>

<p>
After I arrived to Shenkar, I met <a href="http://idkn.wordpress.com/">Ido</a>
and a friend of his, and guided them to the room, which was different than
the one where the Tel Aviv Open source used to meet. We met some people there,
including Sawyer and I decided to go to the nearest kiosk and buy some snacks.
I bought some chocolate chip cookies, Doritos and a chocolate and hazelnut
treat and returned with still a lot of time before the lectures started.
</p>

<p>
In the meantime, other people arrived there, and we talked about how to get
more people to contribute, about making use of CPAN modules in projects
and about which versions of Perl are used in the enterprise. Then the talks
began.
</p>

<p>
<a href="http://blogs.perl.org/users/sawyer_x/">Sawyer X</a>
gave an entertaining presentation titled "Why Perl?" with several jokes in
between that got the audience to burst into laughter. He mentioned
<a href="http://wiki.theory.org/YourLanguageSucks">this page titled
"Your language sucks"</a> where several of Perl 5's shortcomings are mentioned
(along with other languages), and concluded with bad things about Perl,
like the fact that it makes you lazy, and that you can't stand programming
in other languages. He also mentioned there several ways to start with Perl,
but I was disappointed that he did not mention
<a href="http://perl-begin.org/">the Perl Beginners' Site (Perl-Begin)</a>.
</p>

<p>
After that, <a href="http://szabgab.com/">Gabor</a> came and talked about
what's new in perl-5.10.x and perl-5.12.x. He covered most bases and then
when he got to perl-5.12.x's
<tt>while (my ($index, $value) = each(@array))</tt> I asked
him if there was also <tt>keys(@array)</tt> and he said he doesn't know.
Today I tried it out and there is indeed <tt>keys(@array)</tt>:
</p>

<pre>
shlomif:~$ perl -E 'my @a=(50 .. 60); say join(",",keys(@a));'
0,1,2,3,4,5,6,7,8,9,10
</pre>

<p>
There's also <tt>values(@array)</tt>, but it's likely the same as "@array".
There are many small and large improvements in perl-5.10.x and 5.12.x and he
mentioned that the perl5-porters are now switching to a yearly release cycle,
which will make improvements materialise in production more rapidly.
</p>

<p>
After that, Ilan did a round of introductions where every person introduced
themselves and said which languages or technologies they work with and
why they came to the meeting. It was entertaining.
</p>

<p>
Then came <a href="http://blog.woobling.org/">Yuval</a>'s presentation
about "immutable state for Perl". He spent a short time explaining what is
mutable state, and that if we want to create a modified object, we need
to clone it with different constructor arguments. He spent the rest of
the time touting some of the advantages of immutable state, like easier
distributed NoSQL storage due to lack of cache invalidation, and he described
how he handled a problem in KiokuDB by creating a buffer for it, and also
focused on a recent problem we had at my (and previously his) work for
<a href="http://reask.com/">Reask</a> where HTML::FormHandler misbehaved due
to modified state after reset, and we were unable to resolve it and had to
switch to a different form generator (HTML::FormFu).
</p>

<p>
Some people with whom I talked felt this presentation was a little bit
abstract and "floating in the air" and I tend to agree, but I still enjoyed
most of it.
</p>

<p>
I left shortly after that presentation because I was tired (as I had woken
up early that day) but based on
<a href="http://blogs.perl.org/users/sawyer_x/2010/12/yesterdays-telavivpm-meeting.html">Sawyer's
post</a>, some people went to dinner afterwards and had a good time. I walked
with <a href="http://www.mksoft.co.il/">mksoft</a> to the bus station
and talked about games in Linux and the Humble Indie Bundle 2 which we both
had bought. Then a suitable bus had arrived and I took it home.
</p>

<p>
To sum up, I had a great time, about 20 people came, which meant the meeting
was a success, and I'm looking forward for the future meetings. Meeting at
Ramat Gan is much more convenient for me than the Rehovot meetings and I met
some people I didn't see in Rehovot like
<a href="http://search.cpan.org/~eilara/">Ran</a>, who also gave me some money
in exchange for the refreshments I bought (Thanks!). I'm looking forward for
the next meetings and thanks to all the people who had organised and publicised
it.
</p>

</div>

<div class="entry" id="telaviv-pm-meeting-26-january-2011">

<!-- Tags: perl, events, israel, announcement, web
-->

<h2>2010-12-16: Tel Aviv Perl Mongers Meeting on 26-January-2011</h2>

<p>
The <a href="http://telaviv.pm.org/">Tel Aviv Perl Mongers</a> (part of
<a href="http://www.perl.org.il/">the Israeli Perl Mongers</a>) will meet on
Wednesday, 26-January-2011 at
<a href="http://www.shenkar.ac.il/home/">Shenkar College</a>,
Anna Frank 12, Ramat Gan, room 323. The gathering is going to be at 18:30 and
the talks will start at 19:00.
</p>

<p>
This meeting will try to focus on web development and will (as any meeting)
include both beginner talks and intermediate ones.
We will also start a tradition of exhibition! Module exhibition, that is.
Pick a module you want to exhibit and take 5 minutes to talk about it.
If you want to exhibit a module, you can talk to me privately (if you need a
laptop, or funny hats) or you can just step up in between talks.
</p>

<p>We are going to hear these talks:</p>

<p>
<b>What the hell is web development? (<a href="http://blogs.perl.org/users/sawyer_x/">Sawyer X</a>)</b>
</p>

<p>
A nice, easy, hopefully interesting, understandable introduction to web
development.
</p>

<p>
<b>The web stack (Ilan Arad)</b>
</p>

<p>
A hands-on, discussion-oriented talk on advanced understanding of the web
stack, from server-side to client-side.
(advanced talk)
</p>

<p>
As always, there are a few good reasons to come to the Perl Mongers
meetings:
</p>

<ul>
<li>Meeting more geek-minded people like yourself</li>
<li>Learning new stuff, if you're a beginner</li>
<li>Learning new stuff, if you're advanced</li>
<li>Shlomi brings snacks!</li>
<li>Laughs, jokes, fun, and anything else we can fake! :)</li>
</ul>

<p>
Please feel free (and do) invite anyone you want!
</p>

</div>


<div class="entry" id="update-2011-01-29">

<!-- Tags: recent, hacktivity, perl, cpan, kde
-->

<h2>2011-01-29: Update and Recenty Hacktivity-ish Post</h2>

<p>
Well, I'm still alive and kicking, so I decided to put a small update about
what I have been up to.
</p>

<p>
First of all, I attended the <a href="http://worldtour.fogcreek.com/">FogBugz
and Kiln World Tour</a>, which I did in order to see
<a href="http://www.joelonsoftware.com/">Joel "on Software" Spolsky</a> speak,
and was otherwise a blast. In the second part, they gave several good reasons
for why Mercurial and git are better than Subversion, and the demo of
FogBugz was also instructive, but seems like it contains many features that
won't be useful in my daily work as an open-source developer. They also said
that the reasons they prefered Mercurial over git were because it had a
somewhat friendlier command names (which are more familiar to people coming
from Subversion and CVS) and because it worked better on Windows, and the git
people were hostile towards fixing the bugs that git exhibited on Windows.
Otherwise, they said that git was a fine distributed version control system.
</p>

<p>
I also attended the latest <a href="http://telaviv.pm.org/">Tel Aviv Perl
Mongers</a> meeting, which was nice, and this time stayed for the after-party
dinner. I'd like to give a more detailed report about it later.
</p>

<p>
I'd like to announce that, in case you have not heard about it,
<a href="http://www.kde.org/announcements/4.6/">KDE 4.6.0 is out.</a>. It
has many big and small improvements, including some speed boosts, and runs
like a dream on my Mandriva Linux Cooker system (though Amarok got broken
with the upgrade to MySQL-5.5.x). Here is also
<a href="http://www.osnews.com/story/24333/KDE_4_6_0_Released">the
OSNews.com coverage</a> and
<a href="http://tech.slashdot.org/story/11/01/27/2327228/KDE-Software-Compilation-460-Released">Slashdot.org
coverage</a>). I should also note that I've recently downloaded and installed
the Amarok 2.x for Windows distribution and it ran very fine there, but
as opposed to Linux could not play the video files I tried at all.
</p>

<p>
After some length attempts to contact the originator of the
<a href="http://search.cpan.org/dist/Text-Format/">Text-Format CPAN module</a>,
I was finally given a comaint status and I uploaded Text-Format-0.53 to
CPAN, its first release since 1998, and the first one that contains a dash
before the version digits (a small difference, but it confuses some packaging
systems). There's still some work to do there, but I haven't forgotten it.
</p>

<p>
Also in CPAN-land, I've uploaded a new version of
<a href="http://search.cpan.org/dist/Config-IniFiles/">Config-IniFiles</a>,
which contains a patch I applied from Peter Xu, who asked me to be his mentor
in his first steps in contributing to open-source. I've expressed my
<a href="http://www.shlomifish.org/open-source/mentoring/">willingness
to be a FOSS mentor</a> for some time now and several people contacted
me about it, but this is the first time that a code contribution came out of
it, and I'm happy with Peter's patch. I guess good things come to those who
wait.
</p>

<p>
I've recently started reading
<a href="http://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530">Kent Beck's "Test Driven Development: By Example"</a>, which I can recommend
so far, and also been working on some other open-source projects which I'd
rather not tell too much about now.
</p>

<p>
Hope you are also doing fine, wherever you are and happy hacking.
</p>

</div>

<script type="text/javascript"> $("div[id]").each(function(i){ $(this).prepend(
' <span class="selfl">[<a href="#' + this.id + '">link</a>]</span>' ) })
</script>

